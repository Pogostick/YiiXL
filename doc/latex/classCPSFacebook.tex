\hypertarget{classCPSFacebook}{
\section{CPSFacebook Class Reference}
\label{classCPSFacebook}\index{CPSFacebook@{CPSFacebook}}
}


Inheritance diagram for CPSFacebook:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=186pt]{classCPSFacebook__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for CPSFacebook:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=186pt]{classCPSFacebook__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classCPSFacebook_a3686abfe34c828287edc1d6a8f77367d}{getAppId} ()
\item 
\hyperlink{classCPSFacebook_a5d184a71ba30a0fedb1006f15df66177}{setAppId} (\$newValue)
\item 
\hyperlink{classCPSFacebook_a36da26e368f80dfa10ab2fcedde8b12b}{getAppName} ()
\item 
\hyperlink{classCPSFacebook_ad9727261836418005a302bf42802a84f}{setAppName} (\$newValue)
\item 
\hyperlink{classCPSFacebook_aec474172017ccece67a1c46e1a5a3460}{getAppUrl} ()
\item 
\hyperlink{classCPSFacebook_ab759f3978697fbd0d6de43c959c69664}{setAppUrl} (\$newValue)
\item 
\hyperlink{classCPSFacebook_a9784c3b68605f689b41f10aa28fffcca}{getAppPermissions} ()
\item 
\hyperlink{classCPSFacebook_a466f4d1985a506c8e3be3d9929e4111e}{setAppPermissions} (\$newValue)
\item 
\hyperlink{classCPSFacebook_afdd5b6b54737f556694975ca3d93d773}{getApiKey} ()
\item 
\hyperlink{classCPSFacebook_a5459ba27b6f139cf3f10bab4aec9b6e4}{setApiKey} (\$newValue)
\item 
\hyperlink{classCPSFacebook_ac01814ac1bd26175f55f538e3a4752cc}{getApiSecretKey} ()
\item 
\hyperlink{classCPSFacebook_a8b556659e1d182ba42b528f47f1f217c}{setApiSecretKey} (\$newValue)
\item 
\hyperlink{classCPSFacebook_aca0af56a33a1d36ef2c9c3283d842d9c}{getApiCallbackUrl} ()
\item 
\hyperlink{classCPSFacebook_aecbe7fa989ff4870e8284982d2b4908b}{setApiCallbackUrl} (\$newValue)
\item 
\hyperlink{classCPSFacebook_abd67157f9e772183733ad7a9112c822b}{getSessionLoaded} ()
\item 
\hyperlink{classCPSFacebook_ad4202dd31fb79a9d1e1f4031fffd8623}{setSessionLoaded} (\$newValue)
\item 
\hyperlink{classCPSFacebook_aa89cc38937ab8f8f132f3712c49c6e37}{getSignedRequest} ()
\item 
\hyperlink{classCPSFacebook_a0d55959bc29df7526c0dfcd1c87e750d}{setSignedRequest} (\$newValue)
\item 
\hyperlink{classCPSFacebook_ab002401bbd20f1d945afc24377102294}{getEnableCookieSupport} ()
\item 
\hyperlink{classCPSFacebook_a38dc6e2f0ac551d3ec16ab03fa9d725b}{setEnableCookieSupport} (\$newValue)
\item 
\hyperlink{classCPSFacebook_ab0b9668fe081b3b7eb36307bcb7688e8}{getBaseDomain} ()
\item 
\hyperlink{classCPSFacebook_a5438481a4c2c43b1ccf2dc5c8de9b7b7}{setbaseDomain} (\$newValue)
\item 
\hyperlink{classCPSFacebook_a11a2fe55342959e85616440f6287f24a}{getFileUploadSupport} ()
\item 
\hyperlink{classCPSFacebook_af19c4491f0d526c7b4194ca9217fc966}{setFileUploadSupport} (\$newValue)
\item 
\hyperlink{classCPSFacebook_af338297425aef1a6322e4f096b0b8a34}{getRedirectToLoginUrl} ()
\item 
\hyperlink{classCPSFacebook_a38575b53e5d51921b89d693e88bacaa9}{setRedirectToLoginUrl} (\$newValue)
\item 
\hyperlink{classCPSFacebook_af7f9493844d2d66e924e3c1df51ce616}{\_\-\_\-construct} (\$\hyperlink{events_8php_a3f176ffce3afa63656bfc989470e3e24}{config}=\hyperlink{list_8php_aa3205d038c7f8feb5c9f01ac4dfadc88}{array}())
\item 
\hyperlink{classCPSFacebook_a4be4055f3361d4800e16bc2e2e38cda6}{init} ()
\item 
\hyperlink{classCPSFacebook_a421831a265621325e1fdd19aace0c758}{\_\-\_\-destruct} ()
\item 
\hyperlink{classCPSFacebook_a83fd4ea8255385abd72c27a762691e2d}{setSession} (\$session=null, \$writeCookie=true)
\item 
\hyperlink{classCPSFacebook_aefa4c5bd150e2a7d525576d7959c6911}{getSession} ()
\item 
\hyperlink{classCPSFacebook_ae81b7186fb97a7c6457edcc68c9aa2ef}{getUser} ()
\item 
\hyperlink{classCPSFacebook_a5d251c70a3f9f9daaff7f00ec5f894c0}{getAccessToken} ()
\item 
\hyperlink{classCPSFacebook_a3fc2a3b447d666e9f8607da999a1ea2d}{getLoginUrl} (\$paramList=\hyperlink{list_8php_aa3205d038c7f8feb5c9f01ac4dfadc88}{array}())
\item 
\hyperlink{classCPSFacebook_ade0c69c82aebca82fd8bd98ad74439f2}{getLogoutUrl} (\$paramList=\hyperlink{list_8php_aa3205d038c7f8feb5c9f01ac4dfadc88}{array}())
\item 
\hyperlink{classCPSFacebook_ac6277cff127391498ddceffc115a6f94}{getLoginStatusUrl} (\$paramList=\hyperlink{list_8php_aa3205d038c7f8feb5c9f01ac4dfadc88}{array}())
\item 
\hyperlink{classCPSFacebook_aa238fcc5cb30759876aa89cd2e0711c1}{api} ()
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classCPSFacebook_ab3989d2377763fb40cb29086ef272f6e}{getPhotoList} ()
\item 
static \hyperlink{classCPSFacebook_ad35e44440b0eff84cccdfd1db697c639}{setPhotoList} (\$\_\-value)
\end{DoxyCompactItemize}
\subsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
const \hyperlink{classCPSFacebook_af71005841ce53adac00581ab0ba24c1f}{VERSION} = '2.1.2'
\item 
const \hyperlink{classCPSFacebook_aad50057168703fbd6bcab2c2c6e4d628}{USER\_\-AGENT} = 'pYe-\/facebook-\/php-\/2.1.2'
\item 
const \hyperlink{classCPSFacebook_afba99abd768bc1f4376bbd82d153d50b}{PHOTO\_\-CACHE} = '\_\-photoListCache'
\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classCPSFacebook_a386bcc77c2c57c89359cc7632ac521ad}{\$\_\-CURL\_\-OPTS}
\item 
static \hyperlink{classCPSFacebook_af39417a7550a728b1f3486fd0a9d3f55}{\$\_\-DOMAIN\_\-MAP}
\item 
static \hyperlink{classCPSFacebook_a7e2b66c375158928ec4cfa9de801ac0b}{\$\_\-photoList} = null
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classCPSFacebook_a69c13b5e61215433a48b9a6742f16660}{\_\-getSessionCookieName} ()
\item 
\hyperlink{classCPSFacebook_a896336f5000bed98a0e59b3b38b8b8e1}{\_\-restserver} (\$paramList)
\item 
\hyperlink{classCPSFacebook_a3fc1ae91766eca08b5a6fc48a6c6ebe2}{\_\-graph} (\$path, \$method= 'GET', \$paramList=\hyperlink{list_8php_aa3205d038c7f8feb5c9f01ac4dfadc88}{array}())
\item 
\hyperlink{classCPSFacebook_a0519e81c281afecdca2d58dd75d164f0}{\_\-oauthRequest} (\$url, \$paramList)
\item 
\hyperlink{classCPSFacebook_ae101534735ff109fc2b6ce694033e42e}{\_\-makeRequest} (\$url, \$paramList, \$curl=null)
\item 
\hyperlink{classCPSFacebook_a818b7c88630a9f0a6318aecb55160c38}{\_\-setCookieFromSession} (\$session=null)
\item 
\hyperlink{classCPSFacebook_a7dd3fb0ddff204e195f91b8719104a61}{\_\-validateSessionObject} (\$session)
\item 
\hyperlink{classCPSFacebook_ad095f729036d48a23d321839f3ea7853}{\_\-createSessionFromSignedRequest} (\$data)
\item 
\hyperlink{classCPSFacebook_a2b963de2da5e5d03684f94c360f948ea}{\_\-parseSignedRequest} (\$\_\-signedRequest)
\item 
\hyperlink{classCPSFacebook_a0e0a4234900c6b099259f0fc0ab65a67}{\_\-getApiUrl} (\$method)
\item 
\hyperlink{classCPSFacebook_a719203fb2a7e839997705e75e0bcc9a1}{\_\-getUrl} (\$name, \$path=null, \$paramList=\hyperlink{list_8php_aa3205d038c7f8feb5c9f01ac4dfadc88}{array}())
\item 
\hyperlink{classCPSFacebook_a1d2b68391ad44fe79ecef5ecd09feec3}{\_\-getCurrentUrl} ()
\end{DoxyCompactItemize}
\subsection*{Static Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classCPSFacebook_a9a1bb3c0a4009df8453e84cb39506723}{\_\-generateSignature} (\$paramList, \$\_\-secretKey)
\item 
static \hyperlink{classCPSFacebook_a7cc54c00b8b799176e515bd2d26a6868}{\_\-base64UrlDecode} (\$source)
\item 
static \hyperlink{classCPSFacebook_ad8d438fe02fb781abe815fd5972795ff}{\_\-getUnsignedSession} ()
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classCPSFacebook_a26f5b0452f151ceda4f18979a5eb1058}{\$\_\-appId}
\item 
\hyperlink{classCPSFacebook_ab1025f24b9ab01061327e23b10552116}{\$\_\-appName}
\item 
\hyperlink{classCPSFacebook_a4416500680a7b92e95184727c36eec91}{\$\_\-appUrl}
\item 
\hyperlink{classCPSFacebook_a6adcddc9592544d2e65aed888e2bfdfa}{\$\_\-appPermissions} = 'publish\_\-stream'
\item 
\hyperlink{classCPSFacebook_a30d859488ed1921f08a7e8191363d9a4}{\$\_\-apiKey}
\item 
\hyperlink{classCPSFacebook_ae5bcbc03d954a2feca80ddd77054501d}{\$\_\-apiSecretKey}
\item 
\hyperlink{classCPSFacebook_a98f1263247e46ae35ef0b714c702d0bd}{\$\_\-apiCallbackUrl}
\item 
\hyperlink{classCPSFacebook_aee8e9816087942dab4fb8bd62f413cd6}{\$\_\-sessionLoaded} = false
\item 
\hyperlink{classCPSFacebook_a6b432430b58baf6351a7507208363d80}{\$\_\-signedRequest}
\item 
\hyperlink{classCPSFacebook_a6302bfba02d83c085b22d2aea1fc3bd6}{\$\_\-enableCookieSupport} = false
\item 
\hyperlink{classCPSFacebook_ac054a508d06da60c6ffc3aab3fd7b3e7}{\$\_\-baseDomain} = ''
\item 
\hyperlink{classCPSFacebook_a851bf23affeafd6281b06ff919d23a7f}{\$\_\-fileUploadSupport} = false
\item 
\hyperlink{classCPSFacebook_a26d05a26685e4c898e34328911b708d3}{\$\_\-redirectToLoginUrl} = true
\item 
\hyperlink{classCPSFacebook_ad0641deaf4d314f034a134efaa6fbff0}{\$\_\-session}
\end{DoxyCompactItemize}
\subsection*{Static Protected Attributes}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classCPSFacebook_aced13da18a88b032dcdbe41db9c09ed3}{\$\_\-DROP\_\-QUERY\_\-PARAMS}
\item 
static \hyperlink{classCPSFacebook_ae5e971be39413de8adc0e47624dbee86}{\$READ\_\-ONLY\_\-CALLS}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 29 of file CPSFacebook.php.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classCPSFacebook_af7f9493844d2d66e924e3c1df51ce616}{
\index{CPSFacebook@{CPSFacebook}!\_\-\_\-construct@{\_\-\_\-construct}}
\index{\_\-\_\-construct@{\_\-\_\-construct}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\_\-\_\-construct}]{\setlength{\rightskip}{0pt plus 5cm}\_\-\_\-construct (
\begin{DoxyParamCaption}
\item[{\$}]{ config = {\ttfamily {\bf array}()}}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_af7f9493844d2d66e924e3c1df51ce616}
Initialize a Facebook Application.

The configuration:
\begin{DoxyItemize}
\item appId: the application ID
\item secret: the application secret
\item cookie: (optional) boolean true to enable cookie support
\item domain: (optional) domain for the cookie
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
\item[{\em array}]\$config the application configuration \end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
\item[{\em \hyperlink{classCPSFacebookApiException}{CPSFacebookApiException}}]\end{DoxyExceptions}


Reimplemented from \hyperlink{classCPSComponent_af7f9493844d2d66e924e3c1df51ce616}{CPSComponent}.



Definition at line 276 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        if ( ! function_exists( 'curl_init' ) )
            throw new CHttpException( 405, 'This class requires the CURL PHP exte
      nsion.' );

        if ( ! function_exists( 'json_decode' ) )
            throw new CHttpException( 405, 'This class requires the JSON PHP exte
      nsion.' );

        $this->_appId = PS::o( $config, 'appId' );
        $this->_apiSecretKey = PS::o( $config, 'secret' );
        $this->_enableCookieSupport = PS::o( $config, 'cookie', false );
        $this->_baseDomain = PS::o( $config, 'domain', '' );
        $this->_fileUploadSupport = PS::o( $config, 'fileUploadSupport', false );
      
    }
\end{DoxyCode}


\hypertarget{classCPSFacebook_a421831a265621325e1fdd19aace0c758}{
\index{CPSFacebook@{CPSFacebook}!\_\-\_\-destruct@{\_\-\_\-destruct}}
\index{\_\-\_\-destruct@{\_\-\_\-destruct}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\_\-\_\-destruct}]{\setlength{\rightskip}{0pt plus 5cm}\_\-\_\-destruct (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_a421831a265621325e1fdd19aace0c758}
Put it in the cache.. 

Definition at line 303 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        if ( ! empty( self::$_photoList ) )
            PS::_ss( self::PHOTO_CACHE, self::$_photoList );
    }
\end{DoxyCode}




\subsection{Member Function Documentation}
\hypertarget{classCPSFacebook_a7cc54c00b8b799176e515bd2d26a6868}{
\index{CPSFacebook@{CPSFacebook}!\_\-base64UrlDecode@{\_\-base64UrlDecode}}
\index{\_\-base64UrlDecode@{\_\-base64UrlDecode}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\_\-base64UrlDecode}]{\setlength{\rightskip}{0pt plus 5cm}static \_\-base64UrlDecode (
\begin{DoxyParamCaption}
\item[{\$}]{ source}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static, protected\mbox{]}}}}
\label{classCPSFacebook_a7cc54c00b8b799176e515bd2d26a6868}
Base64 encoding that doesn't need to be urlencode()ed. Exactly the same as base64\_\-encode except it uses
\begin{DoxyItemize}
\item instead of + \_\- instead of /
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
\item[{\em string}]base64 encoded string \end{DoxyParams}


Definition at line 937 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        return base64_decode( strtr( $source, '-_', '+/' ) );
    }
\end{DoxyCode}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_a7cc54c00b8b799176e515bd2d26a6868_icgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_ad095f729036d48a23d321839f3ea7853}{
\index{CPSFacebook@{CPSFacebook}!\_\-createSessionFromSignedRequest@{\_\-createSessionFromSignedRequest}}
\index{\_\-createSessionFromSignedRequest@{\_\-createSessionFromSignedRequest}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\_\-createSessionFromSignedRequest}]{\setlength{\rightskip}{0pt plus 5cm}\_\-createSessionFromSignedRequest (
\begin{DoxyParamCaption}
\item[{\$}]{ data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_ad095f729036d48a23d321839f3ea7853}
Returns something that looks like a JS session object from the signed token's data


\begin{DoxyParams}{Parameters}
\item[{\em Array}]the output of getSignedRequest \end{DoxyParams}
\begin{DoxyReturn}{Returns}
Array Something that will work as a session : Nuke this once the login flow uses OAuth2 
\end{DoxyReturn}


Definition at line 765 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        if ( ! PS::o( $data, 'oauth_token' ) )
            return null;

        $_session = array(
            'uid' => PS::o( $data, 'user_id' ),
            'access_token' => PS::o( $data, 'oauth_token' ),
            'expires' => PS::o( $data, 'expires' ),
        );

        //  Put a real sig, so that validateSignature works
        $_session['sig'] = self::_generateSignature(
            $_session,
            $this->_apiSecretKey
        );

        return $_session;
    }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_ad095f729036d48a23d321839f3ea7853_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_ad095f729036d48a23d321839f3ea7853_icgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_a9a1bb3c0a4009df8453e84cb39506723}{
\index{CPSFacebook@{CPSFacebook}!\_\-generateSignature@{\_\-generateSignature}}
\index{\_\-generateSignature@{\_\-generateSignature}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\_\-generateSignature}]{\setlength{\rightskip}{0pt plus 5cm}static \_\-generateSignature (
\begin{DoxyParamCaption}
\item[{\$}]{ paramList, }
\item[{\$}]{ \_\-secretKey}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static, protected\mbox{]}}}}
\label{classCPSFacebook_a9a1bb3c0a4009df8453e84cb39506723}
Generate a signature for the given params and secret.


\begin{DoxyParams}{Parameters}
\item[{\em array}]\$paramList the parameters to sign \item[{\em string}]\$\_\-secretKey the secret to sign with \end{DoxyParams}
\begin{DoxyReturn}{Returns}
string the generated signature 
\end{DoxyReturn}


Definition at line 913 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        //  Work with sorted data
        ksort( $paramList );

        //  Generate the base string
        $_baseString = '';

        foreach ( $paramList as $_key => $_value )
            $_baseString .= $_key . '=' . $_value;

        $_baseString .= $_secretKey;

        return md5( $_baseString );
    }
\end{DoxyCode}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_a9a1bb3c0a4009df8453e84cb39506723_icgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_a0e0a4234900c6b099259f0fc0ab65a67}{
\index{CPSFacebook@{CPSFacebook}!\_\-getApiUrl@{\_\-getApiUrl}}
\index{\_\-getApiUrl@{\_\-getApiUrl}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\_\-getApiUrl}]{\setlength{\rightskip}{0pt plus 5cm}\_\-getApiUrl (
\begin{DoxyParamCaption}
\item[{\$}]{ method}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_a0e0a4234900c6b099259f0fc0ab65a67}
Build the URL for api given parameters.


\begin{DoxyParams}{Parameters}
\item[{\em \$method}]string the method name. \end{DoxyParams}
\begin{DoxyReturn}{Returns}
string the URL for the given parameters 
\end{DoxyReturn}


Definition at line 836 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        $_name = 'api';

        if ( PS::o( $READ_ONLY_CALLS, strtolower( $method ) ) )
            $_name = 'api_read';

        return self::_getUrl( $_name, 'restserver.php' );
    }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=234pt]{classCPSFacebook_a0e0a4234900c6b099259f0fc0ab65a67_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=322pt]{classCPSFacebook_a0e0a4234900c6b099259f0fc0ab65a67_icgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_a1d2b68391ad44fe79ecef5ecd09feec3}{
\index{CPSFacebook@{CPSFacebook}!\_\-getCurrentUrl@{\_\-getCurrentUrl}}
\index{\_\-getCurrentUrl@{\_\-getCurrentUrl}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\_\-getCurrentUrl}]{\setlength{\rightskip}{0pt plus 5cm}\_\-getCurrentUrl (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_a1d2b68391ad44fe79ecef5ecd09feec3}
Returns the Current URL, stripping it of known FB parameters that should not persist.

\begin{DoxyReturn}{Returns}
string the current URL 
\end{DoxyReturn}


Definition at line 877 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        $_proto = PS::o( $_SERVER, 'HTTPS' ) == 'on' ? 'https://' : 'http://';
        $_currentUrl = $_proto . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI'];
      
        $_parts = parse_url( $_currentUrl );

        //  Drop known fb params
        $_query = null;

        if ( ! empty( $_parts['query'] ) )
        {
            $_paramList = array();

            parse_str( $_parts['query'], $_paramList );

            foreach ( self::$_DROP_QUERY_PARAMS as $_key )
                unset( $_paramList[$_key] );

            if ( ! empty( $_paramList ) )
                $_query = '?' . http_build_query( $_paramList );
        }

        //  use port if non default
        $_port = isset( $_parts['port'] ) && ( ( $_proto === 'http://' && $_parts
      ['port'] !== 80 ) || ( $_proto === 'https://' && $_parts['port'] !== 443 ) ) ? ':
      ' . $_parts['port'] : '';

        //  Rebuild
        return $_proto . $_parts['host'] . $_port . $_parts['path'] . $_query;
    }
\end{DoxyCode}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=308pt]{classCPSFacebook_a1d2b68391ad44fe79ecef5ecd09feec3_icgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_a69c13b5e61215433a48b9a6742f16660}{
\index{CPSFacebook@{CPSFacebook}!\_\-getSessionCookieName@{\_\-getSessionCookieName}}
\index{\_\-getSessionCookieName@{\_\-getSessionCookieName}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\_\-getSessionCookieName}]{\setlength{\rightskip}{0pt plus 5cm}\_\-getSessionCookieName (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_a69c13b5e61215433a48b9a6742f16660}
The name of the cookie that contains the session. \begin{DoxyReturn}{Returns}
string the cookie name 
\end{DoxyReturn}


Definition at line 513 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        return 'pYe_fb_' . $this->_appId;
    }
\end{DoxyCode}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_a69c13b5e61215433a48b9a6742f16660_icgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_ad8d438fe02fb781abe815fd5972795ff}{
\index{CPSFacebook@{CPSFacebook}!\_\-getUnsignedSession@{\_\-getUnsignedSession}}
\index{\_\-getUnsignedSession@{\_\-getUnsignedSession}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\_\-getUnsignedSession}]{\setlength{\rightskip}{0pt plus 5cm}static \_\-getUnsignedSession (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static, protected\mbox{]}}}}
\label{classCPSFacebook_ad8d438fe02fb781abe815fd5972795ff}
Looks in request for session signatures \begin{DoxyReturn}{Returns}
array 
\end{DoxyReturn}


Definition at line 946 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        if ( isset( $_REQUEST['fb_sig_user'] ) )
        {
            $_session = array();

            $_session['uid'] = PS::o( $_REQUEST, 'fb_sig_user' );
            $_session['access_token'] = $this->_appId . '|' . PS::o( $_REQUEST, '
      fb_sig_session_key' );
            $_session['expires'] = PS::o( $_REQUEST, 'fb_sig_expires' );
            $_session['base_domain'] = PS::o( $_REQUEST, 'fb_sig_base_domain' );
            $_session['secret'] = PS::o( $_REQUEST, 'fb_sig_ss' );

            if ( null !== ( $_session['session_key'] = PS::o( $_REQUEST, 'fb_sig_
      session_key' ) ) )
            {
                ksort( $_session );

                // generate the base string
                $_baseString = '';

                foreach ( $_session as $_key => $_value )
                    $_baseString .= $_key . '=' . $_value;

                $_baseString .= $this->_apiSecretKey;
                $_session['sig'] = md5( $_baseString );
            }

            return $_session;
        }
    }
\end{DoxyCode}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_ad8d438fe02fb781abe815fd5972795ff_icgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_a719203fb2a7e839997705e75e0bcc9a1}{
\index{CPSFacebook@{CPSFacebook}!\_\-getUrl@{\_\-getUrl}}
\index{\_\-getUrl@{\_\-getUrl}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\_\-getUrl}]{\setlength{\rightskip}{0pt plus 5cm}\_\-getUrl (
\begin{DoxyParamCaption}
\item[{\$}]{ name, }
\item[{\$}]{ path = {\ttfamily null}, }
\item[{\$}]{ paramList = {\ttfamily {\bf array}()}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_a719203fb2a7e839997705e75e0bcc9a1}
Build the URL for given domain alias, path and parameters.


\begin{DoxyParams}{Parameters}
\item[{\em \$name}]string the name of the domain \item[{\em \$path}]string optional path (without a leading slash) \item[{\em \$paramList}]array optional query parameters \end{DoxyParams}
\begin{DoxyReturn}{Returns}
string the URL for the given parameters 
\end{DoxyReturn}


Definition at line 854 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        $_url = self::$_DOMAIN_MAP[$name];

        if ( null != $path )
        {
            if ( $path[0] == '/' )
                $path = substr( $path, 1 );

            $_url .= $path;
        }

        if ( $paramList ) $_url .= '?' . http_build_query( $paramList );

        return $_url;
    }
\end{DoxyCode}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_a719203fb2a7e839997705e75e0bcc9a1_icgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_a3fc1ae91766eca08b5a6fc48a6c6ebe2}{
\index{CPSFacebook@{CPSFacebook}!\_\-graph@{\_\-graph}}
\index{\_\-graph@{\_\-graph}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\_\-graph}]{\setlength{\rightskip}{0pt plus 5cm}\_\-graph (
\begin{DoxyParamCaption}
\item[{\$}]{ path, }
\item[{\$}]{ method = {\ttfamily 'GET'}, }
\item[{\$}]{ paramList = {\ttfamily {\bf array}()}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_a3fc1ae91766eca08b5a6fc48a6c6ebe2}
Invoke the Graph API.


\begin{DoxyParams}{Parameters}
\item[{\em string}]\$path the path (required) \item[{\em string}]\$method the http method (default 'GET') \item[{\em array}]\$paramList the query/post data \end{DoxyParams}
\begin{DoxyReturn}{Returns}
the decoded response object 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
\item[{\em \hyperlink{classCPSFacebookApiException}{CPSFacebookApiException}}]\end{DoxyExceptions}


Definition at line 549 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        if ( is_array( $method ) && empty( $paramList ) )
        {
            $paramList = $method;
            $method = 'GET';
        }

        //  Method override as we always do a POST
        $paramList['method'] = $method;

        $_result = $this->_oauthRequest( $this->_getUrl( 'graph', $path ), $param
      List );
        $_result = json_decode( $_result, true );

        //  Results are returned, errors are thrown
        if ( PS::o( $_result, 'error' ) )
        {
            $_ex = new CPSFacebookApiException( $_result );

            switch ( $_ex->getType() )
            {
                case 'OAuthException':          //  OAuth 2.0 Draft 00 style
                case 'invalid_token':           //  OAuth 2.0 Draft 10 style
                    $this->setSession( null );
                    break;
            }

            throw $_ex;
        }

        return $_result;
    }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_a3fc1ae91766eca08b5a6fc48a6c6ebe2_cgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_ae101534735ff109fc2b6ce694033e42e}{
\index{CPSFacebook@{CPSFacebook}!\_\-makeRequest@{\_\-makeRequest}}
\index{\_\-makeRequest@{\_\-makeRequest}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\_\-makeRequest}]{\setlength{\rightskip}{0pt plus 5cm}\_\-makeRequest (
\begin{DoxyParamCaption}
\item[{\$}]{ url, }
\item[{\$}]{ paramList, }
\item[{\$}]{ curl = {\ttfamily null}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_ae101534735ff109fc2b6ce694033e42e}
Makes an HTTP request. This method can be overriden by subclasses if developers want to do fancier things or use something other than curl to make the request.


\begin{DoxyParams}{Parameters}
\item[{\em string}]\$url the URL to make the request to \item[{\em array}]\$paramList the parameters to use for the POST body \item[{\em integer}]\$curl optional initialized curl handle \end{DoxyParams}
\begin{DoxyReturn}{Returns}
string the response text 
\end{DoxyReturn}


Disable the 'Expect: 100-\/continue' behaviour. This causes CURL to wait for 2 seconds if the server does not support this header.



Definition at line 615 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        if ( ! $curl ) $curl = curl_init();

        $_options = self::$_CURL_OPTS;

        if ( $this->_fileUploadSupport )
            $_options[CURLOPT_POSTFIELDS] = $paramList;
        else
            $_options[CURLOPT_POSTFIELDS] = http_build_query( $paramList, null, '
      &' );

        $_options[CURLOPT_URL] = $url;

        if ( ! isset( $_options[CURLOPT_HTTPHEADER] ) )
            $_options[CURLOPT_HTTPHEADER] = array( 'Expect:' );
        else
        {
            $_headers = $opts[CURLOPT_HTTPHEADER];
            $_headers[] = 'Expect:';
            $_options[CURLOPT_HTTPHEADER] = $_headers;
        }

        curl_setopt_array( $curl, $_options );

        $_result = curl_exec( $curl );

        if ( false === $_result )
        {
            $_ex = new CPSFacebookApiException(
                array(
                    'error_code' => curl_errno( $curl ),
                    'error' => array(
                        'message' => curl_error( $curl ),
                        'type' => 'CurlException',
                    ),
                )
            );

            curl_close( $curl );

            throw $_ex;
        }

        curl_close( $curl );
        return $_result;
    }
\end{DoxyCode}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_ae101534735ff109fc2b6ce694033e42e_icgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_a0519e81c281afecdca2d58dd75d164f0}{
\index{CPSFacebook@{CPSFacebook}!\_\-oauthRequest@{\_\-oauthRequest}}
\index{\_\-oauthRequest@{\_\-oauthRequest}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\_\-oauthRequest}]{\setlength{\rightskip}{0pt plus 5cm}\_\-oauthRequest (
\begin{DoxyParamCaption}
\item[{\$}]{ url, }
\item[{\$}]{ paramList}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_a0519e81c281afecdca2d58dd75d164f0}
Make a OAuth Request


\begin{DoxyParams}{Parameters}
\item[{\em string}]\$path the path (required) \item[{\em array}]\$paramList the query/post data \end{DoxyParams}
\begin{DoxyReturn}{Returns}
the decoded response object 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
\item[{\em \hyperlink{classCPSFacebookApiException}{CPSFacebookApiException}}]\end{DoxyExceptions}


Definition at line 590 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        if ( ! isset( $paramList['access_token'] ) )
            $paramList['access_token'] = $this->getAccessToken();

        //  json_encode all params values that are not strings
        foreach ( $paramList as $_key => $_value )
        {
            if ( ! is_string( $_value ) )
                $paramList[$_key] = json_encode( $_value );
        }

        return $this->_makeRequest( $url, $paramList );
    }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_a0519e81c281afecdca2d58dd75d164f0_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=344pt]{classCPSFacebook_a0519e81c281afecdca2d58dd75d164f0_icgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_a2b963de2da5e5d03684f94c360f948ea}{
\index{CPSFacebook@{CPSFacebook}!\_\-parseSignedRequest@{\_\-parseSignedRequest}}
\index{\_\-parseSignedRequest@{\_\-parseSignedRequest}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\_\-parseSignedRequest}]{\setlength{\rightskip}{0pt plus 5cm}\_\-parseSignedRequest (
\begin{DoxyParamCaption}
\item[{\$}]{ \_\-signedRequest}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_a2b963de2da5e5d03684f94c360f948ea}
Parses a signed\_\-request and validates the signature. Then saves it in \$this-\/$>$signed\_\-data


\begin{DoxyParams}{Parameters}
\item[{\em String}]A signed token \item[{\em Boolean}]Should we remove the parts of the payload that are used by the algorithm? \end{DoxyParams}
\begin{DoxyReturn}{Returns}
Array the payload inside it or null if the sig is wrong 
\end{DoxyReturn}


Definition at line 793 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        list( $_encodedSignature, $_payload ) = explode( '.', $_signedRequest, 2 
      );

        //  decode the data
        $_signature = self::_base64UrlDecode( $_encodedSignature );
        $data = json_decode( self::_base64UrlDecode( $_payload ), true );

        if ( 'HMAC-SHA256' !== strtoupper( $data['algorithm'] ) )
        {
            //  Disable error log if we are running in a CLI environment
            //  @codeCoverageIgnoreStart
            if ( php_sapi_name() != 'cli' )
                CPSLog::error( __METHOD__, 'Unknown algorithm. Expected HMAC-SHA2
      56' );
            // @codeCoverageIgnoreEnd
            return null;
        }

        //  Check signature
        $_expectedSignature = hash_hmac( 'sha256', $_payload, $this->_apiSecretKe
      y, true );

        if ( defined( 'PYE_TRACE_LEVEL' ) && PYE_TRACE_LEVEL > 3 )
            CPSLog::trace( __METHOD__, 'Sig:[' . $_signature . '] expect:[' . $_e
      xpectedSignature . ']' );

        if ( $_signature !== $_expectedSignature )
        {
            //  Disable error log if we are running in a CLI environment
            //  @codeCoverageIgnoreStart
            if ( php_sapi_name() != 'cli' )
                CPSLog::error( __METHOD__, 'Bad Signed JSON signature!' );
            // @codeCoverageIgnoreEnd
            return null;
        }

        return $data;
    }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_a2b963de2da5e5d03684f94c360f948ea_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_a2b963de2da5e5d03684f94c360f948ea_icgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_a896336f5000bed98a0e59b3b38b8b8e1}{
\index{CPSFacebook@{CPSFacebook}!\_\-restserver@{\_\-restserver}}
\index{\_\-restserver@{\_\-restserver}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\_\-restserver}]{\setlength{\rightskip}{0pt plus 5cm}\_\-restserver (
\begin{DoxyParamCaption}
\item[{\$}]{ paramList}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_a896336f5000bed98a0e59b3b38b8b8e1}
Invoke the old restserver.php endpoint.


\begin{DoxyParams}{Parameters}
\item[{\em array}]\$paramList method call object \end{DoxyParams}
\begin{DoxyReturn}{Returns}
the decoded response object 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
\item[{\em \hyperlink{classCPSFacebookApiException}{CPSFacebookApiException}}]\end{DoxyExceptions}


Definition at line 525 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        //  Generic application level parameters
        $paramList['api_key'] = $this->_appId;
        $paramList['format'] = 'json-strings';

        $_result = json_decode( $this->_oauthRequest( $this->_getApiUrl( PS::o( $
      paramList, 'method' ) ), $paramList ), true );

        //  Results are returned, errors are thrown
        if ( PS::o( $_result, 'error_code' ) )
            throw new CPSFacebookApiException( $_result );

        return $_result;
    }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_a896336f5000bed98a0e59b3b38b8b8e1_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=220pt]{classCPSFacebook_a896336f5000bed98a0e59b3b38b8b8e1_icgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_a818b7c88630a9f0a6318aecb55160c38}{
\index{CPSFacebook@{CPSFacebook}!\_\-setCookieFromSession@{\_\-setCookieFromSession}}
\index{\_\-setCookieFromSession@{\_\-setCookieFromSession}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\_\-setCookieFromSession}]{\setlength{\rightskip}{0pt plus 5cm}\_\-setCookieFromSession (
\begin{DoxyParamCaption}
\item[{\$}]{ session = {\ttfamily null}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_a818b7c88630a9f0a6318aecb55160c38}
Set a JS cookie based on the \_\-passed in\_\- session. It does not use the currently stored session -\/-\/ you need to explicitly pass it in.


\begin{DoxyParams}{Parameters}
\item[{\em array}]\$session the session to use for setting the cookie \end{DoxyParams}


Definition at line 672 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        if ( ! $this->_enableCookieSupport )
            return;

        $_cookieName = $this->_getSessionCookieName();
        $_value = 'deleted';
        $_expires = time() - 3600;

        $_domain = $this->getBaseDomain();

        if ( $session )
        {
            $_value = '"' . http_build_query( $session, null, '&' ) . '"';

            if ( isset( $session['base_domain'] ) )
                $_domain = $session['base_domain'];

            $_expires = $session['expires'];
        }

        //  prepend dot if a domain is found
        if ( $_domain ) $_domain = '.' . $_domain;

        //  if an existing cookie is not set, we dont need to delete it
        if ( $_value == 'deleted' && empty( $_COOKIE[$_cookieName] ) )
            return;

        if ( headers_sent() )
        {
            // disable error log if we are running in a CLI environment
            // @codeCoverageIgnoreStart
            if ( php_sapi_name() != 'cli' )
                CPSLog::error( __METHOD__, 'Could not set cookie. Headers already
       sent.' );
            // @codeCoverageIgnoreEnd

        // ignore for code coverage as we will never be able to setcookie in a CL
      I
        // environment
        // @codeCoverageIgnoreStart
        }
        else
        {
            setcookie( $_cookieName, $_value, $_expires, '/', $_domain );
        }
        // @codeCoverageIgnoreEnd
    }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_a818b7c88630a9f0a6318aecb55160c38_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_a818b7c88630a9f0a6318aecb55160c38_icgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_a7dd3fb0ddff204e195f91b8719104a61}{
\index{CPSFacebook@{CPSFacebook}!\_\-validateSessionObject@{\_\-validateSessionObject}}
\index{\_\-validateSessionObject@{\_\-validateSessionObject}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\_\-validateSessionObject}]{\setlength{\rightskip}{0pt plus 5cm}\_\-validateSessionObject (
\begin{DoxyParamCaption}
\item[{\$}]{ session}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_a7dd3fb0ddff204e195f91b8719104a61}
Validates a session\_\-version=3 style session object.


\begin{DoxyParams}{Parameters}
\item[{\em array}]\$session the session object \end{DoxyParams}
\begin{DoxyReturn}{Returns}
array the session object if it validates, null otherwise 
\end{DoxyReturn}


Definition at line 725 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        $_session = null;

        //  Make sure some essential fields exist
        if ( is_array( $session ) && isset( $session['uid'], $session['access_tok
      en'], $session['sig'] ) )
        {
            //  Validate the signature
            $_noSigSession = $session;
            unset( $_noSigSession['sig'] );

            $_expectedSig = self::_generateSignature(
                $_noSigSession,
                $this->_apiSecretKey
            );

            if ( $session['sig'] != $_expectedSig )
            {
                //  Disable error log if we are running in a CLI environment
                //  @codeCoverageIgnoreStart
                if ( php_sapi_name() != 'cli' )
                    CPSLog::error( __METHOD__, 'Got invalid session signature in 
      cookie.' );
                // @codeCoverageIgnoreEnd
                $session = null;
            }

            $_session = $session;
        }

        return $_session;
    }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_a7dd3fb0ddff204e195f91b8719104a61_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_a7dd3fb0ddff204e195f91b8719104a61_icgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_aa238fcc5cb30759876aa89cd2e0711c1}{
\index{CPSFacebook@{CPSFacebook}!api@{api}}
\index{api@{api}!CPSFacebook@{CPSFacebook}}
\subsubsection[{api}]{\setlength{\rightskip}{0pt plus 5cm}api (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_aa238fcc5cb30759876aa89cd2e0711c1}
Make an API call.


\begin{DoxyParams}{Parameters}
\item[{\em array}]\$paramList the API call parameters \end{DoxyParams}
\begin{DoxyReturn}{Returns}
the decoded response 
\end{DoxyReturn}


Definition at line 495 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        $_args = func_get_args();

        if ( is_array( $_args ) && count( $_args ) && is_array( $_args[0] ) )
            return $this->_restserver( $_args[0] );

        return call_user_func_array( array( &$this, '_graph' ), $_args );
    }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_aa238fcc5cb30759876aa89cd2e0711c1_cgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_a5d251c70a3f9f9daaff7f00ec5f894c0}{
\index{CPSFacebook@{CPSFacebook}!getAccessToken@{getAccessToken}}
\index{getAccessToken@{getAccessToken}!CPSFacebook@{CPSFacebook}}
\subsubsection[{getAccessToken}]{\setlength{\rightskip}{0pt plus 5cm}getAccessToken (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_a5d251c70a3f9f9daaff7f00ec5f894c0}
Gets a OAuth access token.

\begin{DoxyReturn}{Returns}
string the access token 
\end{DoxyReturn}


Definition at line 395 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        $_session = $this->getSession();

        //  Either user session signed, or app signed
        if ( $_session )
            return PS::o( $_session, 'access_token' );

        return $this->_appId . '|' . $this->_apiSecretKey;
    }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_a5d251c70a3f9f9daaff7f00ec5f894c0_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_a5d251c70a3f9f9daaff7f00ec5f894c0_icgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_aca0af56a33a1d36ef2c9c3283d842d9c}{
\index{CPSFacebook@{CPSFacebook}!getApiCallbackUrl@{getApiCallbackUrl}}
\index{getApiCallbackUrl@{getApiCallbackUrl}!CPSFacebook@{CPSFacebook}}
\subsubsection[{getApiCallbackUrl}]{\setlength{\rightskip}{0pt plus 5cm}getApiCallbackUrl (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_aca0af56a33a1d36ef2c9c3283d842d9c}


Definition at line 194 of file CPSFacebook.php.




\begin{DoxyCode}
{ return $this->_apiCallbackUrl; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_afdd5b6b54737f556694975ca3d93d773}{
\index{CPSFacebook@{CPSFacebook}!getApiKey@{getApiKey}}
\index{getApiKey@{getApiKey}!CPSFacebook@{CPSFacebook}}
\subsubsection[{getApiKey}]{\setlength{\rightskip}{0pt plus 5cm}getApiKey (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_afdd5b6b54737f556694975ca3d93d773}


Reimplemented from \hyperlink{classCPSApiComponent_afdd5b6b54737f556694975ca3d93d773}{CPSApiComponent}.



Definition at line 180 of file CPSFacebook.php.




\begin{DoxyCode}
{ return $this->_apiKey; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_ac01814ac1bd26175f55f538e3a4752cc}{
\index{CPSFacebook@{CPSFacebook}!getApiSecretKey@{getApiSecretKey}}
\index{getApiSecretKey@{getApiSecretKey}!CPSFacebook@{CPSFacebook}}
\subsubsection[{getApiSecretKey}]{\setlength{\rightskip}{0pt plus 5cm}getApiSecretKey (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_ac01814ac1bd26175f55f538e3a4752cc}


Definition at line 187 of file CPSFacebook.php.




\begin{DoxyCode}
{ return $this->_apiSecretKey; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_a3686abfe34c828287edc1d6a8f77367d}{
\index{CPSFacebook@{CPSFacebook}!getAppId@{getAppId}}
\index{getAppId@{getAppId}!CPSFacebook@{CPSFacebook}}
\subsubsection[{getAppId}]{\setlength{\rightskip}{0pt plus 5cm}getAppId (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_a3686abfe34c828287edc1d6a8f77367d}


Definition at line 152 of file CPSFacebook.php.




\begin{DoxyCode}
{ return $this->_appId; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_a36da26e368f80dfa10ab2fcedde8b12b}{
\index{CPSFacebook@{CPSFacebook}!getAppName@{getAppName}}
\index{getAppName@{getAppName}!CPSFacebook@{CPSFacebook}}
\subsubsection[{getAppName}]{\setlength{\rightskip}{0pt plus 5cm}getAppName (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_a36da26e368f80dfa10ab2fcedde8b12b}


Definition at line 159 of file CPSFacebook.php.




\begin{DoxyCode}
{ return $this->_appName; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_a9784c3b68605f689b41f10aa28fffcca}{
\index{CPSFacebook@{CPSFacebook}!getAppPermissions@{getAppPermissions}}
\index{getAppPermissions@{getAppPermissions}!CPSFacebook@{CPSFacebook}}
\subsubsection[{getAppPermissions}]{\setlength{\rightskip}{0pt plus 5cm}getAppPermissions (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_a9784c3b68605f689b41f10aa28fffcca}


Definition at line 173 of file CPSFacebook.php.




\begin{DoxyCode}
{ return $this->_appPermissions; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_aec474172017ccece67a1c46e1a5a3460}{
\index{CPSFacebook@{CPSFacebook}!getAppUrl@{getAppUrl}}
\index{getAppUrl@{getAppUrl}!CPSFacebook@{CPSFacebook}}
\subsubsection[{getAppUrl}]{\setlength{\rightskip}{0pt plus 5cm}getAppUrl (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_aec474172017ccece67a1c46e1a5a3460}


Definition at line 166 of file CPSFacebook.php.




\begin{DoxyCode}
{ return $this->_appUrl; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_ab0b9668fe081b3b7eb36307bcb7688e8}{
\index{CPSFacebook@{CPSFacebook}!getBaseDomain@{getBaseDomain}}
\index{getBaseDomain@{getBaseDomain}!CPSFacebook@{CPSFacebook}}
\subsubsection[{getBaseDomain}]{\setlength{\rightskip}{0pt plus 5cm}getBaseDomain (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_ab0b9668fe081b3b7eb36307bcb7688e8}


Definition at line 231 of file CPSFacebook.php.




\begin{DoxyCode}
{ return $this->_baseDomain; }
\end{DoxyCode}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_ab0b9668fe081b3b7eb36307bcb7688e8_icgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_ab002401bbd20f1d945afc24377102294}{
\index{CPSFacebook@{CPSFacebook}!getEnableCookieSupport@{getEnableCookieSupport}}
\index{getEnableCookieSupport@{getEnableCookieSupport}!CPSFacebook@{CPSFacebook}}
\subsubsection[{getEnableCookieSupport}]{\setlength{\rightskip}{0pt plus 5cm}getEnableCookieSupport (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_ab002401bbd20f1d945afc24377102294}


Definition at line 224 of file CPSFacebook.php.




\begin{DoxyCode}
{ return $this->_enableCookieSupport; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_a11a2fe55342959e85616440f6287f24a}{
\index{CPSFacebook@{CPSFacebook}!getFileUploadSupport@{getFileUploadSupport}}
\index{getFileUploadSupport@{getFileUploadSupport}!CPSFacebook@{CPSFacebook}}
\subsubsection[{getFileUploadSupport}]{\setlength{\rightskip}{0pt plus 5cm}getFileUploadSupport (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_a11a2fe55342959e85616440f6287f24a}


Definition at line 238 of file CPSFacebook.php.




\begin{DoxyCode}
{ return $this->_fileUploadSupport; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_ac6277cff127391498ddceffc115a6f94}{
\index{CPSFacebook@{CPSFacebook}!getLoginStatusUrl@{getLoginStatusUrl}}
\index{getLoginStatusUrl@{getLoginStatusUrl}!CPSFacebook@{CPSFacebook}}
\subsubsection[{getLoginStatusUrl}]{\setlength{\rightskip}{0pt plus 5cm}getLoginStatusUrl (
\begin{DoxyParamCaption}
\item[{\$}]{ paramList = {\ttfamily {\bf array}()}}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_ac6277cff127391498ddceffc115a6f94}
Get a login status URL to fetch the status from facebook.

The parameters:
\begin{DoxyItemize}
\item ok\_\-session: the URL to go to if a session is found
\item no\_\-session: the URL to go to if the user is not connected
\item no\_\-user: the URL to go to if the user is not signed into facebook
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
\item[{\em array}]\$paramList provide custom parameters \end{DoxyParams}
\begin{DoxyReturn}{Returns}
string the URL for the logout flow 
\end{DoxyReturn}


Definition at line 474 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        return $this->_getUrl(
            'www',
            'extern/login_status.php',
            array_merge( array(
                'api_key' => $this->_appId,
                'no_session' => $this->_getCurrentUrl(),
                'no_user' => $this->_getCurrentUrl(),
                'ok_session' => $this->_getCurrentUrl(),
                'session_version' => 3,
            ), $paramList )
        );
    }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=308pt]{classCPSFacebook_ac6277cff127391498ddceffc115a6f94_cgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_a3fc2a3b447d666e9f8607da999a1ea2d}{
\index{CPSFacebook@{CPSFacebook}!getLoginUrl@{getLoginUrl}}
\index{getLoginUrl@{getLoginUrl}!CPSFacebook@{CPSFacebook}}
\subsubsection[{getLoginUrl}]{\setlength{\rightskip}{0pt plus 5cm}getLoginUrl (
\begin{DoxyParamCaption}
\item[{\$}]{ paramList = {\ttfamily {\bf array}()}}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_a3fc2a3b447d666e9f8607da999a1ea2d}
Get a Login URL for use with redirects. By default, full page redirect is assumed. If you are using the generated URL with a window.open() call in JavaScript, you can pass in display=popup as part of the \$paramList.

The parameters:
\begin{DoxyItemize}
\item next: the url to go to after a successful login
\item cancel\_\-url: the url to go to after the user cancels
\item req\_\-perms: comma separated list of requested extended perms
\item display: can be \char`\"{}page\char`\"{} (default, full page) or \char`\"{}popup\char`\"{}
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
\item[{\em Array}]\$paramList provide custom parameters \end{DoxyParams}
\begin{DoxyReturn}{Returns}
String the URL for the login flow 
\end{DoxyReturn}


Definition at line 420 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        $_currentUrl = $this->_getCurrentUrl();

        return $this->_getUrl(
            'www',
            'login.php',
            array_merge( array(
                'api_key' => $this->_appId,
                'cancel_url' => $_currentUrl,
                'display' => 'page',
                'fbconnect' => 1,
                'next' => $_currentUrl,
                'return_session' => 1,
                'session_version' => 3,
                'v' => '1.0',
            ), $paramList )
        );
    }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=276pt]{classCPSFacebook_a3fc2a3b447d666e9f8607da999a1ea2d_cgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_ade0c69c82aebca82fd8bd98ad74439f2}{
\index{CPSFacebook@{CPSFacebook}!getLogoutUrl@{getLogoutUrl}}
\index{getLogoutUrl@{getLogoutUrl}!CPSFacebook@{CPSFacebook}}
\subsubsection[{getLogoutUrl}]{\setlength{\rightskip}{0pt plus 5cm}getLogoutUrl (
\begin{DoxyParamCaption}
\item[{\$}]{ paramList = {\ttfamily {\bf array}()}}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_ade0c69c82aebca82fd8bd98ad74439f2}
Get a Logout URL suitable for use with redirects.

The parameters:
\begin{DoxyItemize}
\item next: the url to go to after a successful logout
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
\item[{\em array}]\$paramList provide custom parameters \end{DoxyParams}
\begin{DoxyReturn}{Returns}
string the URL for the logout flow 
\end{DoxyReturn}


Definition at line 449 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        $_session = $this->getSession();

        return $this->_getUrl(
            'www',
            'logout.php',
            array_merge( array(
                'next' => $this->_getCurrentUrl(),
                'access_token' => $this->getAccessToken(),
            ), $paramList )
        );
    }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_ade0c69c82aebca82fd8bd98ad74439f2_cgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_ab3989d2377763fb40cb29086ef272f6e}{
\index{CPSFacebook@{CPSFacebook}!getPhotoList@{getPhotoList}}
\index{getPhotoList@{getPhotoList}!CPSFacebook@{CPSFacebook}}
\subsubsection[{getPhotoList}]{\setlength{\rightskip}{0pt plus 5cm}static getPhotoList (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classCPSFacebook_ab3989d2377763fb40cb29086ef272f6e}


Definition at line 252 of file CPSFacebook.php.




\begin{DoxyCode}
{ return self::$_photoList; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_af338297425aef1a6322e4f096b0b8a34}{
\index{CPSFacebook@{CPSFacebook}!getRedirectToLoginUrl@{getRedirectToLoginUrl}}
\index{getRedirectToLoginUrl@{getRedirectToLoginUrl}!CPSFacebook@{CPSFacebook}}
\subsubsection[{getRedirectToLoginUrl}]{\setlength{\rightskip}{0pt plus 5cm}getRedirectToLoginUrl (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_af338297425aef1a6322e4f096b0b8a34}


Definition at line 245 of file CPSFacebook.php.




\begin{DoxyCode}
{ return $this->_redirectToLoginUrl; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_aefa4c5bd150e2a7d525576d7959c6911}{
\index{CPSFacebook@{CPSFacebook}!getSession@{getSession}}
\index{getSession@{getSession}!CPSFacebook@{CPSFacebook}}
\subsubsection[{getSession}]{\setlength{\rightskip}{0pt plus 5cm}getSession (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_aefa4c5bd150e2a7d525576d7959c6911}
Get the session object. This will automatically look for a signed session sent via the Cookie or Query Parameters if needed.

\begin{DoxyReturn}{Returns}
array the session 
\end{DoxyReturn}


Definition at line 331 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        if ( ! $this->_sessionLoaded )
        {
            $_session = null;
            $_writeCookie = true;

            //  Try loading session from signed_request in $_REQUEST
            if ( $_signedRequest = $this->getSignedRequest() )
                $_session = $this->_createSessionFromSignedRequest( 
      $_signedRequest );

            //  Try loading session from $_REQUEST
            if ( ! $_session && $_session = PS::o( $_REQUEST, 'session' ) )
            {
                $_session = json_decode( get_magic_quotes_gpc() ? stripslashes( 
      $_session ) : $_session, true );
                $_session = $this->_validateSessionObject( $_session );
            }

            //  Try getting unsigned fb_sig request...
            if ( ! $_session )
            {
                $_session = $this->_getUnsignedSession();
                $_session = $this->_validateSessionObject( $_session );
            }

            //  Try loading session from cookie if necessary
            if ( ! $_session && $this->_enableCookieSupport )
            {
                $_name = $this->_getSessionCookieName();

                if ( $_cookie = PS::o( $_COOKIE, $_name ) )
                {
                    $_session = array();
                    parse_str( trim( get_magic_quotes_gpc() ? stripslashes( $_coo
      kie ) : $_cookie, '"' ), $_session );
                    $_session = $this->_validateSessionObject( $_session );

                    //  Write only if we need to delete a invalid session cookie
                    $_writeCookie = empty( $_session );
                }
            }

            $this->setSession( $_session, $_writeCookie );
        }

        return $this->_session;
    }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_aefa4c5bd150e2a7d525576d7959c6911_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_aefa4c5bd150e2a7d525576d7959c6911_icgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_abd67157f9e772183733ad7a9112c822b}{
\index{CPSFacebook@{CPSFacebook}!getSessionLoaded@{getSessionLoaded}}
\index{getSessionLoaded@{getSessionLoaded}!CPSFacebook@{CPSFacebook}}
\subsubsection[{getSessionLoaded}]{\setlength{\rightskip}{0pt plus 5cm}getSessionLoaded (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_abd67157f9e772183733ad7a9112c822b}


Definition at line 201 of file CPSFacebook.php.




\begin{DoxyCode}
{ return $this->_sessionLoaded; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_aa89cc38937ab8f8f132f3712c49c6e37}{
\index{CPSFacebook@{CPSFacebook}!getSignedRequest@{getSignedRequest}}
\index{getSignedRequest@{getSignedRequest}!CPSFacebook@{CPSFacebook}}
\subsubsection[{getSignedRequest}]{\setlength{\rightskip}{0pt plus 5cm}getSignedRequest (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_aa89cc38937ab8f8f132f3712c49c6e37}


Definition at line 208 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        if ( ! $this->_signedRequest )
        {
            if ( null !== ( $_request = PS::o( $_REQUEST, 'signed_request' ) ) )
                $this->_signedRequest = $this->_parseSignedRequest( $_request );
        }

        return $this->_signedRequest;
    }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_aa89cc38937ab8f8f132f3712c49c6e37_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_aa89cc38937ab8f8f132f3712c49c6e37_icgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_ae81b7186fb97a7c6457edcc68c9aa2ef}{
\index{CPSFacebook@{CPSFacebook}!getUser@{getUser}}
\index{getUser@{getUser}!CPSFacebook@{CPSFacebook}}
\subsubsection[{getUser}]{\setlength{\rightskip}{0pt plus 5cm}getUser (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_ae81b7186fb97a7c6457edcc68c9aa2ef}
Get the UID from the session. \begin{DoxyReturn}{Returns}
string the UID if available 
\end{DoxyReturn}


Definition at line 382 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        if ( $_session = $this->getSession() )
            return PS::o( $_session, 'uid' );

        return null;
    }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_ae81b7186fb97a7c6457edcc68c9aa2ef_cgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_a4be4055f3361d4800e16bc2e2e38cda6}{
\index{CPSFacebook@{CPSFacebook}!init@{init}}
\index{init@{init}!CPSFacebook@{CPSFacebook}}
\subsubsection[{init}]{\setlength{\rightskip}{0pt plus 5cm}init (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_a4be4055f3361d4800e16bc2e2e38cda6}
Initialize 

Reimplemented from \hyperlink{classCPSApiComponent_a4be4055f3361d4800e16bc2e2e38cda6}{CPSApiComponent}.



Definition at line 294 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        parent::init();
        self::$_photoList = PS::_gs( self::PHOTO_CACHE );
    }
\end{DoxyCode}


\hypertarget{classCPSFacebook_aecbe7fa989ff4870e8284982d2b4908b}{
\index{CPSFacebook@{CPSFacebook}!setApiCallbackUrl@{setApiCallbackUrl}}
\index{setApiCallbackUrl@{setApiCallbackUrl}!CPSFacebook@{CPSFacebook}}
\subsubsection[{setApiCallbackUrl}]{\setlength{\rightskip}{0pt plus 5cm}setApiCallbackUrl (
\begin{DoxyParamCaption}
\item[{\$}]{ newValue}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_aecbe7fa989ff4870e8284982d2b4908b}


Definition at line 195 of file CPSFacebook.php.




\begin{DoxyCode}
{ $this->_apiCallbackUrl = $newValue; return $this; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_a5459ba27b6f139cf3f10bab4aec9b6e4}{
\index{CPSFacebook@{CPSFacebook}!setApiKey@{setApiKey}}
\index{setApiKey@{setApiKey}!CPSFacebook@{CPSFacebook}}
\subsubsection[{setApiKey}]{\setlength{\rightskip}{0pt plus 5cm}setApiKey (
\begin{DoxyParamCaption}
\item[{\$}]{ newValue}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_a5459ba27b6f139cf3f10bab4aec9b6e4}


Reimplemented from \hyperlink{classCPSApiComponent_a418ebc2194526fe95a66e1cd6f808fe3}{CPSApiComponent}.



Definition at line 181 of file CPSFacebook.php.




\begin{DoxyCode}
{ $this->_apiKey = $newValue; return $this; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_a8b556659e1d182ba42b528f47f1f217c}{
\index{CPSFacebook@{CPSFacebook}!setApiSecretKey@{setApiSecretKey}}
\index{setApiSecretKey@{setApiSecretKey}!CPSFacebook@{CPSFacebook}}
\subsubsection[{setApiSecretKey}]{\setlength{\rightskip}{0pt plus 5cm}setApiSecretKey (
\begin{DoxyParamCaption}
\item[{\$}]{ newValue}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_a8b556659e1d182ba42b528f47f1f217c}


Definition at line 188 of file CPSFacebook.php.




\begin{DoxyCode}
{ $this->_apiSecretKey = $newValue; return $this; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_a5d184a71ba30a0fedb1006f15df66177}{
\index{CPSFacebook@{CPSFacebook}!setAppId@{setAppId}}
\index{setAppId@{setAppId}!CPSFacebook@{CPSFacebook}}
\subsubsection[{setAppId}]{\setlength{\rightskip}{0pt plus 5cm}setAppId (
\begin{DoxyParamCaption}
\item[{\$}]{ newValue}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_a5d184a71ba30a0fedb1006f15df66177}


Definition at line 153 of file CPSFacebook.php.




\begin{DoxyCode}
{ $this->_appId = $newValue; return $this; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_ad9727261836418005a302bf42802a84f}{
\index{CPSFacebook@{CPSFacebook}!setAppName@{setAppName}}
\index{setAppName@{setAppName}!CPSFacebook@{CPSFacebook}}
\subsubsection[{setAppName}]{\setlength{\rightskip}{0pt plus 5cm}setAppName (
\begin{DoxyParamCaption}
\item[{\$}]{ newValue}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_ad9727261836418005a302bf42802a84f}


Definition at line 160 of file CPSFacebook.php.




\begin{DoxyCode}
{ $this->_appName = $newValue; return $this; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_a466f4d1985a506c8e3be3d9929e4111e}{
\index{CPSFacebook@{CPSFacebook}!setAppPermissions@{setAppPermissions}}
\index{setAppPermissions@{setAppPermissions}!CPSFacebook@{CPSFacebook}}
\subsubsection[{setAppPermissions}]{\setlength{\rightskip}{0pt plus 5cm}setAppPermissions (
\begin{DoxyParamCaption}
\item[{\$}]{ newValue}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_a466f4d1985a506c8e3be3d9929e4111e}


Definition at line 174 of file CPSFacebook.php.




\begin{DoxyCode}
{ $this->_appPermissions = $newValue; return $this; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_ab759f3978697fbd0d6de43c959c69664}{
\index{CPSFacebook@{CPSFacebook}!setAppUrl@{setAppUrl}}
\index{setAppUrl@{setAppUrl}!CPSFacebook@{CPSFacebook}}
\subsubsection[{setAppUrl}]{\setlength{\rightskip}{0pt plus 5cm}setAppUrl (
\begin{DoxyParamCaption}
\item[{\$}]{ newValue}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_ab759f3978697fbd0d6de43c959c69664}


Definition at line 167 of file CPSFacebook.php.




\begin{DoxyCode}
{ $this->_appUrl = $newValue; return $this; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_a5438481a4c2c43b1ccf2dc5c8de9b7b7}{
\index{CPSFacebook@{CPSFacebook}!setbaseDomain@{setbaseDomain}}
\index{setbaseDomain@{setbaseDomain}!CPSFacebook@{CPSFacebook}}
\subsubsection[{setbaseDomain}]{\setlength{\rightskip}{0pt plus 5cm}setbaseDomain (
\begin{DoxyParamCaption}
\item[{\$}]{ newValue}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_a5438481a4c2c43b1ccf2dc5c8de9b7b7}


Definition at line 232 of file CPSFacebook.php.




\begin{DoxyCode}
{ $this->_baseDomain = $newValue; return $this; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_a38dc6e2f0ac551d3ec16ab03fa9d725b}{
\index{CPSFacebook@{CPSFacebook}!setEnableCookieSupport@{setEnableCookieSupport}}
\index{setEnableCookieSupport@{setEnableCookieSupport}!CPSFacebook@{CPSFacebook}}
\subsubsection[{setEnableCookieSupport}]{\setlength{\rightskip}{0pt plus 5cm}setEnableCookieSupport (
\begin{DoxyParamCaption}
\item[{\$}]{ newValue}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_a38dc6e2f0ac551d3ec16ab03fa9d725b}


Definition at line 225 of file CPSFacebook.php.




\begin{DoxyCode}
{ $this->_enableCookieSupport = $newValue; return $this; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_af19c4491f0d526c7b4194ca9217fc966}{
\index{CPSFacebook@{CPSFacebook}!setFileUploadSupport@{setFileUploadSupport}}
\index{setFileUploadSupport@{setFileUploadSupport}!CPSFacebook@{CPSFacebook}}
\subsubsection[{setFileUploadSupport}]{\setlength{\rightskip}{0pt plus 5cm}setFileUploadSupport (
\begin{DoxyParamCaption}
\item[{\$}]{ newValue}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_af19c4491f0d526c7b4194ca9217fc966}


Definition at line 239 of file CPSFacebook.php.




\begin{DoxyCode}
{ $this->_fileUploadSupport = $newValue; return $this; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_ad35e44440b0eff84cccdfd1db697c639}{
\index{CPSFacebook@{CPSFacebook}!setPhotoList@{setPhotoList}}
\index{setPhotoList@{setPhotoList}!CPSFacebook@{CPSFacebook}}
\subsubsection[{setPhotoList}]{\setlength{\rightskip}{0pt plus 5cm}static setPhotoList (
\begin{DoxyParamCaption}
\item[{\$}]{ \_\-value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classCPSFacebook_ad35e44440b0eff84cccdfd1db697c639}


Definition at line 253 of file CPSFacebook.php.




\begin{DoxyCode}
{ self::$_photoList = $_value; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_a38575b53e5d51921b89d693e88bacaa9}{
\index{CPSFacebook@{CPSFacebook}!setRedirectToLoginUrl@{setRedirectToLoginUrl}}
\index{setRedirectToLoginUrl@{setRedirectToLoginUrl}!CPSFacebook@{CPSFacebook}}
\subsubsection[{setRedirectToLoginUrl}]{\setlength{\rightskip}{0pt plus 5cm}setRedirectToLoginUrl (
\begin{DoxyParamCaption}
\item[{\$}]{ newValue}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_a38575b53e5d51921b89d693e88bacaa9}


Definition at line 246 of file CPSFacebook.php.




\begin{DoxyCode}
{ $this->_redirectToLoginUrl = $newValue; return $this; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_a83fd4ea8255385abd72c27a762691e2d}{
\index{CPSFacebook@{CPSFacebook}!setSession@{setSession}}
\index{setSession@{setSession}!CPSFacebook@{CPSFacebook}}
\subsubsection[{setSession}]{\setlength{\rightskip}{0pt plus 5cm}setSession (
\begin{DoxyParamCaption}
\item[{\$}]{ session = {\ttfamily null}, }
\item[{\$}]{ writeCookie = {\ttfamily true}}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_a83fd4ea8255385abd72c27a762691e2d}
Set the session.


\begin{DoxyParams}{Parameters}
\item[{\em array}]\$session the session \item[{\em boolean}]\$writeCookie indicate if a cookie should be written. this value is ignored if cookie support has been disabled. \end{DoxyParams}


Definition at line 315 of file CPSFacebook.php.




\begin{DoxyCode}
    {
        $this->_session = $this->_validateSessionObject( $session );
        $this->_sessionLoaded = true;

        if ( $writeCookie ) $this->_setCookieFromSession( $this->_session );

        return $this;
    }
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_a83fd4ea8255385abd72c27a762691e2d_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classCPSFacebook_a83fd4ea8255385abd72c27a762691e2d_icgraph}
\end{center}
\end{figure}


\hypertarget{classCPSFacebook_ad4202dd31fb79a9d1e1f4031fffd8623}{
\index{CPSFacebook@{CPSFacebook}!setSessionLoaded@{setSessionLoaded}}
\index{setSessionLoaded@{setSessionLoaded}!CPSFacebook@{CPSFacebook}}
\subsubsection[{setSessionLoaded}]{\setlength{\rightskip}{0pt plus 5cm}setSessionLoaded (
\begin{DoxyParamCaption}
\item[{\$}]{ newValue}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_ad4202dd31fb79a9d1e1f4031fffd8623}


Definition at line 202 of file CPSFacebook.php.




\begin{DoxyCode}
{ $this->_sessionLoaded = $newValue; return $this; }
\end{DoxyCode}


\hypertarget{classCPSFacebook_a0d55959bc29df7526c0dfcd1c87e750d}{
\index{CPSFacebook@{CPSFacebook}!setSignedRequest@{setSignedRequest}}
\index{setSignedRequest@{setSignedRequest}!CPSFacebook@{CPSFacebook}}
\subsubsection[{setSignedRequest}]{\setlength{\rightskip}{0pt plus 5cm}setSignedRequest (
\begin{DoxyParamCaption}
\item[{\$}]{ newValue}
\end{DoxyParamCaption}
)}}
\label{classCPSFacebook_a0d55959bc29df7526c0dfcd1c87e750d}


Definition at line 218 of file CPSFacebook.php.




\begin{DoxyCode}
{ $this->_signedRequest = $newValue; return $this; }
\end{DoxyCode}




\subsection{Field Documentation}
\hypertarget{classCPSFacebook_a98f1263247e46ae35ef0b714c702d0bd}{
\index{CPSFacebook@{CPSFacebook}!\$\_\-apiCallbackUrl@{\$\_\-apiCallbackUrl}}
\index{\$\_\-apiCallbackUrl@{\$\_\-apiCallbackUrl}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\$\_\-apiCallbackUrl}]{\setlength{\rightskip}{0pt plus 5cm}\$\_\-apiCallbackUrl\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_a98f1263247e46ae35ef0b714c702d0bd}


Definition at line 193 of file CPSFacebook.php.

\hypertarget{classCPSFacebook_a30d859488ed1921f08a7e8191363d9a4}{
\index{CPSFacebook@{CPSFacebook}!\$\_\-apiKey@{\$\_\-apiKey}}
\index{\$\_\-apiKey@{\$\_\-apiKey}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\$\_\-apiKey}]{\setlength{\rightskip}{0pt plus 5cm}\$\_\-apiKey\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_a30d859488ed1921f08a7e8191363d9a4}


Reimplemented from \hyperlink{classCPSApiComponent_a30d859488ed1921f08a7e8191363d9a4}{CPSApiComponent}.



Definition at line 179 of file CPSFacebook.php.

\hypertarget{classCPSFacebook_ae5bcbc03d954a2feca80ddd77054501d}{
\index{CPSFacebook@{CPSFacebook}!\$\_\-apiSecretKey@{\$\_\-apiSecretKey}}
\index{\$\_\-apiSecretKey@{\$\_\-apiSecretKey}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\$\_\-apiSecretKey}]{\setlength{\rightskip}{0pt plus 5cm}\$\_\-apiSecretKey\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_ae5bcbc03d954a2feca80ddd77054501d}


Definition at line 186 of file CPSFacebook.php.

\hypertarget{classCPSFacebook_a26f5b0452f151ceda4f18979a5eb1058}{
\index{CPSFacebook@{CPSFacebook}!\$\_\-appId@{\$\_\-appId}}
\index{\$\_\-appId@{\$\_\-appId}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\$\_\-appId}]{\setlength{\rightskip}{0pt plus 5cm}\$\_\-appId\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_a26f5b0452f151ceda4f18979a5eb1058}


Definition at line 151 of file CPSFacebook.php.

\hypertarget{classCPSFacebook_ab1025f24b9ab01061327e23b10552116}{
\index{CPSFacebook@{CPSFacebook}!\$\_\-appName@{\$\_\-appName}}
\index{\$\_\-appName@{\$\_\-appName}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\$\_\-appName}]{\setlength{\rightskip}{0pt plus 5cm}\$\_\-appName\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_ab1025f24b9ab01061327e23b10552116}


Definition at line 158 of file CPSFacebook.php.

\hypertarget{classCPSFacebook_a6adcddc9592544d2e65aed888e2bfdfa}{
\index{CPSFacebook@{CPSFacebook}!\$\_\-appPermissions@{\$\_\-appPermissions}}
\index{\$\_\-appPermissions@{\$\_\-appPermissions}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\$\_\-appPermissions}]{\setlength{\rightskip}{0pt plus 5cm}\$\_\-appPermissions = 'publish\_\-stream'\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_a6adcddc9592544d2e65aed888e2bfdfa}


Definition at line 172 of file CPSFacebook.php.

\hypertarget{classCPSFacebook_a4416500680a7b92e95184727c36eec91}{
\index{CPSFacebook@{CPSFacebook}!\$\_\-appUrl@{\$\_\-appUrl}}
\index{\$\_\-appUrl@{\$\_\-appUrl}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\$\_\-appUrl}]{\setlength{\rightskip}{0pt plus 5cm}\$\_\-appUrl\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_a4416500680a7b92e95184727c36eec91}


Definition at line 165 of file CPSFacebook.php.

\hypertarget{classCPSFacebook_ac054a508d06da60c6ffc3aab3fd7b3e7}{
\index{CPSFacebook@{CPSFacebook}!\$\_\-baseDomain@{\$\_\-baseDomain}}
\index{\$\_\-baseDomain@{\$\_\-baseDomain}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\$\_\-baseDomain}]{\setlength{\rightskip}{0pt plus 5cm}\$\_\-baseDomain = ''\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_ac054a508d06da60c6ffc3aab3fd7b3e7}


Definition at line 230 of file CPSFacebook.php.

\hypertarget{classCPSFacebook_a386bcc77c2c57c89359cc7632ac521ad}{
\index{CPSFacebook@{CPSFacebook}!\$\_\-CURL\_\-OPTS@{\$\_\-CURL\_\-OPTS}}
\index{\$\_\-CURL\_\-OPTS@{\$\_\-CURL\_\-OPTS}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\$\_\-CURL\_\-OPTS}]{\setlength{\rightskip}{0pt plus 5cm}\$\_\-CURL\_\-OPTS\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classCPSFacebook_a386bcc77c2c57c89359cc7632ac521ad}
{\bfseries Initial value:}
\begin{DoxyCode}
 array(
        CURLOPT_CONNECTTIMEOUT => 10,
        CURLOPT_RETURNTRANSFER => true,
        CURLOPT_TIMEOUT => 60,
        CURLOPT_USERAGENT => self::USER_AGENT,
    )
\end{DoxyCode}
array Default options for curl. 

Definition at line 53 of file CPSFacebook.php.

\hypertarget{classCPSFacebook_af39417a7550a728b1f3486fd0a9d3f55}{
\index{CPSFacebook@{CPSFacebook}!\$\_\-DOMAIN\_\-MAP@{\$\_\-DOMAIN\_\-MAP}}
\index{\$\_\-DOMAIN\_\-MAP@{\$\_\-DOMAIN\_\-MAP}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\$\_\-DOMAIN\_\-MAP}]{\setlength{\rightskip}{0pt plus 5cm}\$\_\-DOMAIN\_\-MAP\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classCPSFacebook_af39417a7550a728b1f3486fd0a9d3f55}
{\bfseries Initial value:}
\begin{DoxyCode}
 array(
        'api' => 'https://api.facebook.com/',
        'api_read' => 'https://api-read.facebook.com/',
        'graph' => 'https://graph.facebook.com/',
        'www' => 'https://www.facebook.com/',
    )
\end{DoxyCode}
array Maps aliases to Facebook domains. 

Definition at line 71 of file CPSFacebook.php.

\hypertarget{classCPSFacebook_aced13da18a88b032dcdbe41db9c09ed3}{
\index{CPSFacebook@{CPSFacebook}!\$\_\-DROP\_\-QUERY\_\-PARAMS@{\$\_\-DROP\_\-QUERY\_\-PARAMS}}
\index{\$\_\-DROP\_\-QUERY\_\-PARAMS@{\$\_\-DROP\_\-QUERY\_\-PARAMS}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\$\_\-DROP\_\-QUERY\_\-PARAMS}]{\setlength{\rightskip}{0pt plus 5cm}\$\_\-DROP\_\-QUERY\_\-PARAMS\hspace{0.3cm}{\ttfamily  \mbox{[}static, protected\mbox{]}}}}
\label{classCPSFacebook_aced13da18a88b032dcdbe41db9c09ed3}
{\bfseries Initial value:}
\begin{DoxyCode}
 array(
        'session',
        'signed_request',
    )
\end{DoxyCode}
array List of query parameters that get automatically dropped when rebuilding the current URL. 

Definition at line 63 of file CPSFacebook.php.

\hypertarget{classCPSFacebook_a6302bfba02d83c085b22d2aea1fc3bd6}{
\index{CPSFacebook@{CPSFacebook}!\$\_\-enableCookieSupport@{\$\_\-enableCookieSupport}}
\index{\$\_\-enableCookieSupport@{\$\_\-enableCookieSupport}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\$\_\-enableCookieSupport}]{\setlength{\rightskip}{0pt plus 5cm}\$\_\-enableCookieSupport = false\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_a6302bfba02d83c085b22d2aea1fc3bd6}


Definition at line 223 of file CPSFacebook.php.

\hypertarget{classCPSFacebook_a851bf23affeafd6281b06ff919d23a7f}{
\index{CPSFacebook@{CPSFacebook}!\$\_\-fileUploadSupport@{\$\_\-fileUploadSupport}}
\index{\$\_\-fileUploadSupport@{\$\_\-fileUploadSupport}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\$\_\-fileUploadSupport}]{\setlength{\rightskip}{0pt plus 5cm}\$\_\-fileUploadSupport = false\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_a851bf23affeafd6281b06ff919d23a7f}


Definition at line 237 of file CPSFacebook.php.

\hypertarget{classCPSFacebook_a7e2b66c375158928ec4cfa9de801ac0b}{
\index{CPSFacebook@{CPSFacebook}!\$\_\-photoList@{\$\_\-photoList}}
\index{\$\_\-photoList@{\$\_\-photoList}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\$\_\-photoList}]{\setlength{\rightskip}{0pt plus 5cm}\$\_\-photoList = null\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classCPSFacebook_a7e2b66c375158928ec4cfa9de801ac0b}


Definition at line 251 of file CPSFacebook.php.

\hypertarget{classCPSFacebook_a26d05a26685e4c898e34328911b708d3}{
\index{CPSFacebook@{CPSFacebook}!\$\_\-redirectToLoginUrl@{\$\_\-redirectToLoginUrl}}
\index{\$\_\-redirectToLoginUrl@{\$\_\-redirectToLoginUrl}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\$\_\-redirectToLoginUrl}]{\setlength{\rightskip}{0pt plus 5cm}\$\_\-redirectToLoginUrl = true\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_a26d05a26685e4c898e34328911b708d3}


Definition at line 244 of file CPSFacebook.php.

\hypertarget{classCPSFacebook_ad0641deaf4d314f034a134efaa6fbff0}{
\index{CPSFacebook@{CPSFacebook}!\$\_\-session@{\$\_\-session}}
\index{\$\_\-session@{\$\_\-session}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\$\_\-session}]{\setlength{\rightskip}{0pt plus 5cm}\$\_\-session\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_ad0641deaf4d314f034a134efaa6fbff0}


Definition at line 258 of file CPSFacebook.php.

\hypertarget{classCPSFacebook_aee8e9816087942dab4fb8bd62f413cd6}{
\index{CPSFacebook@{CPSFacebook}!\$\_\-sessionLoaded@{\$\_\-sessionLoaded}}
\index{\$\_\-sessionLoaded@{\$\_\-sessionLoaded}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\$\_\-sessionLoaded}]{\setlength{\rightskip}{0pt plus 5cm}\$\_\-sessionLoaded = false\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_aee8e9816087942dab4fb8bd62f413cd6}


Definition at line 200 of file CPSFacebook.php.

\hypertarget{classCPSFacebook_a6b432430b58baf6351a7507208363d80}{
\index{CPSFacebook@{CPSFacebook}!\$\_\-signedRequest@{\$\_\-signedRequest}}
\index{\$\_\-signedRequest@{\$\_\-signedRequest}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\$\_\-signedRequest}]{\setlength{\rightskip}{0pt plus 5cm}\$\_\-signedRequest\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classCPSFacebook_a6b432430b58baf6351a7507208363d80}


Definition at line 207 of file CPSFacebook.php.

\hypertarget{classCPSFacebook_ae5e971be39413de8adc0e47624dbee86}{
\index{CPSFacebook@{CPSFacebook}!\$READ\_\-ONLY\_\-CALLS@{\$READ\_\-ONLY\_\-CALLS}}
\index{\$READ\_\-ONLY\_\-CALLS@{\$READ\_\-ONLY\_\-CALLS}!CPSFacebook@{CPSFacebook}}
\subsubsection[{\$READ\_\-ONLY\_\-CALLS}]{\setlength{\rightskip}{0pt plus 5cm}\$READ\_\-ONLY\_\-CALLS\hspace{0.3cm}{\ttfamily  \mbox{[}static, protected\mbox{]}}}}
\label{classCPSFacebook_ae5e971be39413de8adc0e47624dbee86}
array A list of read-\/only API calls 

Definition at line 81 of file CPSFacebook.php.

\hypertarget{classCPSFacebook_afba99abd768bc1f4376bbd82d153d50b}{
\index{CPSFacebook@{CPSFacebook}!PHOTO\_\-CACHE@{PHOTO\_\-CACHE}}
\index{PHOTO\_\-CACHE@{PHOTO\_\-CACHE}!CPSFacebook@{CPSFacebook}}
\subsubsection[{PHOTO\_\-CACHE}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf PHOTO\_\-CACHE} = '\_\-photoListCache'}}
\label{classCPSFacebook_afba99abd768bc1f4376bbd82d153d50b}
Cache constants 

Definition at line 44 of file CPSFacebook.php.

\hypertarget{classCPSFacebook_aad50057168703fbd6bcab2c2c6e4d628}{
\index{CPSFacebook@{CPSFacebook}!USER\_\-AGENT@{USER\_\-AGENT}}
\index{USER\_\-AGENT@{USER\_\-AGENT}!CPSFacebook@{CPSFacebook}}
\subsubsection[{USER\_\-AGENT}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf USER\_\-AGENT} = 'pYe-\/facebook-\/php-\/2.1.2'}}
\label{classCPSFacebook_aad50057168703fbd6bcab2c2c6e4d628}


Definition at line 39 of file CPSFacebook.php.

\hypertarget{classCPSFacebook_af71005841ce53adac00581ab0ba24c1f}{
\index{CPSFacebook@{CPSFacebook}!VERSION@{VERSION}}
\index{VERSION@{VERSION}!CPSFacebook@{CPSFacebook}}
\subsubsection[{VERSION}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf VERSION} = '2.1.2'}}
\label{classCPSFacebook_af71005841ce53adac00581ab0ba24c1f}
Version of this class 

Definition at line 38 of file CPSFacebook.php.



The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
/usr/local/yiixl/lib/original/components/facebook/\hyperlink{CPSFacebook_8php}{CPSFacebook.php}\end{DoxyCompactItemize}
