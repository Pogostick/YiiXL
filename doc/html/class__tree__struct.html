<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>&quot;The Yii Extension Library Of Doom!&quot;: _tree_struct Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>_tree_struct Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="_tree_struct" --><div class="dynheader">
Inheritance diagram for _tree_struct:</div>
<div class="dyncontent">
<div class="center"><img src="class__tree__struct__inherit__graph.png" border="0" usemap="#__tree__struct_inherit__map" alt="Inheritance graph"/></div>
<map name="__tree__struct_inherit__map" id="__tree__struct_inherit__map">
<area shape="rect" id="node3" href="classjson__tree.html" title="json_tree" alt="" coords="15,83,95,112"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__tree__struct.html#a3368329f1ecafdb0bdce824dbee11498">__construct</a> ($table=&quot;tree&quot;, $fields=<a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__tree__struct.html#a90730cdcab513af31c7033d53a7cbe3f">_get_node</a> ($id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__tree__struct.html#a7b40c7b6776f12e9c4847a93e5c715c1">_get_children</a> ($id, $recursive=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__tree__struct.html#a4945f310704298fe7ac7a927b7fb7ce1">_get_path</a> ($id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__tree__struct.html#a097c5e483b03258fbe1893f8822e4138">_create</a> ($parent, $position)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__tree__struct.html#a0fc184abc11c32c1cf813d707a681396">_remove</a> ($id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__tree__struct.html#a47b82b8960edd18df25314f245e0b12c">_move</a> ($id, $ref_id, $position=0, $is_copy=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__tree__struct.html#a7c3a2753320674328d39804e4333a1bf">_fix_copy</a> ($id, $position)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__tree__struct.html#aaf77ed918b21b0bce15524444d52524c">_reconstruct</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__tree__struct.html#a0eef238b7c7f5f0e47973effe8f7bcd7">_analyze</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__tree__struct.html#a1818640cf9af42e68f1ed55e6c6ef922">_dump</a> ($output=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__tree__struct.html#a6087da3fdf86bec06110235e038d4163">_drop</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__tree__struct.html#ae8876a14058f368335baccf35af4a22b">$table</a> = &quot;&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__tree__struct.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00002">2</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3368329f1ecafdb0bdce824dbee11498"></a><!-- doxytag: member="_tree_struct::__construct" ref="a3368329f1ecafdb0bdce824dbee11498" args="($table=&quot;tree&quot;, $fields=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em> = <code>&quot;tree&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fields</em> = <code><a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00015">15</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

<p><div class="fragment"><pre class="fragment">                                                             {
        $this-&gt;table = <a class="code" href="class__tree__struct.html#ae8876a14058f368335baccf35af4a22b">$table</a>;
        <span class="keywordflow">if</span>(!count(<a class="code" href="class__tree__struct.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>)) {
            <span class="keywordflow">foreach</span>($this-&gt;fields as $k =&gt; &amp;$v) { $v = $k; }
        }
        <span class="keywordflow">else</span> {
            <span class="keywordflow">foreach</span>(<a class="code" href="class__tree__struct.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a> as $key =&gt; $field) {
                <span class="keywordflow">switch</span>($key) {
                    <span class="keywordflow">case</span> <span class="stringliteral">&quot;id&quot;</span>:
                    <span class="keywordflow">case</span> <span class="stringliteral">&quot;parent_id&quot;</span>:
                    <span class="keywordflow">case</span> <span class="stringliteral">&quot;position&quot;</span>:
                    <span class="keywordflow">case</span> <span class="stringliteral">&quot;left&quot;</span>:
                    <span class="keywordflow">case</span> <span class="stringliteral">&quot;right&quot;</span>:
                    <span class="keywordflow">case</span> <span class="stringliteral">&quot;level&quot;</span>:
                        $this-&gt;fields[$key] = $field;
                        <span class="keywordflow">break</span>;
                }
            }
        }
        <span class="comment">// Database</span>
        $this-&gt;db = <span class="keyword">new</span> <a class="code" href="class__database.html">_database</a>;
    }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a0eef238b7c7f5f0e47973effe8f7bcd7"></a><!-- doxytag: member="_tree_struct::_analyze" ref="a0eef238b7c7f5f0e47973effe8f7bcd7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_analyze </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00387">387</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

<p><div class="fragment"><pre class="fragment">                        {
        $report = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();

        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;&quot;</span> . 
            <span class="stringliteral">&quot;SELECT &quot;</span> . 
                <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;` FROM `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` s &quot;</span> . 
            <span class="stringliteral">&quot;WHERE &quot;</span> . 
                <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;` = 0 &quot;</span>
        );
        $this-&gt;db-&gt;nextr();
        <span class="keywordflow">if</span>($this-&gt;db-&gt;nf() == 0) {
            $report[] = <span class="stringliteral">&quot;[FAIL]\tNo root node.&quot;</span>;
        }
        <span class="keywordflow">else</span> {
            $report[] = ($this-&gt;db-&gt;nf() &gt; 1) ? <span class="stringliteral">&quot;[FAIL]\tMore than one root node.&quot;</span> : <span class="stringliteral">&quot;[OK]\tJust one root node.&quot;</span>;
        }
        $report[] = ($this-&gt;db-&gt;f(0) != 1) ? <span class="stringliteral">&quot;[FAIL]\tRoot node&#39;s left index is not 1.&quot;</span> : <span class="stringliteral">&quot;[OK]\tRoot node&#39;s left index is 1.&quot;</span>;

        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;&quot;</span> . 
            <span class="stringliteral">&quot;SELECT &quot;</span> . 
                <span class="stringliteral">&quot;COUNT(*) FROM `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` s &quot;</span> . 
            <span class="stringliteral">&quot;WHERE &quot;</span> . 
                <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;` != 0 AND &quot;</span> . 
                <span class="stringliteral">&quot;(SELECT COUNT(*) FROM `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` WHERE `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` = s.`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;`) = 0 &quot;</span>);
        $this-&gt;db-&gt;nextr();
        $report[] = ($this-&gt;db-&gt;f(0) &gt; 0) ? <span class="stringliteral">&quot;[FAIL]\tMissing parents.&quot;</span> : <span class="stringliteral">&quot;[OK]\tNo missing parents.&quot;</span>;

        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;SELECT MAX(`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;`) FROM `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;`&quot;</span>);
        $this-&gt;db-&gt;nextr();
        $n = $this-&gt;db-&gt;f(0);
        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;SELECT COUNT(*) FROM `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;`&quot;</span>);
        $this-&gt;db-&gt;nextr();
        $c = $this-&gt;db-&gt;f(0);
        $report[] = ($n/2 != $c) ? <span class="stringliteral">&quot;[FAIL]\tRight index does not match node count.&quot;</span> : <span class="stringliteral">&quot;[OK]\tRight index matches count.&quot;</span>;

        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;&quot;</span> . 
            <span class="stringliteral">&quot;SELECT COUNT(`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;`) FROM `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` s &quot;</span> . 
            <span class="stringliteral">&quot;WHERE &quot;</span> . 
                <span class="stringliteral">&quot;(SELECT COUNT(*) FROM `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` WHERE &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;` &lt; s.`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;` AND &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;` &gt; s.`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;` AND &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;level&quot;</span>].<span class="stringliteral">&quot;` = s.`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;level&quot;</span>].<span class="stringliteral">&quot;` + 1&quot;</span> . 
                <span class="stringliteral">&quot;) != &quot;</span> .
                <span class="stringliteral">&quot;(SELECT COUNT(*) FROM `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` WHERE &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;` = s.`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;`&quot;</span> . 
                <span class="stringliteral">&quot;) &quot;</span>
            );
        $this-&gt;db-&gt;nextr();
        $report[] = ($this-&gt;db-&gt;f(0) &gt; 0) ? <span class="stringliteral">&quot;[FAIL]\tAdjacency and nested set do not match.&quot;</span> : <span class="stringliteral">&quot;[OK]\tNS and AJ match&quot;</span>;

        <span class="keywordflow">return</span> implode(<span class="stringliteral">&quot;&lt;br /&gt;&quot;</span>,$report);
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a097c5e483b03258fbe1893f8822e4138"></a><!-- doxytag: member="_tree_struct::_create" ref="a097c5e483b03258fbe1893f8822e4138" args="($parent, $position)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_create </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>position</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00064">64</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

<p><div class="fragment"><pre class="fragment">                                         {
        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class__tree__struct.html#a47b82b8960edd18df25314f245e0b12c">_move</a>(0, $parent, $position);
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class__tree__struct_a097c5e483b03258fbe1893f8822e4138_cgraph.png" border="0" usemap="#class__tree__struct_a097c5e483b03258fbe1893f8822e4138_cgraph" alt=""/></div>
<map name="class__tree__struct_a097c5e483b03258fbe1893f8822e4138_cgraph" id="class__tree__struct_a097c5e483b03258fbe1893f8822e4138_cgraph">
<area shape="rect" id="node3" href="class__tree__struct.html#a47b82b8960edd18df25314f245e0b12c" title="_move" alt="" coords="127,56,191,85"/><area shape="rect" id="node5" href="class__tree__struct.html#a7c3a2753320674328d39804e4333a1bf" title="_fix_copy" alt="" coords="240,56,320,85"/><area shape="rect" id="node7" href="class__tree__struct.html#a7b40c7b6776f12e9c4847a93e5c715c1" title="_get_children" alt="" coords="368,5,475,35"/><area shape="rect" id="node9" href="class__tree__struct.html#a90730cdcab513af31c7033d53a7cbe3f" title="_get_node" alt="" coords="524,57,612,87"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class__tree__struct_a097c5e483b03258fbe1893f8822e4138_icgraph.png" border="0" usemap="#class__tree__struct_a097c5e483b03258fbe1893f8822e4138_icgraph" alt=""/></div>
<map name="class__tree__struct_a097c5e483b03258fbe1893f8822e4138_icgraph" id="class__tree__struct_a097c5e483b03258fbe1893f8822e4138_icgraph">
<area shape="rect" id="node3" href="classjson__tree.html#ac9d9bf3c8445db1706adaff0a4965e25" title="json_tree::create_node" alt="" coords="127,5,295,35"/><area shape="rect" id="node5" href="classjson__tree.html#a438616d6ee8d5a957b96f4316934217c" title="json_tree::_create_default" alt="" coords="345,5,532,35"/><area shape="rect" id="node7" href="classjson__tree.html#ad3fd3b76ef6bcc1035c30a0e7a4f65cc" title="json_tree::get_children" alt="" coords="583,5,748,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6087da3fdf86bec06110235e038d4163"></a><!-- doxytag: member="_tree_struct::_drop" ref="a6087da3fdf86bec06110235e038d4163" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_drop </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00455">455</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

<p><div class="fragment"><pre class="fragment">                     {
        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;TRUNCATE TABLE `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;`&quot;</span>);
        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;&quot;</span> . 
                <span class="stringliteral">&quot;INSERT INTO `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` (&quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;level&quot;</span>].<span class="stringliteral">&quot;` &quot;</span> . 
                    <span class="stringliteral">&quot;) &quot;</span> . 
                <span class="stringliteral">&quot;VALUES (&quot;</span> . 
                    <span class="stringliteral">&quot;1, &quot;</span> . 
                    <span class="stringliteral">&quot;0, &quot;</span> . 
                    <span class="stringliteral">&quot;0, &quot;</span> . 
                    <span class="stringliteral">&quot;1, &quot;</span> . 
                    <span class="stringliteral">&quot;2, &quot;</span> . 
                    <span class="stringliteral">&quot;0 &quot;</span>. 
                <span class="stringliteral">&quot;)&quot;</span>);
    }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class__tree__struct_a6087da3fdf86bec06110235e038d4163_icgraph.png" border="0" usemap="#class__tree__struct_a6087da3fdf86bec06110235e038d4163_icgraph" alt=""/></div>
<map name="class__tree__struct_a6087da3fdf86bec06110235e038d4163_icgraph" id="class__tree__struct_a6087da3fdf86bec06110235e038d4163_icgraph">
<area shape="rect" id="node3" href="classjson__tree.html#a438616d6ee8d5a957b96f4316934217c" title="json_tree::_create_default" alt="" coords="113,5,300,35"/><area shape="rect" id="node5" href="classjson__tree.html#ad3fd3b76ef6bcc1035c30a0e7a4f65cc" title="json_tree::get_children" alt="" coords="351,5,516,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1818640cf9af42e68f1ed55e6c6ef922"></a><!-- doxytag: member="_tree_struct::_dump" ref="a1818640cf9af42e68f1ed55e6c6ef922" args="($output=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_dump </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>output</em> = <code>false</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00440">440</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

<p><div class="fragment"><pre class="fragment">                                    {
        $nodes = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();
        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;SELECT * FROM &quot;</span>.$this-&gt;table.<span class="stringliteral">&quot; ORDER BY `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;`&quot;</span>);
        <span class="keywordflow">while</span>($this-&gt;db-&gt;nextr()) $nodes[] = $this-&gt;db-&gt;get_row(<span class="stringliteral">&quot;assoc&quot;</span>);
        <span class="keywordflow">if</span>($output) {
            echo <span class="stringliteral">&quot;&lt;pre&gt;&quot;</span>;
            <span class="keywordflow">foreach</span>($nodes as $node) {
                echo str_repeat(<span class="stringliteral">&quot;&amp;#160;&quot;</span>,(<span class="keywordtype">int</span>)$node[$this-&gt;fields[<span class="stringliteral">&quot;level&quot;</span>]] * 2);
                echo $node[$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>]].<span class="stringliteral">&quot; (&quot;</span>.$node[$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>]].<span class="stringliteral">&quot;,&quot;</span>.$node[$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>]].<span class="stringliteral">&quot;,&quot;</span>.$node[$this-&gt;fields[<span class="stringliteral">&quot;level&quot;</span>]].<span class="stringliteral">&quot;,&quot;</span>.$node[$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>]].<span class="stringliteral">&quot;,&quot;</span>.$node[$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>]].<span class="stringliteral">&quot;)&lt;br /&gt;&quot;</span>;
            }
            echo str_repeat(<span class="stringliteral">&quot;-&quot;</span>,40);
            echo <span class="stringliteral">&quot;&lt;/pre&gt;&quot;</span>;
        }
        <span class="keywordflow">return</span> $nodes;
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7c3a2753320674328d39804e4333a1bf"></a><!-- doxytag: member="_tree_struct::_fix_copy" ref="a7c3a2753320674328d39804e4333a1bf" args="($id, $position)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_fix_copy </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>position</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00241">241</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

<p><div class="fragment"><pre class="fragment">                                       {
        $node = $this-&gt;<a class="code" href="class__tree__struct.html#a90730cdcab513af31c7033d53a7cbe3f">_get_node</a>($id);
        $children = $this-&gt;<a class="code" href="class__tree__struct.html#a7b40c7b6776f12e9c4847a93e5c715c1">_get_children</a>($id, <span class="keyword">true</span>);

        $map = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();
        <span class="keywordflow">for</span>($i = $node[$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>]] + 1; $i &lt; $node[$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>]]; $i++) {
            $map[$i] = $id;
        }
        <span class="keywordflow">foreach</span>($children as $cid =&gt; $child) {
            <span class="keywordflow">if</span>((<span class="keywordtype">int</span>)$cid == (<span class="keywordtype">int</span>)$id) {
                $this-&gt;db-&gt;query(<span class="stringliteral">&quot;UPDATE `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` SET `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;` = &quot;</span>.$position.<span class="stringliteral">&quot; WHERE `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` = &quot;</span>.$cid);
                <span class="keywordflow">continue</span>;
            }
            $this-&gt;db-&gt;query(<span class="stringliteral">&quot;UPDATE `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` SET `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;` = &quot;</span>.$map[(<span class="keywordtype">int</span>)$child[$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>]]].<span class="stringliteral">&quot; WHERE `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` = &quot;</span>.$cid);
            <span class="keywordflow">for</span>($i = $child[$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>]] + 1; $i &lt; $child[$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>]]; $i++) {
                $map[$i] = $cid;
            }
        }
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class__tree__struct_a7c3a2753320674328d39804e4333a1bf_cgraph.png" border="0" usemap="#class__tree__struct_a7c3a2753320674328d39804e4333a1bf_cgraph" alt=""/></div>
<map name="class__tree__struct_a7c3a2753320674328d39804e4333a1bf_cgraph" id="class__tree__struct_a7c3a2753320674328d39804e4333a1bf_cgraph">
<area shape="rect" id="node3" href="class__tree__struct.html#a7b40c7b6776f12e9c4847a93e5c715c1" title="_get_children" alt="" coords="133,5,240,35"/><area shape="rect" id="node5" href="class__tree__struct.html#a90730cdcab513af31c7033d53a7cbe3f" title="_get_node" alt="" coords="289,32,377,61"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class__tree__struct_a7c3a2753320674328d39804e4333a1bf_icgraph.png" border="0" usemap="#class__tree__struct_a7c3a2753320674328d39804e4333a1bf_icgraph" alt=""/></div>
<map name="class__tree__struct_a7c3a2753320674328d39804e4333a1bf_icgraph" id="class__tree__struct_a7c3a2753320674328d39804e4333a1bf_icgraph">
<area shape="rect" id="node3" href="class__tree__struct.html#a47b82b8960edd18df25314f245e0b12c" title="_move" alt="" coords="135,32,199,61"/><area shape="rect" id="node5" href="class__tree__struct.html#a097c5e483b03258fbe1893f8822e4138" title="_create" alt="" coords="296,5,365,35"/><area shape="rect" id="node13" href="classjson__tree.html#a9ce104764aac589b3c6faa3336d18a07" title="json_tree::move_node" alt="" coords="249,59,412,88"/><area shape="rect" id="node7" href="classjson__tree.html#ac9d9bf3c8445db1706adaff0a4965e25" title="json_tree::create_node" alt="" coords="463,5,631,35"/><area shape="rect" id="node9" href="classjson__tree.html#a438616d6ee8d5a957b96f4316934217c" title="json_tree::_create_default" alt="" coords="681,5,868,35"/><area shape="rect" id="node11" href="classjson__tree.html#ad3fd3b76ef6bcc1035c30a0e7a4f65cc" title="json_tree::get_children" alt="" coords="919,5,1084,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7b40c7b6776f12e9c4847a93e5c715c1"></a><!-- doxytag: member="_tree_struct::_get_children" ref="a7b40c7b6776f12e9c4847a93e5c715c1" args="($id, $recursive=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_get_children </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>recursive</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00043">43</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

<p><div class="fragment"><pre class="fragment">                                                    {
        $children = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();
        <span class="keywordflow">if</span>($recursive) {
            $node = $this-&gt;<a class="code" href="class__tree__struct.html#a90730cdcab513af31c7033d53a7cbe3f">_get_node</a>($id);
            $this-&gt;db-&gt;query(<span class="stringliteral">&quot;SELECT `&quot;</span>.implode(<span class="stringliteral">&quot;` , `&quot;</span>, $this-&gt;fields).<span class="stringliteral">&quot;` FROM `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` WHERE `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;` &gt;= &quot;</span>.(<span class="keywordtype">int</span>) $node[$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>]].<span class="stringliteral">&quot; AND `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;` &lt;= &quot;</span>.(<span class="keywordtype">int</span>) $node[$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>]].<span class="stringliteral">&quot; ORDER BY `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;` ASC&quot;</span>);
        }
        <span class="keywordflow">else</span> {
            $this-&gt;db-&gt;query(<span class="stringliteral">&quot;SELECT `&quot;</span>.implode(<span class="stringliteral">&quot;` , `&quot;</span>, $this-&gt;fields).<span class="stringliteral">&quot;` FROM `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` WHERE `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;` = &quot;</span>.(<span class="keywordtype">int</span>) $id.<span class="stringliteral">&quot; ORDER BY `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;` ASC&quot;</span>);
        }
        <span class="keywordflow">while</span>($this-&gt;db-&gt;nextr()) $children[$this-&gt;db-&gt;f($this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>])] = $this-&gt;db-&gt;get_row(<span class="stringliteral">&quot;assoc&quot;</span>);
        <span class="keywordflow">return</span> $children;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class__tree__struct_a7b40c7b6776f12e9c4847a93e5c715c1_cgraph.png" border="0" usemap="#class__tree__struct_a7b40c7b6776f12e9c4847a93e5c715c1_cgraph" alt=""/></div>
<map name="class__tree__struct_a7b40c7b6776f12e9c4847a93e5c715c1_cgraph" id="class__tree__struct_a7b40c7b6776f12e9c4847a93e5c715c1_cgraph">
<area shape="rect" id="node3" href="class__tree__struct.html#a90730cdcab513af31c7033d53a7cbe3f" title="_get_node" alt="" coords="161,5,249,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class__tree__struct_a7b40c7b6776f12e9c4847a93e5c715c1_icgraph.png" border="0" usemap="#class__tree__struct_a7b40c7b6776f12e9c4847a93e5c715c1_icgraph" alt=""/></div>
<map name="class__tree__struct_a7b40c7b6776f12e9c4847a93e5c715c1_icgraph" id="class__tree__struct_a7b40c7b6776f12e9c4847a93e5c715c1_icgraph">
<area shape="rect" id="node3" href="class__tree__struct.html#a7c3a2753320674328d39804e4333a1bf" title="_fix_copy" alt="" coords="160,93,240,123"/><area shape="rect" id="node5" href="class__tree__struct.html#a47b82b8960edd18df25314f245e0b12c" title="_move" alt="" coords="289,68,353,97"/><area shape="rect" id="node13" href="classjson__tree.html#ad3fd3b76ef6bcc1035c30a0e7a4f65cc" title="json_tree::get_children" alt="" coords="1073,20,1239,49"/><area shape="rect" id="node15" href="classjson__tree.html#a9ce104764aac589b3c6faa3336d18a07" title="json_tree::move_node" alt="" coords="404,139,567,168"/><area shape="rect" id="node7" href="class__tree__struct.html#a097c5e483b03258fbe1893f8822e4138" title="_create" alt="" coords="451,61,520,91"/><area shape="rect" id="node9" href="classjson__tree.html#ac9d9bf3c8445db1706adaff0a4965e25" title="json_tree::create_node" alt="" coords="617,55,785,84"/><area shape="rect" id="node11" href="classjson__tree.html#a438616d6ee8d5a957b96f4316934217c" title="json_tree::_create_default" alt="" coords="836,48,1023,77"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a90730cdcab513af31c7033d53a7cbe3f"></a><!-- doxytag: member="_tree_struct::_get_node" ref="a90730cdcab513af31c7033d53a7cbe3f" args="($id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_get_node </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00038">38</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

<p><div class="fragment"><pre class="fragment">                            {
        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;SELECT `&quot;</span>.implode(<span class="stringliteral">&quot;` , `&quot;</span>, $this-&gt;fields).<span class="stringliteral">&quot;` FROM `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` WHERE `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` = &quot;</span>.(<span class="keywordtype">int</span>) $id);
        $this-&gt;db-&gt;nextr();
        <span class="keywordflow">return</span> $this-&gt;db-&gt;nf() === 0 ? <span class="keyword">false</span> : $this-&gt;db-&gt;get_row(<span class="stringliteral">&quot;assoc&quot;</span>);
    }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class__tree__struct_a90730cdcab513af31c7033d53a7cbe3f_icgraph.png" border="0" usemap="#class__tree__struct_a90730cdcab513af31c7033d53a7cbe3f_icgraph" alt=""/></div>
<map name="class__tree__struct_a90730cdcab513af31c7033d53a7cbe3f_icgraph" id="class__tree__struct_a90730cdcab513af31c7033d53a7cbe3f_icgraph">
<area shape="rect" id="node3" href="class__tree__struct.html#a7c3a2753320674328d39804e4333a1bf" title="_fix_copy" alt="" coords="348,46,428,75"/><area shape="rect" id="node5" href="class__tree__struct.html#a47b82b8960edd18df25314f245e0b12c" title="_move" alt="" coords="527,94,591,123"/><area shape="rect" id="node17" href="class__tree__struct.html#a7b40c7b6776f12e9c4847a93e5c715c1" title="_get_children" alt="" coords="144,98,251,127"/><area shape="rect" id="node23" href="class__tree__struct.html#a4945f310704298fe7ac7a927b7fb7ce1" title="_get_path" alt="" coords="155,151,240,180"/><area shape="rect" id="node26" href="class__tree__struct.html#a0fc184abc11c32c1cf813d707a681396" title="_remove" alt="" coords="159,227,236,256"/><area shape="rect" id="node7" href="class__tree__struct.html#a097c5e483b03258fbe1893f8822e4138" title="_create" alt="" coords="688,94,757,123"/><area shape="rect" id="node15" href="classjson__tree.html#a9ce104764aac589b3c6faa3336d18a07" title="json_tree::move_node" alt="" coords="641,147,804,176"/><area shape="rect" id="node9" href="classjson__tree.html#ac9d9bf3c8445db1706adaff0a4965e25" title="json_tree::create_node" alt="" coords="855,107,1023,136"/><area shape="rect" id="node11" href="classjson__tree.html#a438616d6ee8d5a957b96f4316934217c" title="json_tree::_create_default" alt="" coords="1073,134,1260,163"/><area shape="rect" id="node13" href="classjson__tree.html#ad3fd3b76ef6bcc1035c30a0e7a4f65cc" title="json_tree::get_children" alt="" coords="1311,167,1476,196"/><area shape="rect" id="node28" href="classjson__tree.html#aa67515e6b060a39b45943138da065883" title="json_tree::remove_node" alt="" coords="300,251,476,280"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4945f310704298fe7ac7a927b7fb7ce1"></a><!-- doxytag: member="_tree_struct::_get_path" ref="a4945f310704298fe7ac7a927b7fb7ce1" args="($id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_get_path </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00055">55</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

<p><div class="fragment"><pre class="fragment">                            {
        $node = $this-&gt;<a class="code" href="class__tree__struct.html#a90730cdcab513af31c7033d53a7cbe3f">_get_node</a>($id);
        $path = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();
        <span class="keywordflow">if</span>(!$node === <span class="keyword">false</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;SELECT `&quot;</span>.implode(<span class="stringliteral">&quot;` , `&quot;</span>, $this-&gt;fields).<span class="stringliteral">&quot;` FROM `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` WHERE `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;` &lt;= &quot;</span>.(<span class="keywordtype">int</span>) $node[$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>]].<span class="stringliteral">&quot; AND `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;` &gt;= &quot;</span>.(<span class="keywordtype">int</span>) $node[$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>]]);
        <span class="keywordflow">while</span>($this-&gt;db-&gt;nextr()) $path[$this-&gt;db-&gt;f($this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>])] = $this-&gt;db-&gt;get_row(<span class="stringliteral">&quot;assoc&quot;</span>);
        <span class="keywordflow">return</span> $path;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class__tree__struct_a4945f310704298fe7ac7a927b7fb7ce1_cgraph.png" border="0" usemap="#class__tree__struct_a4945f310704298fe7ac7a927b7fb7ce1_cgraph" alt=""/></div>
<map name="class__tree__struct_a4945f310704298fe7ac7a927b7fb7ce1_cgraph" id="class__tree__struct_a4945f310704298fe7ac7a927b7fb7ce1_cgraph">
<area shape="rect" id="node3" href="class__tree__struct.html#a90730cdcab513af31c7033d53a7cbe3f" title="_get_node" alt="" coords="143,5,231,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a47b82b8960edd18df25314f245e0b12c"></a><!-- doxytag: member="_tree_struct::_move" ref="a47b82b8960edd18df25314f245e0b12c" args="($id, $ref_id, $position=0, $is_copy=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_move </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>ref_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>position</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>is_copy</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00103">103</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

<p><div class="fragment"><pre class="fragment">                                                                  {
        <span class="keywordflow">if</span>((<span class="keywordtype">int</span>)$ref_id === 0 || (<span class="keywordtype">int</span>)$id === 1) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
        $sql        = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();                      <span class="comment">// Queries executed at the end</span>
        $node       = $this-&gt;<a class="code" href="class__tree__struct.html#a90730cdcab513af31c7033d53a7cbe3f">_get_node</a>($id);        <span class="comment">// Node data</span>
        $nchildren  = $this-&gt;<a class="code" href="class__tree__struct.html#a7b40c7b6776f12e9c4847a93e5c715c1">_get_children</a>($id);    <span class="comment">// Node children</span>
        $ref_node   = $this-&gt;<a class="code" href="class__tree__struct.html#a90730cdcab513af31c7033d53a7cbe3f">_get_node</a>($ref_id);    <span class="comment">// Ref node data</span>
        $rchildren  = $this-&gt;<a class="code" href="class__tree__struct.html#a7b40c7b6776f12e9c4847a93e5c715c1">_get_children</a>($ref_id);<span class="comment">// Ref node children</span>

        $ndif = 2;
        $node_ids = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(-1);
        <span class="keywordflow">if</span>($node !== <span class="keyword">false</span>) {
            $node_ids = array_keys($this-&gt;<a class="code" href="class__tree__struct.html#a7b40c7b6776f12e9c4847a93e5c715c1">_get_children</a>($id, <span class="keyword">true</span>));
            <span class="comment">// TODO: should be !$is_copy &amp;&amp; , but if copied to self - screws some right indexes</span>
            <span class="keywordflow">if</span>(in_array($ref_id, $node_ids)) <span class="keywordflow">return</span> <span class="keyword">false</span>;
            $ndif = $node[$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>]] - $node[$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>]] + 1;
        }
        <span class="keywordflow">if</span>($position &gt;= count($rchildren)) {
            $position = count($rchildren);
        }

        <span class="comment">// Not creating or copying - old parent is cleaned</span>
        <span class="keywordflow">if</span>($node !== <span class="keyword">false</span> &amp;&amp; $is_copy == <span class="keyword">false</span>) {
            $sql[] = <span class="stringliteral">&quot;&quot;</span> . 
                <span class="stringliteral">&quot;UPDATE `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` &quot;</span> . 
                    <span class="stringliteral">&quot;SET `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;` = `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;` - 1 &quot;</span> . 
                <span class="stringliteral">&quot;WHERE &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;` = &quot;</span>.$node[$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>]].<span class="stringliteral">&quot; AND &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;` &gt; &quot;</span>.$node[$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>]];
            $sql[] = <span class="stringliteral">&quot;&quot;</span> . 
                <span class="stringliteral">&quot;UPDATE `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` &quot;</span> . 
                    <span class="stringliteral">&quot;SET `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;` = `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;` - &quot;</span>.$ndif.<span class="stringliteral">&quot; &quot;</span> . 
                <span class="stringliteral">&quot;WHERE `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;` &gt; &quot;</span>.$node[$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>]];
            $sql[] = <span class="stringliteral">&quot;&quot;</span> . 
                <span class="stringliteral">&quot;UPDATE `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` &quot;</span> . 
                    <span class="stringliteral">&quot;SET `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;` = `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;` - &quot;</span>.$ndif.<span class="stringliteral">&quot; &quot;</span> . 
                <span class="stringliteral">&quot;WHERE &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;` &gt; &quot;</span>.$node[$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>]].<span class="stringliteral">&quot; AND &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` NOT IN (&quot;</span>.implode(<span class="stringliteral">&quot;,&quot;</span>, $node_ids).<span class="stringliteral">&quot;) &quot;</span>;
        }
        <span class="comment">// Preparing new parent</span>
        $sql[] = <span class="stringliteral">&quot;&quot;</span> . 
            <span class="stringliteral">&quot;UPDATE `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` &quot;</span> . 
                <span class="stringliteral">&quot;SET `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;` = `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;` + 1 &quot;</span> . 
            <span class="stringliteral">&quot;WHERE &quot;</span> . 
                <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;` = &quot;</span>.$ref_id.<span class="stringliteral">&quot; AND &quot;</span> . 
                <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;` &gt;= &quot;</span>.$position.<span class="stringliteral">&quot; &quot;</span> . 
                ( $is_copy ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot; AND `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` NOT IN (&quot;</span>.implode(<span class="stringliteral">&quot;,&quot;</span>, $node_ids).<span class="stringliteral">&quot;) &quot;</span>);

        $ref_ind = $ref_id === 0 ? (int)$rchildren[count($rchildren) - 1][$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>]] + 1 : (int)$ref_node[$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>]];
        $ref_ind = max($ref_ind, 1);

        $self = ($node !== <span class="keyword">false</span> &amp;&amp; !$is_copy &amp;&amp; (int)$node[$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>]] == $ref_id &amp;&amp; $position &gt; $node[$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>]]) ? 1 : 0;
        <span class="keywordflow">foreach</span>($rchildren as $k =&gt; $v) {
            <span class="keywordflow">if</span>($v[$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>]] - $self == $position) {
                $ref_ind = (int)$v[$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>]];
                <span class="keywordflow">break</span>;
            }
        }
        <span class="keywordflow">if</span>($node !== <span class="keyword">false</span> &amp;&amp; !$is_copy &amp;&amp; $node[$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>]] &lt; $ref_ind) {
            $ref_ind -= $ndif;
        }

        $sql[] = <span class="stringliteral">&quot;&quot;</span> . 
            <span class="stringliteral">&quot;UPDATE `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` &quot;</span> . 
                <span class="stringliteral">&quot;SET `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;` = `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;` + &quot;</span>.$ndif.<span class="stringliteral">&quot; &quot;</span> . 
            <span class="stringliteral">&quot;WHERE &quot;</span> . 
                <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;` &gt;= &quot;</span>.$ref_ind.<span class="stringliteral">&quot; &quot;</span> . 
                ( $is_copy ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot; AND `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` NOT IN (&quot;</span>.implode(<span class="stringliteral">&quot;,&quot;</span>, $node_ids).<span class="stringliteral">&quot;) &quot;</span>);
        $sql[] = <span class="stringliteral">&quot;&quot;</span> . 
            <span class="stringliteral">&quot;UPDATE `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` &quot;</span> . 
                <span class="stringliteral">&quot;SET `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;` = `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;` + &quot;</span>.$ndif.<span class="stringliteral">&quot; &quot;</span> . 
            <span class="stringliteral">&quot;WHERE &quot;</span> . 
                <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;` &gt;= &quot;</span>.$ref_ind.<span class="stringliteral">&quot; &quot;</span> . 
                ( $is_copy ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot; AND `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` NOT IN (&quot;</span>.implode(<span class="stringliteral">&quot;,&quot;</span>, $node_ids).<span class="stringliteral">&quot;) &quot;</span>);

        $ldif = $ref_id == 0 ? 0 : $ref_node[$this-&gt;fields[<span class="stringliteral">&quot;level&quot;</span>]] + 1;
        $idif = $ref_ind;
        <span class="keywordflow">if</span>($node !== <span class="keyword">false</span>) {
            $ldif = $node[$this-&gt;fields[<span class="stringliteral">&quot;level&quot;</span>]] - ($ref_node[$this-&gt;fields[<span class="stringliteral">&quot;level&quot;</span>]] + 1);
            $idif = $node[$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>]] - $ref_ind;
            <span class="keywordflow">if</span>($is_copy) {
                $sql[] = <span class="stringliteral">&quot;&quot;</span> . 
                    <span class="stringliteral">&quot;INSERT INTO `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` (&quot;</span> . 
                        <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                        <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                        <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                        <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                        <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;level&quot;</span>].<span class="stringliteral">&quot;`&quot;</span> . 
                    <span class="stringliteral">&quot;) &quot;</span> . 
                        <span class="stringliteral">&quot;SELECT &quot;</span> . 
                            <span class="stringliteral">&quot;&quot;</span>.$ref_id.<span class="stringliteral">&quot;, &quot;</span> . 
                            <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                            <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;` - (&quot;</span>.($idif + ($node[$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>]] &gt;= $ref_ind ? $ndif : 0)).<span class="stringliteral">&quot;), &quot;</span> . 
                            <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;` - (&quot;</span>.($idif + ($node[$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>]] &gt;= $ref_ind ? $ndif : 0)).<span class="stringliteral">&quot;), &quot;</span> . 
                            <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;level&quot;</span>].<span class="stringliteral">&quot;` - (&quot;</span>.$ldif.<span class="stringliteral">&quot;) &quot;</span> . 
                        <span class="stringliteral">&quot;FROM `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` &quot;</span> . 
                        <span class="stringliteral">&quot;WHERE &quot;</span> . 
                            <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` IN (&quot;</span>.implode(<span class="stringliteral">&quot;,&quot;</span>, $node_ids).<span class="stringliteral">&quot;) &quot;</span> . 
                        <span class="stringliteral">&quot;ORDER BY `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;level&quot;</span>].<span class="stringliteral">&quot;` ASC&quot;</span>;
            }
            <span class="keywordflow">else</span> {
                $sql[] = <span class="stringliteral">&quot;&quot;</span> . 
                    <span class="stringliteral">&quot;UPDATE `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` SET &quot;</span> . 
                        <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;` = &quot;</span>.$ref_id.<span class="stringliteral">&quot;, &quot;</span> . 
                        <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;` = &quot;</span>.$position.<span class="stringliteral">&quot; &quot;</span> . 
                    <span class="stringliteral">&quot;WHERE &quot;</span> . 
                        <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` = &quot;</span>.$id;
                $sql[] = <span class="stringliteral">&quot;&quot;</span> . 
                    <span class="stringliteral">&quot;UPDATE `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` SET &quot;</span> . 
                        <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;` = `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;` - (&quot;</span>.$idif.<span class="stringliteral">&quot;), &quot;</span> . 
                        <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;` = `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;` - (&quot;</span>.$idif.<span class="stringliteral">&quot;), &quot;</span> . 
                        <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;level&quot;</span>].<span class="stringliteral">&quot;` = `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;level&quot;</span>].<span class="stringliteral">&quot;` - (&quot;</span>.$ldif.<span class="stringliteral">&quot;) &quot;</span> . 
                    <span class="stringliteral">&quot;WHERE &quot;</span> . 
                        <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` IN (&quot;</span>.implode(<span class="stringliteral">&quot;,&quot;</span>, $node_ids).<span class="stringliteral">&quot;) &quot;</span>;
            }
        }
        <span class="keywordflow">else</span> {
            $sql[] = <span class="stringliteral">&quot;&quot;</span> . 
                <span class="stringliteral">&quot;INSERT INTO `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` (&quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;level&quot;</span>].<span class="stringliteral">&quot;` &quot;</span> . 
                    <span class="stringliteral">&quot;) &quot;</span> . 
                <span class="stringliteral">&quot;VALUES (&quot;</span> . 
                    $ref_id.<span class="stringliteral">&quot;, &quot;</span> . 
                    $position.<span class="stringliteral">&quot;, &quot;</span> . 
                    $idif.<span class="stringliteral">&quot;, &quot;</span> . 
                    ($idif + 1).<span class="stringliteral">&quot;, &quot;</span> . 
                    $ldif. 
                <span class="stringliteral">&quot;)&quot;</span>;
        }
        <span class="keywordflow">foreach</span>($sql as $q) { $this-&gt;db-&gt;query($q); }
        $ind = $this-&gt;db-&gt;insert_id();
        <span class="keywordflow">if</span>($is_copy) $this-&gt;<a class="code" href="class__tree__struct.html#a7c3a2753320674328d39804e4333a1bf">_fix_copy</a>($ind, $position);
        <span class="keywordflow">return</span> $node === <span class="keyword">false</span> || $is_copy ? $ind : <span class="keyword">true</span>;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class__tree__struct_a47b82b8960edd18df25314f245e0b12c_cgraph.png" border="0" usemap="#class__tree__struct_a47b82b8960edd18df25314f245e0b12c_cgraph" alt=""/></div>
<map name="class__tree__struct_a47b82b8960edd18df25314f245e0b12c_cgraph" id="class__tree__struct_a47b82b8960edd18df25314f245e0b12c_cgraph">
<area shape="rect" id="node3" href="class__tree__struct.html#a7c3a2753320674328d39804e4333a1bf" title="_fix_copy" alt="" coords="120,56,200,85"/><area shape="rect" id="node5" href="class__tree__struct.html#a7b40c7b6776f12e9c4847a93e5c715c1" title="_get_children" alt="" coords="248,5,355,35"/><area shape="rect" id="node7" href="class__tree__struct.html#a90730cdcab513af31c7033d53a7cbe3f" title="_get_node" alt="" coords="404,57,492,87"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class__tree__struct_a47b82b8960edd18df25314f245e0b12c_icgraph.png" border="0" usemap="#class__tree__struct_a47b82b8960edd18df25314f245e0b12c_icgraph" alt=""/></div>
<map name="class__tree__struct_a47b82b8960edd18df25314f245e0b12c_icgraph" id="class__tree__struct_a47b82b8960edd18df25314f245e0b12c_icgraph">
<area shape="rect" id="node3" href="class__tree__struct.html#a097c5e483b03258fbe1893f8822e4138" title="_create" alt="" coords="168,5,237,35"/><area shape="rect" id="node11" href="classjson__tree.html#a9ce104764aac589b3c6faa3336d18a07" title="json_tree::move_node" alt="" coords="121,59,284,88"/><area shape="rect" id="node5" href="classjson__tree.html#ac9d9bf3c8445db1706adaff0a4965e25" title="json_tree::create_node" alt="" coords="335,5,503,35"/><area shape="rect" id="node7" href="classjson__tree.html#a438616d6ee8d5a957b96f4316934217c" title="json_tree::_create_default" alt="" coords="553,5,740,35"/><area shape="rect" id="node9" href="classjson__tree.html#ad3fd3b76ef6bcc1035c30a0e7a4f65cc" title="json_tree::get_children" alt="" coords="791,5,956,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaf77ed918b21b0bce15524444d52524c"></a><!-- doxytag: member="_tree_struct::_reconstruct" ref="aaf77ed918b21b0bce15524444d52524c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_reconstruct </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00261">261</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

<p><div class="fragment"><pre class="fragment">                            {
        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;&quot;</span> . 
            <span class="stringliteral">&quot;CREATE TEMPORARY TABLE `temp_tree` (&quot;</span> . 
                <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` INTEGER NOT NULL, &quot;</span> . 
                <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;` INTEGER NOT NULL, &quot;</span> . 
                <span class="stringliteral">&quot;`&quot;</span>. $this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;` INTEGER NOT NULL&quot;</span> . 
            <span class="stringliteral">&quot;) type=HEAP&quot;</span>
        );
        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;&quot;</span> . 
            <span class="stringliteral">&quot;INSERT INTO `temp_tree` &quot;</span> . 
                <span class="stringliteral">&quot;SELECT &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;` &quot;</span> . 
                <span class="stringliteral">&quot;FROM `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;`&quot;</span>
        );

        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;&quot;</span> . 
            <span class="stringliteral">&quot;CREATE TEMPORARY TABLE `temp_stack` (&quot;</span> . 
                <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` INTEGER NOT NULL, &quot;</span> . 
                <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;` INTEGER, &quot;</span> . 
                <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;` INTEGER, &quot;</span> . 
                <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;level&quot;</span>].<span class="stringliteral">&quot;` INTEGER, &quot;</span> . 
                <span class="stringliteral">&quot;`stack_top` INTEGER NOT NULL, &quot;</span> . 
                <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;` INTEGER, &quot;</span> . 
                <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;` INTEGER &quot;</span> . 
            <span class="stringliteral">&quot;) type=HEAP&quot;</span>
        );
        $counter = 2;
        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;SELECT COUNT(*) FROM temp_tree&quot;</span>);
        $this-&gt;db-&gt;nextr();
        $maxcounter = (int) $this-&gt;db-&gt;f(0) * 2;
        $currenttop = 1;
        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;&quot;</span> . 
            <span class="stringliteral">&quot;INSERT INTO `temp_stack` &quot;</span> . 
                <span class="stringliteral">&quot;SELECT &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;1, &quot;</span> . 
                    <span class="stringliteral">&quot;NULL, &quot;</span> . 
                    <span class="stringliteral">&quot;0, &quot;</span> . 
                    <span class="stringliteral">&quot;1, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;` &quot;</span> . 
                <span class="stringliteral">&quot;FROM `temp_tree` &quot;</span> . 
                <span class="stringliteral">&quot;WHERE `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;` = 0&quot;</span>
        );
        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;DELETE FROM `temp_tree` WHERE `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;` = 0&quot;</span>);

        <span class="keywordflow">while</span> ($counter &lt;= $maxcounter) {
            $this-&gt;db-&gt;query(<span class="stringliteral">&quot;&quot;</span> . 
                <span class="stringliteral">&quot;SELECT &quot;</span> . 
                    <span class="stringliteral">&quot;`temp_tree`.`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` AS tempmin, &quot;</span> . 
                    <span class="stringliteral">&quot;`temp_tree`.`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;` AS pid, &quot;</span> . 
                    <span class="stringliteral">&quot;`temp_tree`.`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;` AS lid &quot;</span> . 
                <span class="stringliteral">&quot;FROM `temp_stack`, `temp_tree` &quot;</span> . 
                <span class="stringliteral">&quot;WHERE &quot;</span> . 
                    <span class="stringliteral">&quot;`temp_stack`.`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` = `temp_tree`.`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;` AND &quot;</span> . 
                    <span class="stringliteral">&quot;`temp_stack`.`stack_top` = &quot;</span>.$currenttop.<span class="stringliteral">&quot; &quot;</span> . 
                <span class="stringliteral">&quot;ORDER BY `temp_tree`.`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;` ASC LIMIT 1&quot;</span>
            );

            <span class="keywordflow">if</span> ($this-&gt;db-&gt;nextr()) {
                $tmp = $this-&gt;db-&gt;f(<span class="stringliteral">&quot;tempmin&quot;</span>);

                $q = <span class="stringliteral">&quot;INSERT INTO temp_stack (stack_top, `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;`, `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;`, `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;`, `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;level&quot;</span>].<span class="stringliteral">&quot;`, `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;`, `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;`) VALUES(&quot;</span>.($currenttop + 1).<span class="stringliteral">&quot;, &quot;</span>.$tmp.<span class="stringliteral">&quot;, &quot;</span>.$counter.<span class="stringliteral">&quot;, NULL, &quot;</span>.$currenttop.<span class="stringliteral">&quot;, &quot;</span>.$this-&gt;db-&gt;f(<span class="stringliteral">&quot;pid&quot;</span>).<span class="stringliteral">&quot;, &quot;</span>.$this-&gt;db-&gt;f(<span class="stringliteral">&quot;lid&quot;</span>).<span class="stringliteral">&quot;)&quot;</span>;
                $this-&gt;db-&gt;query($q);
                $this-&gt;db-&gt;query(<span class="stringliteral">&quot;DELETE FROM `temp_tree` WHERE `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` = &quot;</span>.$tmp);
                $counter++;
                $currenttop++;
            }
            <span class="keywordflow">else</span> {
                $this-&gt;db-&gt;query(<span class="stringliteral">&quot;&quot;</span> . 
                    <span class="stringliteral">&quot;UPDATE temp_stack SET &quot;</span> . 
                        <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;` = &quot;</span>.$counter.<span class="stringliteral">&quot;, &quot;</span> . 
                        <span class="stringliteral">&quot;`stack_top` = -`stack_top` &quot;</span> . 
                    <span class="stringliteral">&quot;WHERE `stack_top` = &quot;</span>.$currenttop
                );
                $counter++;
                $currenttop--;
            }
        }

        $temp_fields = $this-&gt;fields;
        unset($temp_fields[<span class="stringliteral">&quot;parent_id&quot;</span>]);
        unset($temp_fields[<span class="stringliteral">&quot;position&quot;</span>]);
        unset($temp_fields[<span class="stringliteral">&quot;left&quot;</span>]);
        unset($temp_fields[<span class="stringliteral">&quot;right&quot;</span>]);
        unset($temp_fields[<span class="stringliteral">&quot;level&quot;</span>]);
        <span class="keywordflow">if</span>(count($temp_fields) &gt; 1) {
            $this-&gt;db-&gt;query(<span class="stringliteral">&quot;&quot;</span> . 
                <span class="stringliteral">&quot;CREATE TEMPORARY TABLE `temp_tree2` &quot;</span> . 
                    <span class="stringliteral">&quot;SELECT `&quot;</span>.implode(<span class="stringliteral">&quot;`, `&quot;</span>, $temp_fields).<span class="stringliteral">&quot;` FROM `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` &quot;</span>
            );
        }
        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;TRUNCATE TABLE `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;`&quot;</span>);
        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;&quot;</span> . 
            <span class="stringliteral">&quot;INSERT INTO &quot;</span>.$this-&gt;table.<span class="stringliteral">&quot; (&quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;level&quot;</span>].<span class="stringliteral">&quot;` &quot;</span> . 
                <span class="stringliteral">&quot;) &quot;</span> . 
                <span class="stringliteral">&quot;SELECT &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;`, &quot;</span> . 
                    <span class="stringliteral">&quot;`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;level&quot;</span>].<span class="stringliteral">&quot;` &quot;</span> . 
                <span class="stringliteral">&quot;FROM temp_stack &quot;</span> . 
                <span class="stringliteral">&quot;ORDER BY `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;`&quot;</span>
        );
        <span class="keywordflow">if</span>(count($temp_fields) &gt; 1) {
            $sql = <span class="stringliteral">&quot;&quot;</span> . 
                <span class="stringliteral">&quot;UPDATE `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` v, `temp_tree2` SET v.`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` = v.`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` &quot;</span>;
            <span class="keywordflow">foreach</span>($temp_fields as $k =&gt; $v) {
                <span class="keywordflow">if</span>($k == <span class="stringliteral">&quot;id&quot;</span>) <span class="keywordflow">continue</span>;
                $sql .= <span class="stringliteral">&quot;, v.`&quot;</span>.$v.<span class="stringliteral">&quot;` = `temp_tree2`.`&quot;</span>.$v.<span class="stringliteral">&quot;` &quot;</span>;
            }
            $sql .= <span class="stringliteral">&quot; WHERE v.`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` = `temp_tree2`.`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` &quot;</span>;
            $this-&gt;db-&gt;query($sql);
        }
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0fc184abc11c32c1cf813d707a681396"></a><!-- doxytag: member="_tree_struct::_remove" ref="a0fc184abc11c32c1cf813d707a681396" args="($id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_remove </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00067">67</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

<p><div class="fragment"><pre class="fragment">                          {
        <span class="keywordflow">if</span>((<span class="keywordtype">int</span>)$id === 1) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
        $data = $this-&gt;<a class="code" href="class__tree__struct.html#a90730cdcab513af31c7033d53a7cbe3f">_get_node</a>($id);
        $lft = (int)$data[$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>]];
        $rgt = (int)$data[$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>]];
        $dif = $rgt - $lft + 1;

        <span class="comment">// deleting node and its children</span>
        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;&quot;</span> . 
            <span class="stringliteral">&quot;DELETE FROM `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` &quot;</span> . 
            <span class="stringliteral">&quot;WHERE `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;` &gt;= &quot;</span>.$lft.<span class="stringliteral">&quot; AND `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;` &lt;= &quot;</span>.$rgt
        );
        <span class="comment">// shift left indexes of nodes right of the node</span>
        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;&quot;</span>.
            <span class="stringliteral">&quot;UPDATE `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` &quot;</span> . 
                <span class="stringliteral">&quot;SET `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;` = `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;` - &quot;</span>.$dif.<span class="stringliteral">&quot; &quot;</span> . 
            <span class="stringliteral">&quot;WHERE `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;` &gt; &quot;</span>.$rgt
        );
        <span class="comment">// shift right indexes of nodes right of the node and the node&#39;s parents</span>
        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;&quot;</span> . 
            <span class="stringliteral">&quot;UPDATE `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` &quot;</span> . 
                <span class="stringliteral">&quot;SET `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;` = `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;` - &quot;</span>.$dif.<span class="stringliteral">&quot; &quot;</span> . 
            <span class="stringliteral">&quot;WHERE `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;` &gt; &quot;</span>.$lft
        );

        $pid = (int)$data[$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>]];
        $pos = (int)$data[$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>]];

        <span class="comment">// Update position of siblings below the deleted node</span>
        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;&quot;</span> . 
            <span class="stringliteral">&quot;UPDATE `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` &quot;</span> . 
                <span class="stringliteral">&quot;SET `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;` = `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;` - 1 &quot;</span> . 
            <span class="stringliteral">&quot;WHERE `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;parent_id&quot;</span>].<span class="stringliteral">&quot;` = &quot;</span>.$pid.<span class="stringliteral">&quot; AND `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>].<span class="stringliteral">&quot;` &gt; &quot;</span>.$pos
        );
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class__tree__struct_a0fc184abc11c32c1cf813d707a681396_cgraph.png" border="0" usemap="#class__tree__struct_a0fc184abc11c32c1cf813d707a681396_cgraph" alt=""/></div>
<map name="class__tree__struct_a0fc184abc11c32c1cf813d707a681396_cgraph" id="class__tree__struct_a0fc184abc11c32c1cf813d707a681396_cgraph">
<area shape="rect" id="node3" href="class__tree__struct.html#a90730cdcab513af31c7033d53a7cbe3f" title="_get_node" alt="" coords="135,5,223,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class__tree__struct_a0fc184abc11c32c1cf813d707a681396_icgraph.png" border="0" usemap="#class__tree__struct_a0fc184abc11c32c1cf813d707a681396_icgraph" alt=""/></div>
<map name="class__tree__struct_a0fc184abc11c32c1cf813d707a681396_icgraph" id="class__tree__struct_a0fc184abc11c32c1cf813d707a681396_icgraph">
<area shape="rect" id="node3" href="classjson__tree.html#aa67515e6b060a39b45943138da065883" title="json_tree::remove_node" alt="" coords="135,5,311,35"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="ab2303c817e3b402b77b7f99627b9c319"></a><!-- doxytag: member="_tree_struct::$fields" ref="ab2303c817e3b402b77b7f99627b9c319" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$fields<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
            <span class="stringliteral">&quot;id&quot;</span>        =&gt; <span class="keyword">false</span>,
            <span class="stringliteral">&quot;parent_id&quot;</span> =&gt; <span class="keyword">false</span>,
            <span class="stringliteral">&quot;position&quot;</span>  =&gt; <span class="keyword">false</span>,
            <span class="stringliteral">&quot;left&quot;</span>      =&gt; <span class="keyword">false</span>,
            <span class="stringliteral">&quot;right&quot;</span>     =&gt; <span class="keyword">false</span>,
            <span class="stringliteral">&quot;level&quot;</span>     =&gt; <span class="keyword">false</span>
        )
</pre></div>
<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00005">5</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae8876a14058f368335baccf35af4a22b"></a><!-- doxytag: member="_tree_struct::$table" ref="ae8876a14058f368335baccf35af4a22b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$table = &quot;&quot;<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00004">4</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/usr/local/yiixl/lib/original/external/jquery-plugins/jsTree/_demo/_inc/<a class="el" href="class_8tree_8php_source.html">class.tree.php</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Mar 24 2011 20:11:39 for "The Yii Extension Library Of Doom!" by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
