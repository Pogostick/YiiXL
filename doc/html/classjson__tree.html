<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>&quot;The Yii Extension Library Of Doom!&quot;: json_tree Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>json_tree Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="json_tree" --><!-- doxytag: inherits="_tree_struct" --><div class="dynheader">
Inheritance diagram for json_tree:</div>
<div class="dyncontent">
<div class="center"><img src="classjson__tree__inherit__graph.png" border="0" usemap="#json__tree_inherit__map" alt="Inheritance graph"/></div>
<map name="json__tree_inherit__map" id="json__tree_inherit__map">
<area shape="rect" id="node2" href="class__tree__struct.html" title="_tree_struct" alt="" coords="5,5,104,35"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for json_tree:</div>
<div class="dyncontent">
<div class="center"><img src="classjson__tree__coll__graph.png" border="0" usemap="#json__tree_coll__map" alt="Collaboration graph"/></div>
<map name="json__tree_coll__map" id="json__tree_coll__map">
<area shape="rect" id="node2" href="class__tree__struct.html" title="_tree_struct" alt="" coords="5,5,104,35"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__tree.html#af584f19c94c86dac1e2ce0c5925e26ad">__construct</a> ($table=&quot;tree&quot;, $fields=<a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>(), $add_fields=<a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>(&quot;title&quot;=&gt;&quot;title&quot;,&quot;type&quot;=&gt;&quot;type&quot;))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__tree.html#ac9d9bf3c8445db1706adaff0a4965e25">create_node</a> ($data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__tree.html#ac896dcdd1535057e14cd62090a252f8f">set_data</a> ($data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__tree.html#ab8c85249b5295bb65cc7351e6a415906">rename_node</a> ($data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__tree.html#a9ce104764aac589b3c6faa3336d18a07">move_node</a> ($data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__tree.html#aa67515e6b060a39b45943138da065883">remove_node</a> ($data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__tree.html#ad3fd3b76ef6bcc1035c30a0e7a4f65cc">get_children</a> ($data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__tree.html#a687ec15184ed16cef8b602fbb06c7158">search</a> ($data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__tree.html#a438616d6ee8d5a957b96f4316934217c">_create_default</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00477">477</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af584f19c94c86dac1e2ce0c5925e26ad"></a><!-- doxytag: member="json_tree::__construct" ref="af584f19c94c86dac1e2ce0c5925e26ad" args="($table=&quot;tree&quot;, $fields=array(), $add_fields=array(&quot;title&quot;=&gt;&quot;title&quot;,&quot;type&quot;=&gt;&quot;type&quot;))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em> = <code>&quot;tree&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fields</em> = <code><a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>add_fields</em> = <code><a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>(&quot;title&quot;&nbsp;=&gt;&nbsp;&quot;title&quot;,&nbsp;&quot;type&quot;&nbsp;=&gt;&nbsp;&quot;type&quot;)</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00478">478</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

<p><div class="fragment"><pre class="fragment">                                                                                                                        {
        <a class="code" href="classjson__tree.html#af584f19c94c86dac1e2ce0c5925e26ad">parent::__construct</a>(<a class="code" href="class__tree__struct.html#ae8876a14058f368335baccf35af4a22b">$table</a>, <a class="code" href="class__tree__struct.html#ab2303c817e3b402b77b7f99627b9c319">$fields</a>);
        $this-&gt;fields = array_merge($this-&gt;fields, $add_fields);
        $this-&gt;add_fields = $add_fields;
    }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a438616d6ee8d5a957b96f4316934217c"></a><!-- doxytag: member="json_tree::_create_default" ref="a438616d6ee8d5a957b96f4316934217c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_create_default </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00561">561</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

<p><div class="fragment"><pre class="fragment">                               {
        $this-&gt;<a class="code" href="class__tree__struct.html#a6087da3fdf86bec06110235e038d4163">_drop</a>();
        $this-&gt;<a class="code" href="classjson__tree.html#ac9d9bf3c8445db1706adaff0a4965e25">create_node</a>(<a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
            <span class="stringliteral">&quot;id&quot;</span> =&gt; 1,
            <span class="stringliteral">&quot;position&quot;</span> =&gt; 0,
            <span class="stringliteral">&quot;title&quot;</span> =&gt; <span class="stringliteral">&quot;C:&quot;</span>,
            <span class="stringliteral">&quot;type&quot;</span> =&gt; <span class="stringliteral">&quot;drive&quot;</span>
        ));
        $this-&gt;<a class="code" href="classjson__tree.html#ac9d9bf3c8445db1706adaff0a4965e25">create_node</a>(<a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
            <span class="stringliteral">&quot;id&quot;</span> =&gt; 1,
            <span class="stringliteral">&quot;position&quot;</span> =&gt; 1,
            <span class="stringliteral">&quot;title&quot;</span> =&gt; <span class="stringliteral">&quot;D:&quot;</span>,
            <span class="stringliteral">&quot;type&quot;</span> =&gt; <span class="stringliteral">&quot;drive&quot;</span>
        ));
        $this-&gt;<a class="code" href="classjson__tree.html#ac9d9bf3c8445db1706adaff0a4965e25">create_node</a>(<a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
            <span class="stringliteral">&quot;id&quot;</span> =&gt; 2,
            <span class="stringliteral">&quot;position&quot;</span> =&gt; 0,
            <span class="stringliteral">&quot;title&quot;</span> =&gt; <span class="stringliteral">&quot;_demo&quot;</span>,
            <span class="stringliteral">&quot;type&quot;</span> =&gt; <span class="stringliteral">&quot;folder&quot;</span>
        ));
        $this-&gt;<a class="code" href="classjson__tree.html#ac9d9bf3c8445db1706adaff0a4965e25">create_node</a>(<a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
            <span class="stringliteral">&quot;id&quot;</span> =&gt; 2,
            <span class="stringliteral">&quot;position&quot;</span> =&gt; 1,
            <span class="stringliteral">&quot;title&quot;</span> =&gt; <span class="stringliteral">&quot;_docs&quot;</span>,
            <span class="stringliteral">&quot;type&quot;</span> =&gt; <span class="stringliteral">&quot;folder&quot;</span>
        ));
        $this-&gt;<a class="code" href="classjson__tree.html#ac9d9bf3c8445db1706adaff0a4965e25">create_node</a>(<a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
            <span class="stringliteral">&quot;id&quot;</span> =&gt; 4,
            <span class="stringliteral">&quot;position&quot;</span> =&gt; 0,
            <span class="stringliteral">&quot;title&quot;</span> =&gt; <span class="stringliteral">&quot;index.html&quot;</span>,
            <span class="stringliteral">&quot;type&quot;</span> =&gt; <span class="stringliteral">&quot;default&quot;</span>
        ));
        $this-&gt;<a class="code" href="classjson__tree.html#ac9d9bf3c8445db1706adaff0a4965e25">create_node</a>(<a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
            <span class="stringliteral">&quot;id&quot;</span> =&gt; 5,
            <span class="stringliteral">&quot;position&quot;</span> =&gt; 1,
            <span class="stringliteral">&quot;title&quot;</span> =&gt; <span class="stringliteral">&quot;doc.html&quot;</span>,
            <span class="stringliteral">&quot;type&quot;</span> =&gt; <span class="stringliteral">&quot;default&quot;</span>
        ));
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classjson__tree_a438616d6ee8d5a957b96f4316934217c_cgraph.png" border="0" usemap="#classjson__tree_a438616d6ee8d5a957b96f4316934217c_cgraph" alt=""/></div>
<map name="classjson__tree_a438616d6ee8d5a957b96f4316934217c_cgraph" id="classjson__tree_a438616d6ee8d5a957b96f4316934217c_cgraph">
<area shape="rect" id="node3" href="class__tree__struct.html#a6087da3fdf86bec06110235e038d4163" title="_tree_struct::_drop" alt="" coords="177,29,319,59"/><area shape="rect" id="node5" href="classjson__tree.html#ac9d9bf3c8445db1706adaff0a4965e25" title="create_node" alt="" coords="197,83,299,112"/><area shape="rect" id="node7" href="class__tree__struct.html#a097c5e483b03258fbe1893f8822e4138" title="_tree_struct::_create" alt="" coords="368,56,523,85"/><area shape="rect" id="node20" href="classjson__tree.html#ac896dcdd1535057e14cd62090a252f8f" title="set_data" alt="" coords="407,109,484,139"/><area shape="rect" id="node9" href="class__tree__struct.html#a47b82b8960edd18df25314f245e0b12c" title="_tree_struct::_move" alt="" coords="572,56,721,85"/><area shape="rect" id="node11" href="class__tree__struct.html#a7c3a2753320674328d39804e4333a1bf" title="_tree_struct::_fix_copy" alt="" coords="771,56,936,85"/><area shape="rect" id="node13" href="class__tree__struct.html#a7b40c7b6776f12e9c4847a93e5c715c1" title="_tree_struct::_get_children" alt="" coords="984,5,1176,35"/><area shape="rect" id="node15" href="class__tree__struct.html#a90730cdcab513af31c7033d53a7cbe3f" title="_tree_struct::_get_node" alt="" coords="1225,57,1399,87"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classjson__tree_a438616d6ee8d5a957b96f4316934217c_icgraph.png" border="0" usemap="#classjson__tree_a438616d6ee8d5a957b96f4316934217c_icgraph" alt=""/></div>
<map name="classjson__tree_a438616d6ee8d5a957b96f4316934217c_icgraph" id="classjson__tree_a438616d6ee8d5a957b96f4316934217c_icgraph">
<area shape="rect" id="node3" href="classjson__tree.html#ad3fd3b76ef6bcc1035c30a0e7a4f65cc" title="get_children" alt="" coords="177,5,276,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac9d9bf3c8445db1706adaff0a4965e25"></a><!-- doxytag: member="json_tree::create_node" ref="ac9d9bf3c8445db1706adaff0a4965e25" args="($data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">create_node </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>data</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00484">484</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

<p><div class="fragment"><pre class="fragment">                                {
        $id = <a class="code" href="class__tree__struct.html#a097c5e483b03258fbe1893f8822e4138">parent::_create</a>((<span class="keywordtype">int</span>)$data[$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>]], (<span class="keywordtype">int</span>)$data[$this-&gt;fields[<span class="stringliteral">&quot;position&quot;</span>]]);
        <span class="keywordflow">if</span>($id) {
            $data[<span class="stringliteral">&quot;id&quot;</span>] = $id;
            $this-&gt;<a class="code" href="classjson__tree.html#ac896dcdd1535057e14cd62090a252f8f">set_data</a>($data);
            <span class="keywordflow">return</span>  <span class="stringliteral">&quot;{ \&quot;status\&quot; : 1, \&quot;id\&quot; : &quot;</span>.(int)$id.<span class="stringliteral">&quot; }&quot;</span>;
        }
        <span class="keywordflow">return</span> <span class="stringliteral">&quot;{ \&quot;status\&quot; : 0 }&quot;</span>;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classjson__tree_ac9d9bf3c8445db1706adaff0a4965e25_cgraph.png" border="0" usemap="#classjson__tree_ac9d9bf3c8445db1706adaff0a4965e25_cgraph" alt=""/></div>
<map name="classjson__tree_ac9d9bf3c8445db1706adaff0a4965e25_cgraph" id="classjson__tree_ac9d9bf3c8445db1706adaff0a4965e25_cgraph">
<area shape="rect" id="node3" href="class__tree__struct.html#a097c5e483b03258fbe1893f8822e4138" title="_tree_struct::_create" alt="" coords="157,56,312,85"/><area shape="rect" id="node16" href="classjson__tree.html#ac896dcdd1535057e14cd62090a252f8f" title="set_data" alt="" coords="196,109,273,139"/><area shape="rect" id="node5" href="class__tree__struct.html#a47b82b8960edd18df25314f245e0b12c" title="_tree_struct::_move" alt="" coords="361,56,511,85"/><area shape="rect" id="node7" href="class__tree__struct.html#a7c3a2753320674328d39804e4333a1bf" title="_tree_struct::_fix_copy" alt="" coords="560,56,725,85"/><area shape="rect" id="node9" href="class__tree__struct.html#a7b40c7b6776f12e9c4847a93e5c715c1" title="_tree_struct::_get_children" alt="" coords="773,5,965,35"/><area shape="rect" id="node11" href="class__tree__struct.html#a90730cdcab513af31c7033d53a7cbe3f" title="_tree_struct::_get_node" alt="" coords="1015,57,1188,87"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classjson__tree_ac9d9bf3c8445db1706adaff0a4965e25_icgraph.png" border="0" usemap="#classjson__tree_ac9d9bf3c8445db1706adaff0a4965e25_icgraph" alt=""/></div>
<map name="classjson__tree_ac9d9bf3c8445db1706adaff0a4965e25_icgraph" id="classjson__tree_ac9d9bf3c8445db1706adaff0a4965e25_icgraph">
<area shape="rect" id="node3" href="classjson__tree.html#a438616d6ee8d5a957b96f4316934217c" title="_create_default" alt="" coords="159,5,279,35"/><area shape="rect" id="node5" href="classjson__tree.html#ad3fd3b76ef6bcc1035c30a0e7a4f65cc" title="get_children" alt="" coords="329,5,428,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad3fd3b76ef6bcc1035c30a0e7a4f65cc"></a><!-- doxytag: member="json_tree::get_children" ref="ad3fd3b76ef6bcc1035c30a0e7a4f65cc" args="($data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_children </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>data</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00531">531</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

<p><div class="fragment"><pre class="fragment">                                 {
        $tmp = $this-&gt;<a class="code" href="class__tree__struct.html#a7b40c7b6776f12e9c4847a93e5c715c1">_get_children</a>((<span class="keywordtype">int</span>)$data[<span class="stringliteral">&quot;id&quot;</span>]);
        <span class="keywordflow">if</span>((<span class="keywordtype">int</span>)$data[<span class="stringliteral">&quot;id&quot;</span>] === 1 &amp;&amp; count($tmp) === 0) {
            $this-&gt;<a class="code" href="classjson__tree.html#a438616d6ee8d5a957b96f4316934217c">_create_default</a>();
            $tmp = $this-&gt;<a class="code" href="class__tree__struct.html#a7b40c7b6776f12e9c4847a93e5c715c1">_get_children</a>((<span class="keywordtype">int</span>)$data[<span class="stringliteral">&quot;id&quot;</span>]);
        }
        $result = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();
        <span class="keywordflow">if</span>((<span class="keywordtype">int</span>)$data[<span class="stringliteral">&quot;id&quot;</span>] === 0) <span class="keywordflow">return</span> json_encode($result);
        <span class="keywordflow">foreach</span>($tmp as $k =&gt; $v) {
            $result[] = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
                <span class="stringliteral">&quot;attr&quot;</span> =&gt; <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(<span class="stringliteral">&quot;id&quot;</span> =&gt; <span class="stringliteral">&quot;node_&quot;</span>.$k, <span class="stringliteral">&quot;rel&quot;</span> =&gt; $v[$this-&gt;fields[<span class="stringliteral">&quot;type&quot;</span>]]),
                <span class="stringliteral">&quot;data&quot;</span> =&gt; $v[$this-&gt;fields[<span class="stringliteral">&quot;title&quot;</span>]],
                <span class="stringliteral">&quot;state&quot;</span> =&gt; ((<span class="keywordtype">int</span>)$v[$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>]] - (<span class="keywordtype">int</span>)$v[$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>]] &gt; 1) ? <span class="stringliteral">&quot;closed&quot;</span> : <span class="stringliteral">&quot;&quot;</span>
            );
        }
        <span class="keywordflow">return</span> json_encode($result);
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classjson__tree_ad3fd3b76ef6bcc1035c30a0e7a4f65cc_cgraph.png" border="0" usemap="#classjson__tree_ad3fd3b76ef6bcc1035c30a0e7a4f65cc_cgraph" alt=""/></div>
<map name="classjson__tree_ad3fd3b76ef6bcc1035c30a0e7a4f65cc_cgraph" id="classjson__tree_ad3fd3b76ef6bcc1035c30a0e7a4f65cc_cgraph">
<area shape="rect" id="node3" href="classjson__tree.html#a438616d6ee8d5a957b96f4316934217c" title="_create_default" alt="" coords="156,80,276,109"/><area shape="rect" id="node15" href="class__tree__struct.html#a7b40c7b6776f12e9c4847a93e5c715c1" title="_tree_struct::_get_children" alt="" coords="1133,80,1325,109"/><area shape="rect" id="node5" href="class__tree__struct.html#a6087da3fdf86bec06110235e038d4163" title="_tree_struct::_drop" alt="" coords="327,26,468,56"/><area shape="rect" id="node7" href="classjson__tree.html#ac9d9bf3c8445db1706adaff0a4965e25" title="create_node" alt="" coords="347,80,448,109"/><area shape="rect" id="node9" href="class__tree__struct.html#a097c5e483b03258fbe1893f8822e4138" title="_tree_struct::_create" alt="" coords="517,26,672,56"/><area shape="rect" id="node22" href="classjson__tree.html#ac896dcdd1535057e14cd62090a252f8f" title="set_data" alt="" coords="556,80,633,109"/><area shape="rect" id="node11" href="class__tree__struct.html#a47b82b8960edd18df25314f245e0b12c" title="_tree_struct::_move" alt="" coords="721,28,871,57"/><area shape="rect" id="node13" href="class__tree__struct.html#a7c3a2753320674328d39804e4333a1bf" title="_tree_struct::_fix_copy" alt="" coords="920,28,1085,57"/><area shape="rect" id="node17" href="class__tree__struct.html#a90730cdcab513af31c7033d53a7cbe3f" title="_tree_struct::_get_node" alt="" coords="1375,28,1548,57"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9ce104764aac589b3c6faa3336d18a07"></a><!-- doxytag: member="json_tree::move_node" ref="a9ce104764aac589b3c6faa3336d18a07" args="($data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">move_node </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>data</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00506">506</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

<p><div class="fragment"><pre class="fragment">                              { 
        $id = <a class="code" href="class__tree__struct.html#a47b82b8960edd18df25314f245e0b12c">parent::_move</a>((<span class="keywordtype">int</span>)$data[<span class="stringliteral">&quot;id&quot;</span>], (<span class="keywordtype">int</span>)$data[<span class="stringliteral">&quot;ref&quot;</span>], (<span class="keywordtype">int</span>)$data[<span class="stringliteral">&quot;position&quot;</span>], (<span class="keywordtype">int</span>)$data[<span class="stringliteral">&quot;copy&quot;</span>]);
        <span class="keywordflow">if</span>(!$id) <span class="keywordflow">return</span> <span class="stringliteral">&quot;{ \&quot;status\&quot; : 0 }&quot;</span>;
        <span class="keywordflow">if</span>((<span class="keywordtype">int</span>)$data[<span class="stringliteral">&quot;copy&quot;</span>] &amp;&amp; count($this-&gt;add_fields)) {
            $ids    = array_keys($this-&gt;<a class="code" href="class__tree__struct.html#a7b40c7b6776f12e9c4847a93e5c715c1">_get_children</a>($id, <span class="keyword">true</span>));
            $data   = $this-&gt;<a class="code" href="class__tree__struct.html#a7b40c7b6776f12e9c4847a93e5c715c1">_get_children</a>((<span class="keywordtype">int</span>)$data[<span class="stringliteral">&quot;id&quot;</span>], <span class="keyword">true</span>);

            $i = 0;
            <span class="keywordflow">foreach</span>($data as $dk =&gt; $dv) {
                $s = <span class="stringliteral">&quot;UPDATE `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` SET `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` = `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` &quot;</span>; 
                <span class="keywordflow">foreach</span>($this-&gt;add_fields as $k =&gt; $v) {
                    <span class="keywordflow">if</span>(isset($dv[$k]))  $s .= <span class="stringliteral">&quot;, `&quot;</span>.$this-&gt;fields[$v].<span class="stringliteral">&quot;` = \&quot;&quot;</span>.$this-&gt;db-&gt;escape($dv[$k]).<span class="stringliteral">&quot;\&quot; &quot;</span>;
                    <span class="keywordflow">else</span>                $s .= <span class="stringliteral">&quot;, `&quot;</span>.$this-&gt;fields[$v].<span class="stringliteral">&quot;` = `&quot;</span>.$this-&gt;fields[$v].<span class="stringliteral">&quot;` &quot;</span>;
                }
                $s .= <span class="stringliteral">&quot;WHERE `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` = &quot;</span>.$ids[$i];
                $this-&gt;db-&gt;query($s);
                $i++;
            }
        }
        <span class="keywordflow">return</span> <span class="stringliteral">&quot;{ \&quot;status\&quot; : 1, \&quot;id\&quot; : &quot;</span>.$id.<span class="stringliteral">&quot; }&quot;</span>;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classjson__tree_a9ce104764aac589b3c6faa3336d18a07_cgraph.png" border="0" usemap="#classjson__tree_a9ce104764aac589b3c6faa3336d18a07_cgraph" alt=""/></div>
<map name="classjson__tree_a9ce104764aac589b3c6faa3336d18a07_cgraph" id="classjson__tree_a9ce104764aac589b3c6faa3336d18a07_cgraph">
<area shape="rect" id="node3" href="class__tree__struct.html#a7b40c7b6776f12e9c4847a93e5c715c1" title="_tree_struct::_get_children" alt="" coords="565,29,757,59"/><area shape="rect" id="node7" href="class__tree__struct.html#a47b82b8960edd18df25314f245e0b12c" title="_tree_struct::_move" alt="" coords="153,56,303,85"/><area shape="rect" id="node5" href="class__tree__struct.html#a90730cdcab513af31c7033d53a7cbe3f" title="_tree_struct::_get_node" alt="" coords="807,81,980,111"/><area shape="rect" id="node9" href="class__tree__struct.html#a7c3a2753320674328d39804e4333a1bf" title="_tree_struct::_fix_copy" alt="" coords="352,81,517,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa67515e6b060a39b45943138da065883"></a><!-- doxytag: member="json_tree::remove_node" ref="aa67515e6b060a39b45943138da065883" args="($data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">remove_node </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>data</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00527">527</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

<p><div class="fragment"><pre class="fragment">                                {
        $id = <a class="code" href="class__tree__struct.html#a0fc184abc11c32c1cf813d707a681396">parent::_remove</a>((<span class="keywordtype">int</span>)$data[<span class="stringliteral">&quot;id&quot;</span>]);
        <span class="keywordflow">return</span> <span class="stringliteral">&quot;{ \&quot;status\&quot; : 1 }&quot;</span>;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classjson__tree_aa67515e6b060a39b45943138da065883_cgraph.png" border="0" usemap="#classjson__tree_aa67515e6b060a39b45943138da065883_cgraph" alt=""/></div>
<map name="classjson__tree_aa67515e6b060a39b45943138da065883_cgraph" id="classjson__tree_aa67515e6b060a39b45943138da065883_cgraph">
<area shape="rect" id="node3" href="class__tree__struct.html#a0fc184abc11c32c1cf813d707a681396" title="_tree_struct::_remove" alt="" coords="165,5,328,35"/><area shape="rect" id="node5" href="class__tree__struct.html#a90730cdcab513af31c7033d53a7cbe3f" title="_tree_struct::_get_node" alt="" coords="377,5,551,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab8c85249b5295bb65cc7351e6a415906"></a><!-- doxytag: member="json_tree::rename_node" ref="ab8c85249b5295bb65cc7351e6a415906" args="($data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rename_node </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>data</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00504">504</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classjson__tree.html#ac896dcdd1535057e14cd62090a252f8f">set_data</a>($data); }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classjson__tree_ab8c85249b5295bb65cc7351e6a415906_cgraph.png" border="0" usemap="#classjson__tree_ab8c85249b5295bb65cc7351e6a415906_cgraph" alt=""/></div>
<map name="classjson__tree_ab8c85249b5295bb65cc7351e6a415906_cgraph" id="classjson__tree_ab8c85249b5295bb65cc7351e6a415906_cgraph">
<area shape="rect" id="node3" href="classjson__tree.html#ac896dcdd1535057e14cd62090a252f8f" title="set_data" alt="" coords="167,5,244,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a687ec15184ed16cef8b602fbb06c7158"></a><!-- doxytag: member="json_tree::search" ref="a687ec15184ed16cef8b602fbb06c7158" args="($data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>data</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00548">548</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

<p><div class="fragment"><pre class="fragment">                           {
        $this-&gt;db-&gt;query(<span class="stringliteral">&quot;SELECT `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;`, `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;` FROM `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` WHERE `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;title&quot;</span>].<span class="stringliteral">&quot;` LIKE &#39;%&quot;</span>.$this-&gt;db-&gt;escape($data[<span class="stringliteral">&quot;search_str&quot;</span>]).<span class="stringliteral">&quot;%&#39;&quot;</span>);
        <span class="keywordflow">if</span>($this-&gt;db-&gt;nf() === 0) <span class="keywordflow">return</span> <span class="stringliteral">&quot;[]&quot;</span>;
        $q = <span class="stringliteral">&quot;SELECT DISTINCT `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` FROM `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` WHERE 0 &quot;</span>;
        <span class="keywordflow">while</span>($this-&gt;db-&gt;nextr()) {
            $q .= <span class="stringliteral">&quot; OR (`&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;left&quot;</span>].<span class="stringliteral">&quot;` &lt; &quot;</span>.(int)$this-&gt;db-&gt;f(0).<span class="stringliteral">&quot; AND `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;right&quot;</span>].<span class="stringliteral">&quot;` &gt; &quot;</span>.(int)$this-&gt;db-&gt;f(1).<span class="stringliteral">&quot;) &quot;</span>;
        }
        $result = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();
        $this-&gt;db-&gt;query($q);
        <span class="keywordflow">while</span>($this-&gt;db-&gt;nextr()) { $result[] = <span class="stringliteral">&quot;#node_&quot;</span>.$this-&gt;db-&gt;f(0); }
        <span class="keywordflow">return</span> json_encode($result);
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac896dcdd1535057e14cd62090a252f8f"></a><!-- doxytag: member="json_tree::set_data" ref="ac896dcdd1535057e14cd62090a252f8f" args="($data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">set_data </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>data</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8tree_8php_source.html#l00493">493</a> of file <a class="el" href="class_8tree_8php_source.html">class.tree.php</a>.</p>

<p><div class="fragment"><pre class="fragment">                             {
        <span class="keywordflow">if</span>(count($this-&gt;add_fields) == 0) { <span class="keywordflow">return</span> <span class="stringliteral">&quot;{ \&quot;status\&quot; : 1 }&quot;</span>; }
        $s = <span class="stringliteral">&quot;UPDATE `&quot;</span>.$this-&gt;table.<span class="stringliteral">&quot;` SET `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` = `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` &quot;</span>; 
        <span class="keywordflow">foreach</span>($this-&gt;add_fields as $k =&gt; $v) {
            <span class="keywordflow">if</span>(isset($data[$k]))    $s .= <span class="stringliteral">&quot;, `&quot;</span>.$this-&gt;fields[$v].<span class="stringliteral">&quot;` = \&quot;&quot;</span>.$this-&gt;db-&gt;escape($data[$k]).<span class="stringliteral">&quot;\&quot; &quot;</span>;
            <span class="keywordflow">else</span>                    $s .= <span class="stringliteral">&quot;, `&quot;</span>.$this-&gt;fields[$v].<span class="stringliteral">&quot;` = `&quot;</span>.$this-&gt;fields[$v].<span class="stringliteral">&quot;` &quot;</span>;
        }
        $s .= <span class="stringliteral">&quot;WHERE `&quot;</span>.$this-&gt;fields[<span class="stringliteral">&quot;id&quot;</span>].<span class="stringliteral">&quot;` = &quot;</span>.(int)$data[<span class="stringliteral">&quot;id&quot;</span>];
        $this-&gt;db-&gt;query($s);
        <span class="keywordflow">return</span> <span class="stringliteral">&quot;{ \&quot;status\&quot; : 1 }&quot;</span>;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classjson__tree_ac896dcdd1535057e14cd62090a252f8f_icgraph.png" border="0" usemap="#classjson__tree_ac896dcdd1535057e14cd62090a252f8f_icgraph" alt=""/></div>
<map name="classjson__tree_ac896dcdd1535057e14cd62090a252f8f_icgraph" id="classjson__tree_ac896dcdd1535057e14cd62090a252f8f_icgraph">
<area shape="rect" id="node3" href="classjson__tree.html#ac9d9bf3c8445db1706adaff0a4965e25" title="create_node" alt="" coords="139,5,240,35"/><area shape="rect" id="node9" href="classjson__tree.html#ab8c85249b5295bb65cc7351e6a415906" title="rename_node" alt="" coords="135,59,244,88"/><area shape="rect" id="node5" href="classjson__tree.html#a438616d6ee8d5a957b96f4316934217c" title="_create_default" alt="" coords="295,5,415,35"/><area shape="rect" id="node7" href="classjson__tree.html#ad3fd3b76ef6bcc1035c30a0e7a4f65cc" title="get_children" alt="" coords="465,5,564,35"/></map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/usr/local/yiixl/lib/original/external/jquery-plugins/jsTree/_demo/_inc/<a class="el" href="class_8tree_8php_source.html">class.tree.php</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Mar 24 2011 20:11:44 for "The Yii Extension Library Of Doom!" by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
