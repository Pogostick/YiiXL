<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>YiiXL -- The Yii Extension Library Of Doom!: CXLWebModule.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="dir_1ec655711e29b55f31ff264c2bb65c33.html">usr</a>      </li>
      <li><a class="el" href="dir_6bb76cc6f95ff18987242ff417c6ce46.html">local</a>      </li>
      <li><a class="el" href="dir_c5bf51a4bce5f6288acec49aaf0c7f09.html">yiixl</a>      </li>
      <li><a class="el" href="dir_61700af67871dcbdf05fae1643014cc7.html">lib</a>      </li>
      <li><a class="el" href="dir_1fe0dc3b670ebeef3b7eceb42bf96cab.html">core</a>      </li>
      <li><a class="el" href="dir_64b2814019680923e742fa9c5e2693bd.html">components</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>CXLWebModule.php</h1>  </div>
</div>
<div class="contents">
<a href="CXLWebModule_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00020"></a><a class="code" href="classCXLWebModule.html">00020</a> <span class="keyword">class </span><a class="code" href="classCXLWebModule.html" title="CXLWebModule provides extra functionality to the base module functionality of Yii.">CXLWebModule</a> <span class="keyword">extends</span> CWebModule implements <a class="code" href="interfaceIXLComponent.html">IXLComponent</a>
<a name="l00021"></a>00021 {
<a name="l00022"></a>00022   <span class="comment">//********************************************************************************</span>
<a name="l00023"></a>00023   <span class="comment">//* Constants</span>
<a name="l00024"></a>00024   <span class="comment">//********************************************************************************</span>
<a name="l00025"></a>00025 
<a name="l00029"></a><a class="code" href="classCXLWebModule.html#aa607ab5e557e6ebb60b85c5a20ad067f">00029</a>   <span class="keyword">const</span> <a class="code" href="classCXLWebModule.html#aa607ab5e557e6ebb60b85c5a20ad067f" title="Our logging tag.">CLASS_LOG_TAG</a> = <span class="stringliteral">&#39;yiixl.core.components.CXLWebModule&#39;</span>;
<a name="l00030"></a>00030 
<a name="l00031"></a>00031   <span class="comment">//********************************************************************************</span>
<a name="l00032"></a>00032   <span class="comment">//* Private Members &amp; Accessors</span>
<a name="l00033"></a>00033   <span class="comment">//********************************************************************************</span>
<a name="l00034"></a>00034   
<a name="l00035"></a><a class="code" href="classCXLWebModule.html#a05a571c47e275207658ec3ff2a228291">00035</a>   <span class="keyword">protected</span> <a class="code" href="classCXLWebModule.html#a05a571c47e275207658ec3ff2a228291">$_configPath</a> = null;
<a name="l00036"></a><a class="code" href="classCXLWebModule.html#ae21d2d711f414697477df2a4726e8daf">00036</a>   <span class="keyword">public</span> function <a class="code" href="classCXLWebModule.html#ae21d2d711f414697477df2a4726e8daf">getConfigPath</a>() { <span class="keywordflow">return</span> $this-&gt;_configPath; }
<a name="l00037"></a><a class="code" href="classCXLWebModule.html#a8115b613ae055d17768f138534ac45f3">00037</a>   <span class="keyword">public</span> function <a class="code" href="classCXLWebModule.html#a8115b613ae055d17768f138534ac45f3">setConfigPath</a>( $sValue ) { $this-&gt;_configPath = $sValue; }
<a name="l00038"></a>00038 
<a name="l00039"></a><a class="code" href="classCXLWebModule.html#a4bce993140269e2ecd8ab4243735e621">00039</a>   <span class="keyword">protected</span> <a class="code" href="classCXLWebModule.html#a4bce993140269e2ecd8ab4243735e621">$_assetPath</a> = null;
<a name="l00040"></a><a class="code" href="classCXLWebModule.html#a5b344fe2f40c0f235b4ede8e1c1ea4a3">00040</a>   <span class="keyword">public</span> function <a class="code" href="classCXLWebModule.html#a5b344fe2f40c0f235b4ede8e1c1ea4a3">getAssetPath</a>() { <span class="keywordflow">return</span> $this-&gt;_assetPath; }
<a name="l00041"></a><a class="code" href="classCXLWebModule.html#af9acd3d053a814ffec785ab8d9c24d82">00041</a>   <span class="keyword">public</span> function <a class="code" href="classCXLWebModule.html#af9acd3d053a814ffec785ab8d9c24d82">setAssetPath</a>( $sValue ) { $this-&gt;_assetPath = $sValue; }
<a name="l00042"></a>00042   
<a name="l00043"></a><a class="code" href="classCXLWebModule.html#a181134a3a040d43e6913ad39fa94ee66">00043</a>   <span class="keyword">protected</span> <a class="code" href="classCXLWebModule.html#a181134a3a040d43e6913ad39fa94ee66">$_assetUrl</a> = null;
<a name="l00044"></a><a class="code" href="classCXLWebModule.html#a7d8986335d8119f7e20f5b9a4c1f15f7">00044</a>   <span class="keyword">public</span> function <a class="code" href="classCXLWebModule.html#a7d8986335d8119f7e20f5b9a4c1f15f7">getAssetUrl</a>() { <span class="keywordflow">return</span> $this-&gt;_assetUrl; }
<a name="l00045"></a><a class="code" href="classCXLWebModule.html#aa7790060a53895524f446d7e4ef8131e">00045</a>   <span class="keyword">protected</span> function <a class="code" href="classCXLWebModule.html#aa7790060a53895524f446d7e4ef8131e">setAssetUrl</a>( $sUrl ) { $this-&gt;_assetUrl = $sUrl; }
<a name="l00046"></a>00046 
<a name="l00047"></a>00047   <span class="comment">//********************************************************************************</span>
<a name="l00048"></a>00048   <span class="comment">//* Public Methods</span>
<a name="l00049"></a>00049   <span class="comment">//********************************************************************************</span>
<a name="l00050"></a>00050   
<a name="l00055"></a><a class="code" href="classCXLWebModule.html#a4be4055f3361d4800e16bc2e2e38cda6">00055</a>   <span class="keyword">public</span> function <a class="code" href="classCXLWebModule.html#a4be4055f3361d4800e16bc2e2e38cda6" title="Initialize.">init</a>()
<a name="l00056"></a>00056   {
<a name="l00057"></a>00057     <span class="comment">//  Phone home...</span>
<a name="l00058"></a>00058     <a class="code" href="classCXLWebModule.html#a4be4055f3361d4800e16bc2e2e38cda6" title="Initialize.">parent::init</a>();
<a name="l00059"></a>00059     
<a name="l00060"></a>00060     <span class="comment">//  import the module-level models and components</span>
<a name="l00061"></a>00061     $this-&gt;setImport(
<a name="l00062"></a>00062       array(
<a name="l00063"></a>00063         $this-&gt;<span class="keywordtype">id</span> . <span class="stringliteral">&#39;.models.*&#39;</span>,
<a name="l00064"></a>00064         $this-&gt;<span class="keywordtype">id</span> . <span class="stringliteral">&#39;.components.*&#39;</span>,
<a name="l00065"></a>00065       )
<a name="l00066"></a>00066     );
<a name="l00067"></a>00067 
<a name="l00068"></a>00068     <span class="comment">//  Read private configuration...</span>
<a name="l00069"></a>00069     <span class="keywordflow">if</span> ( ! empty( $this-&gt;_configPath ) ) $this-&gt;configure( require( $this-&gt;basePath . $this-&gt;_configPath ) );
<a name="l00070"></a>00070     
<a name="l00071"></a>00071     <span class="comment">//  Get our asset manager going...</span>
<a name="l00072"></a>00072     $this-&gt;<a class="code" href="classCXLWebModule.html#a233a839508289d6db0e8ae92c65bb7d6" title="Initializes the asset manager for this module.">_setAssetPaths</a>();
<a name="l00073"></a>00073   }
<a name="l00074"></a>00074 
<a name="l00075"></a>00075   <span class="comment">//********************************************************************************</span>
<a name="l00076"></a>00076   <span class="comment">//* Private Methods</span>
<a name="l00077"></a>00077   <span class="comment">//********************************************************************************</span>
<a name="l00078"></a>00078 
<a name="l00082"></a><a class="code" href="classCXLWebModule.html#a233a839508289d6db0e8ae92c65bb7d6">00082</a>   <span class="keyword">protected</span> function <a class="code" href="classCXLWebModule.html#a233a839508289d6db0e8ae92c65bb7d6" title="Initializes the asset manager for this module.">_setAssetPaths</a>()
<a name="l00083"></a>00083   {
<a name="l00084"></a>00084     $_assetManager = <a class="code" href="classYiiXLBase.html#ae09ab8187b8a6c8c52edbf143ab29178" title="Shorthand version of Yii::app().">XL::_a</a>()-&gt;getAssetManager();
<a name="l00085"></a>00085     <span class="keywordflow">if</span> ( ! $this-&gt;_assetPath ) 
<a name="l00086"></a>00086       $this-&gt;_assetPath = $_assetManager-&gt;getBasePath() . DIRECTORY_SEPARATOR . $this-&gt;getId();
<a name="l00087"></a>00087     
<a name="l00088"></a>00088     <span class="keywordflow">if</span> ( ! is_dir( $this-&gt;_assetPath ) ) 
<a name="l00089"></a>00089       @mkdir( $this-&gt;_assetPath );
<a name="l00090"></a>00090     
<a name="l00091"></a>00091     $this-&gt;_assetUrl = $_assetManager-&gt;publish( $this-&gt;_assetPath, <span class="keyword">true</span>, -1 );
<a name="l00092"></a>00092   }
<a name="l00093"></a>00093   
<a name="l00094"></a>00094 }
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Mar 25 2011 21:10:39 for YiiXL -- The Yii Extension Library Of Doom! by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
