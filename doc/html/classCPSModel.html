<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>&quot;The Yii Extension Library Of Doom!&quot;: CPSModel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>CPSModel Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="CPSModel" --><!-- doxytag: inherits="IPSBase" --><div class="dynheader">
Inheritance diagram for CPSModel:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSModel__inherit__graph.png" border="0" usemap="#CPSModel_inherit__map" alt="Inheritance graph"/></div>
<map name="CPSModel_inherit__map" id="CPSModel_inherit__map">
<area shape="rect" id="node5" href="classCPSCodeTableModel.html" title="CPSCodeTableModel" alt="" coords="5,160,155,189"/><area shape="rect" id="node2" href="interfaceIPSBase.html" title="IPSBase" alt="" coords="43,5,117,35"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for CPSModel:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSModel__coll__graph.png" border="0" usemap="#CPSModel_coll__map" alt="Collaboration graph"/></div>
<map name="CPSModel_coll__map" id="CPSModel_coll__map">
<area shape="rect" id="node2" href="interfaceIPSBase.html" title="IPSBase" alt="" coords="11,5,85,35"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a7cd2e13f50fbc61e846e5980f02371f8">getModelName</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#aef6109e8c58719533639e6526717fb1b">getModelClass</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a6950c2a0061d704770d6df19daa75606">setModelName</a> ($sValue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a710a72fc863debf3031e4d423ef9d405">setModelClass</a> ($modelClass)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a41b42bcfd0572f6481a2a323d73c9977">getSchema</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a21e18eb7091f0ae3098c37a4c68fd5dc">getTablePrefix</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a3c04fa5f6105af41bb2f6d1c5b925576">setTablePrefix</a> ($prefix, $thisTableOnly=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a9958a23e416f0e0fd7cc5f3e80532335">getAttributeLabels</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#acb1238cae89dbe15864bc28fbfb069a2">getAttributeLabel</a> ($attribute)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a84c15d8a583f4f7f88f683a6db1a567b">setAttributes</a> ($attributes, $safeOnly=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a6e708ea9d538b48ecccffd79e17fb8aa">__construct</a> ($_scenario= 'insert')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#aa5cc1f736392d6a9c6b07db4f06d9f17">hasBehavior</a> ($className)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a211e6bc9ddb71d8c3cdb61d7f92a8331">behaviors</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a4660591fdf032d22bbba3911e2bc5f09">getErrorsForLogging</a> ($attribute=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#aaf11785905da71774e052912d784e3b4">__sleep</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a796bf438724e047aeef18579732a3780">search</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#abd594bc52ba432da2f83f3e977f4a361">hasTransaction</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a165becb0c2d75653ebcd3064f35addc0">getRestAttributes</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a2c43b5a257f271c45b33f7696ab2baf1">setRestAttributes</a> ($attributeList)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a5c5ebc48ca4a267c9ef1e0e9b4324289">afterConstruct</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a804031428d96cfe7a18b1a343272f5a7">queryAll</a> ($criteria, $fetchAssociative=true, $parameters=<a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#adeb67d458cbd5d7845bd2b47bc5e2905">execute</a> ($sql, $parameters=<a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a994ac6292d92ce6c172ee2f655b91ae4">getDb</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a146675932a41d9bcf4194237aa1d68db">createCommand</a> ($sql)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#acede846ed83753b53f6b99ad1c4df87c">beginTransaction</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a46020c73ffd9df1dab08fcfc7a26d530">commitTransaction</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a06996eae1b742263c0a4b83da0f9f922">rollbackTransaction</a> (Exception $exception=null)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#ad86f0aac1c5254c623bf3a6683ed56e8">$_schema</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a58d5dd151fa6e7f7841d9d85a6a6c273">$_tablePrefix</a> = null</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a255288ecbb9d5f910b8d9a7c04a34a9b">$_attributeLabels</a> = <a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>( )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a90080dcb26627bf719d96ab99e51f958">$_modelClass</a> = null</td></tr>
<tr><td colspan="2"><h2><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSModel.html#a3cff4c1c690782176edb1e27b4d602a1">$_transactionStack</a> = <a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>( )</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00024">24</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6e708ea9d538b48ecccffd79e17fb8aa"></a><!-- doxytag: member="CPSModel::__construct" ref="a6e708ea9d538b48ecccffd79e17fb8aa" args="($_scenario= 'insert')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>_scenario</em> = <code>'insert'</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Builds a <a class="el" href="classCPSModel.html">CPSModel</a> and sets the model name</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$_scenario </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="classCPSModel.html">CPSModel</a> </dd></dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00211">211</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <a class="code" href="classCPSModel.html#a6e708ea9d538b48ecccffd79e17fb8aa">parent::__construct</a>( $_scenario );
        $this-&gt;_modelClass = ( version_compare( PHP_VERSION, <span class="stringliteral">&#39;5.3.0&#39;</span> ) &gt; 0 ) ? get_called_class() : get_class( $this );
    }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aaf11785905da71774e052912d784e3b4"></a><!-- doxytag: member="CPSModel::__sleep" ref="aaf11785905da71774e052912d784e3b4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__sleep </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>PHP sleep magic method. Take opportunity to flush schema cache... </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>array </dd></dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00284">284</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="comment">//  Clean up and phone home...</span>
        $this-&gt;_schema = null;
        <span class="keywordflow">return</span> <a class="code" href="classCPSModel.html#aaf11785905da71774e052912d784e3b4">parent::__sleep</a>();
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5c5ebc48ca4a267c9ef1e0e9b4324289"></a><!-- doxytag: member="CPSModel::afterConstruct" ref="a5c5ebc48ca4a267c9ef1e0e9b4324289" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">afterConstruct </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Grab our name </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$classNameName </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00479">479</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        $this-&gt;_modelClass = get_class( $this );
        <a class="code" href="classCPSModel.html#a5c5ebc48ca4a267c9ef1e0e9b4324289">parent::afterConstruct</a>();
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acede846ed83753b53f6b99ad1c4df87c"></a><!-- doxytag: member="CPSModel::beginTransaction" ref="acede846ed83753b53f6b99ad1c4df87c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static beginTransaction </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Begins a database transaction (PHP 5.3+ only) </p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>CDbException</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00375">375</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( version_compare( PHP_VERSION, <span class="stringliteral">&#39;5.3.0&#39;</span> ) &gt; 0 )
        {
            <a class="code" href="classCPSModel.html#a90080dcb26627bf719d96ab99e51f958">$_modelClass</a> = get_called_class();
            $_model = <span class="keyword">new</span> <a class="code" href="classCPSModel.html#a90080dcb26627bf719d96ab99e51f958">$_modelClass</a>;
            $_transaction = $_model-&gt;getDbConnection()-&gt;beginTransaction();
            array_push( self::$_transactionStack, $_transaction );
        }

        <span class="keywordflow">return</span> $_transaction;
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a211e6bc9ddb71d8c3cdb61d7f92a8331"></a><!-- doxytag: member="CPSModel::behaviors" ref="a211e6bc9ddb71d8c3cdb61d7f92a8331" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">behaviors </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets our default behaviors. All CPSModel's have the DataFormat and Utility behaviors added by default. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>array </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd>CModel::behaviors </dd></dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00245">245</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> array_merge(
            parent::behaviors(),
            <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
                <span class="comment">//  Date/time formatter</span>
                <span class="stringliteral">&#39;psDataFormat&#39;</span> =&gt; <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
                    <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;pogostick.behaviors.CPSDataFormatBehavior&#39;</span>,
                ),
            )
        );
    }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSModel_a211e6bc9ddb71d8c3cdb61d7f92a8331_icgraph.png" border="0" usemap="#classCPSModel_a211e6bc9ddb71d8c3cdb61d7f92a8331_icgraph" alt=""/></div>
<map name="classCPSModel_a211e6bc9ddb71d8c3cdb61d7f92a8331_icgraph" id="classCPSModel_a211e6bc9ddb71d8c3cdb61d7f92a8331_icgraph">
<area shape="rect" id="node3" href="classCPSModel.html#aa5cc1f736392d6a9c6b07db4f06d9f17" title="hasBehavior" alt="" coords="139,5,240,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a46020c73ffd9df1dab08fcfc7a26d530"></a><!-- doxytag: member="CPSModel::commitTransaction" ref="a46020c73ffd9df1dab08fcfc7a26d530" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static commitTransaction </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Commits the transaction at the top of the stack, if any. </p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>CDbException</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00393">393</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( null !== ( $_transaction = array_pop( self::$_transactionStack ) ) ) $_transaction-&gt;commit();
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a146675932a41d9bcf4194237aa1d68db"></a><!-- doxytag: member="CPSModel::createCommand" ref="a146675932a41d9bcf4194237aa1d68db" args="($sql)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static createCommand </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>sql</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convenience method to get a database command model's database </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>CDbCommand </dd></dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00352">352</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> <a class="code" href="classCPSModel.html#a994ac6292d92ce6c172ee2f655b91ae4">self::getDb</a>()-&gt;createCommand( $sql );
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adeb67d458cbd5d7845bd2b47bc5e2905"></a><!-- doxytag: member="CPSModel::execute" ref="adeb67d458cbd5d7845bd2b47bc5e2905" args="($sql, $parameters=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static execute </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>sql</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>parameters</em> = <code><a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convenience method to execute a query (static version) </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>integer The number of rows affected by the operation </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>CException</em>&nbsp;</td><td>Execution failed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00334">334</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> <a class="code" href="classCPSModel.html#a146675932a41d9bcf4194237aa1d68db">self::createCommand</a>( $sql )-&gt;execute( $parameters );
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acb1238cae89dbe15864bc28fbfb069a2"></a><!-- doxytag: member="CPSModel::getAttributeLabel" ref="acb1238cae89dbe15864bc28fbfb069a2" args="($attribute)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getAttributeLabel </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>attribute</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the text label for the specified attribute. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$attribute The attribute name </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string the attribute label </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd>generateAttributeLabel </dd>
<dd>
<a class="el" href="classCPSModel.html#a9958a23e416f0e0fd7cc5f3e80532335">getAttributeLabels</a> </dd></dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00153">153</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> PS::o( $this-&gt;<a class="code" href="classCPSModel.html#a9958a23e416f0e0fd7cc5f3e80532335">getAttributeLabels</a>(), $attribute, $this-&gt;generateAttributeLabel( $attribute ) );
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSModel_acb1238cae89dbe15864bc28fbfb069a2_cgraph.png" border="0" usemap="#classCPSModel_acb1238cae89dbe15864bc28fbfb069a2_cgraph" alt=""/></div>
<map name="classCPSModel_acb1238cae89dbe15864bc28fbfb069a2_cgraph" id="classCPSModel_acb1238cae89dbe15864bc28fbfb069a2_cgraph">
<area shape="rect" id="node3" href="classCPSModel.html#a9958a23e416f0e0fd7cc5f3e80532335" title="getAttributeLabels" alt="" coords="188,5,327,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9958a23e416f0e0fd7cc5f3e80532335"></a><!-- doxytag: member="CPSModel::getAttributeLabels" ref="a9958a23e416f0e0fd7cc5f3e80532335" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getAttributeLabels </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns all attribute latbels and populates cache </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>array </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd>CPSModel::attributeLabels </dd></dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00141">141</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> $this-&gt;_attributeLabels ? $this-&gt;_attributeLabels : $this-&gt;_attributeLabels = $this-&gt;attributeLabels();
    }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSModel_a9958a23e416f0e0fd7cc5f3e80532335_icgraph.png" border="0" usemap="#classCPSModel_a9958a23e416f0e0fd7cc5f3e80532335_icgraph" alt=""/></div>
<map name="classCPSModel_a9958a23e416f0e0fd7cc5f3e80532335_icgraph" id="classCPSModel_a9958a23e416f0e0fd7cc5f3e80532335_icgraph">
<area shape="rect" id="node3" href="classCPSModel.html#acb1238cae89dbe15864bc28fbfb069a2" title="getAttributeLabel" alt="" coords="195,5,328,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a994ac6292d92ce6c172ee2f655b91ae4"></a><!-- doxytag: member="CPSModel::getDb" ref="a994ac6292d92ce6c172ee2f655b91ae4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getDb </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convenience method to get a database connection to a model's database </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>CDbConnection </dd></dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00343">343</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> self::model()-&gt;getDbConnection();
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4660591fdf032d22bbba3911e2bc5f09"></a><!-- doxytag: member="CPSModel::getErrorsForLogging" ref="a4660591fdf032d22bbba3911e2bc5f09" args="($attribute=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getErrorsForLogging </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>attribute</em> = <code>null</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the errors on this model in a single string suitable for logging. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$attribute Attribute name. Use null to retrieve errors for all attributes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00263">263</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        $_result = null;
        $_i = 1;

        $_errors = $this-&gt;getErrors( $attribute );

        <span class="keywordflow">if</span> ( ! empty( $_errors ) )
        {
            <span class="keywordflow">foreach</span> ( $_errors as $_attribute =&gt; $_error )
                $_result .= $_i++ . <span class="stringliteral">&#39;. [&#39;</span> . $_attribute . <span class="stringliteral">&#39;] : &#39;</span> . implode( <span class="charliteral">&#39;|&#39;</span>, $_error );
        }

        <span class="keywordflow">return</span> $_result;
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aef6109e8c58719533639e6526717fb1b"></a><!-- doxytag: member="CPSModel::getModelClass" ref="aef6109e8c58719533639e6526717fb1b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getModelClass </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get this model's class name. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00073">73</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> $this-&gt;_modelClass;
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7cd2e13f50fbc61e846e5980f02371f8"></a><!-- doxytag: member="CPSModel::getModelName" ref="a7cd2e13f50fbc61e846e5980f02371f8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getModelName </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get this model's name. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00064">64</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> $this-&gt;_modelClass;
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a165becb0c2d75653ebcd3064f35addc0"></a><!-- doxytag: member="CPSModel::getRestAttributes" ref="a165becb0c2d75653ebcd3064f35addc0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getRestAttributes </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>If a model has a REST mapping, attributes are mapped an returned in an array. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>array|null The resulting view </dd></dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00419">419</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( method_exists( $this, <span class="stringliteral">&#39;attributeRestMap&#39;</span> ) )
        {
            $_resultList = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>( );
            $_columnList = $this-&gt;<a class="code" href="classCPSModel.html#a41b42bcfd0572f6481a2a323d73c9977">getSchema</a>();

            <span class="keywordflow">foreach</span> ( $this-&gt;attributeRestMap() as $_key =&gt; $_value )
            {
                $_attributeValue = $this-&gt;getAttribute( $_key );

                <span class="comment">//  Apply formats</span>
                <span class="keywordflow">switch</span> ( $_columnList[$_key]-&gt;dbType )
                {
                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;date&#39;</span>:
                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;datetime&#39;</span>:
                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;timestamp&#39;</span>:
                        <span class="comment">//  Handle blanks</span>
                        <span class="keywordflow">if</span> ( null !== $_attributeValue &amp;&amp; $_attributeValue != <span class="stringliteral">&#39;0000-00-00&#39;</span> &amp;&amp; $_attributeValue != <span class="stringliteral">&#39;0000-00-00 00:00:00&#39;</span> ) $_attributeValue = date( <span class="charliteral">&#39;c&#39;</span>, strtotime( $_attributeValue ) );
                        <span class="keywordflow">break</span>;
                }

                $_resultList[$_value] = $_attributeValue;
            }

            <span class="keywordflow">return</span> $_resultList;
        }

        <span class="keywordflow">return</span> null;
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a41b42bcfd0572f6481a2a323d73c9977"></a><!-- doxytag: member="CPSModel::getSchema" ref="a41b42bcfd0572f6481a2a323d73c9977" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getSchema </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns this model's schema </p>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array()</a> </dd></dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00100">100</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> $this-&gt;_schema ? $this-&gt;_schema : $this-&gt;_schema = $this-&gt;getMetaData()-&gt;columns;
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a21e18eb7091f0ae3098c37a4c68fd5dc"></a><!-- doxytag: member="CPSModel::getTablePrefix" ref="a21e18eb7091f0ae3098c37a4c68fd5dc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getTablePrefix </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>string $tablePrefix The prefix for the table </dd></dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00108">108</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="comment">//  Does db have one?</span>
        <span class="keywordflow">if</span> ( version_compare( YiiBase::getVersion(), <span class="stringliteral">&#39;1.1.0&#39;</span> ) &gt; 0 )
        {
            <span class="keywordflow">if</span> ( null !== ( $_db = $this-&gt;getDbConnection() ) ) <span class="keywordflow">return</span> $_db-&gt;tablePrefix;

            <span class="keywordflow">return</span> null;
        }

        <span class="comment">//  Return ours...</span>
        <span class="keywordflow">return</span> $this-&gt;_tablePrefix;
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa5cc1f736392d6a9c6b07db4f06d9f17"></a><!-- doxytag: member="CPSModel::hasBehavior" ref="aa5cc1f736392d6a9c6b07db4f06d9f17" args="($className)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hasBehavior </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>className</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks if a component has an attached behavior </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$className </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00222">222</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="comment">//  Look for behaviors</span>
        <span class="keywordflow">foreach</span> ( $this-&gt;<a class="code" href="classCPSModel.html#a211e6bc9ddb71d8c3cdb61d7f92a8331">behaviors</a>() as $_column =&gt; $_behaviors )
        {
            <span class="keywordflow">if</span> ( null !== ( $_class = PS::o( $_behaviors, <span class="stringliteral">&#39;class&#39;</span> ) ) )
                $_class = Yii::import( $_class );

            <span class="comment">//  Check...</span>
            <span class="keywordflow">if</span> ( <a class="code" href="controller_2controller_8php.html#acd6a475a6eeb092f4eea3e19e502d67d">$className</a> == $_column || <a class="code" href="controller_2controller_8php.html#acd6a475a6eeb092f4eea3e19e502d67d">$className</a> == $_class )
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }

        <span class="comment">//  Nope!</span>
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSModel_aa5cc1f736392d6a9c6b07db4f06d9f17_cgraph.png" border="0" usemap="#classCPSModel_aa5cc1f736392d6a9c6b07db4f06d9f17_cgraph" alt=""/></div>
<map name="classCPSModel_aa5cc1f736392d6a9c6b07db4f06d9f17_cgraph" id="classCPSModel_aa5cc1f736392d6a9c6b07db4f06d9f17_cgraph">
<area shape="rect" id="node3" href="classCPSModel.html#a211e6bc9ddb71d8c3cdb61d7f92a8331" title="behaviors" alt="" coords="156,5,239,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abd594bc52ba432da2f83f3e977f4a361"></a><!-- doxytag: member="CPSModel::hasTransaction" ref="abd594bc52ba432da2f83f3e977f4a361" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hasTransaction </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks to see if there are any transactions going... </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00365">365</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> ( 0 != count( self::$_transactionStack ) );
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a804031428d96cfe7a18b1a343272f5a7"></a><!-- doxytag: member="CPSModel::queryAll" ref="a804031428d96cfe7a18b1a343272f5a7" args="($criteria, $fetchAssociative=true, $parameters=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static queryAll </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>criteria</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fetchAssociative</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>parameters</em> = <code><a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Executes the SQL statement and returns all rows. (static version) </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$criteria The criteria for the query </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>boolean</em>&nbsp;</td><td>$fetchAssociative Whether each row should be returned as an associated array with column names as the keys or the array keys are column indexes (0-based). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$parameters input parameters (name=&gt;value) for the SQL execution. This is an alternative to <a class="el" href="">bindParam</a> and <a class="el" href="">bindValue</a>. If you have multiple input parameters, passing them in this way can improve the performance. Note that you pass parameters in this way, you cannot bind parameters or values using <a class="el" href="">bindParam</a> or <a class="el" href="">bindValue</a>, and vice versa. binding methods and the input parameters this way can improve the performance. This parameter has been available since version 1.0.10. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array All rows of the query result. Each array element is an array representing a row. An empty array is returned if the query results in nothing. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>CException</em>&nbsp;</td><td>execution failed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00317">317</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( null !== ( $_builder = self::getDb()-&gt;getCommandBuilder() ) )
        {
            <span class="keywordflow">if</span> ( null !== ( $_command = $_builder-&gt;createFindCommand( $this-&gt;getTableSchema(), $criteria ) ) )
                <span class="keywordflow">return</span> $_command-&gt;queryAll( $fetchAssociative, $parameters );
        }

        <span class="keywordflow">return</span> null;
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a06996eae1b742263c0a4b83da0f9f922"></a><!-- doxytag: member="CPSModel::rollbackTransaction" ref="a06996eae1b742263c0a4b83da0f9f922" args="(Exception $exception=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static rollbackTransaction </td>
          <td>(</td>
          <td class="paramtype">Exception $&nbsp;</td>
          <td class="paramname"> <em>exception</em> = <code>null</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Rolls back the current transaction, if any... </p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>CDbException</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00403">403</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( null !== ( $_transaction = array_pop( self::$_transactionStack ) ) ) $_transaction-&gt;rollback();

        <span class="comment">//  Throw it if given</span>
        <span class="keywordflow">if</span> ( null !== $exception ) <span class="keywordflow">throw</span> $exception;
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a796bf438724e047aeef18579732a3780"></a><!-- doxytag: member="CPSModel::search" ref="a796bf438724e047aeef18579732a3780" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves a list of models based on the current search/filter conditions. Override for more specific search criteria. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>CActiveDataProvider the data provider that can return the models based on the search/filter conditions. </dd></dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00295">295</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <a class="code" href="gii_2model_2templates_2default_2model_8php.html#a28a116c3d6d8901fe4023b3d9bf7bf4c">$_criteria</a> = <span class="keyword">new</span> CDbCriteria();

        <span class="keywordflow">foreach</span> ( $this-&gt;getTableSchema()-&gt;columns as $_column )
        {
            <span class="keywordflow">if</span> ( <span class="stringliteral">&#39;string&#39;</span> == $_column-&gt;type )
                <a class="code" href="gii_2model_2templates_2default_2model_8php.html#a28a116c3d6d8901fe4023b3d9bf7bf4c">$_criteria</a>-&gt;compare( $_column-&gt;name, $this-&gt;{$_column-&gt;name}, true );
        }

        <span class="keywordflow">return</span> <span class="keyword">new</span> CActiveDataProvider( $this-&gt;_modelClass, <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>( <span class="stringliteral">&#39;criteria&#39;</span> =&gt; <a class="code" href="gii_2model_2templates_2default_2model_8php.html#a28a116c3d6d8901fe4023b3d9bf7bf4c">$_criteria</a> ) );
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a84c15d8a583f4f7f88f683a6db1a567b"></a><!-- doxytag: member="CPSModel::setAttributes" ref="a84c15d8a583f4f7f88f683a6db1a567b" args="($attributes, $safeOnly=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setAttributes </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>attributes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>safeOnly</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Override of CModel::setAttributes Populates member variables as well. Aware of Yii 1.1.0+</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$attributes </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00165">165</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( version_compare( Yii::getVersion(), <span class="stringliteral">&#39;1.1.0&#39;</span>, <span class="stringliteral">&#39;&gt;=&#39;</span> ) )
        {
            <span class="keywordflow">if</span> ( ! is_array( $attributes ) )
                <span class="keywordflow">return</span>;

            $_attributes = array_flip( $safeOnly ? $this-&gt;getSafeAttributeNames() : $this-&gt;attributeNames()  );

            <span class="keywordflow">foreach</span> ( $attributes as $_column =&gt; $_value )
            {
                <span class="keywordflow">if</span> ( isset( $_attributes[$_column] ) )
                    $this-&gt;setAttribute( $_column, $_value );
                <span class="keywordflow">else</span>
                {
                    <span class="keywordflow">if</span> ( $this-&gt;hasProperty( $_column ) &amp;&amp; $this-&gt;canSetProperty( $_column ) )
                        $this-&gt;{$_column} = $_value;
                }
            }
        }
        <span class="keywordflow">else</span>
        {
            $_scenario = ( $safeOnly ? $this-&gt;getScenario() : $safeOnly );

            <span class="keywordflow">if</span> ( is_array( $attributes ) )
            {
                $_attributes = array_flip( $this-&gt;getSafeAttributeNames( $_scenario ) );

                <span class="keywordflow">foreach</span> ( $attributes as $_column =&gt; $_value )
                {
                    <span class="keywordflow">if</span> ( isset( $_attributes[$_column] ) || ( $this-&gt;hasProperty( $_column ) &amp;&amp; $this-&gt;canSetProperty( $_column ) ) ) $this-&gt;setAttribute( $_column, $_value );
                }
            }
        }
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a710a72fc863debf3031e4d423ef9d405"></a><!-- doxytag: member="CPSModel::setModelClass" ref="a710a72fc863debf3031e4d423ef9d405" args="($modelClass)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setModelClass </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>modelClass</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets this model's name. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$modelClass </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00091">91</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        $this-&gt;_modelClass = $modelClass;
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6950c2a0061d704770d6df19daa75606"></a><!-- doxytag: member="CPSModel::setModelName" ref="a6950c2a0061d704770d6df19daa75606" args="($sValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setModelName </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>sValue</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set this model's name </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$sValue </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00082">82</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        $this-&gt;_modelClass = $sValue;
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2c43b5a257f271c45b33f7696ab2baf1"></a><!-- doxytag: member="CPSModel::setRestAttributes" ref="a2c43b5a257f271c45b33f7696ab2baf1" args="($attributeList)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setRestAttributes </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>attributeList</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the values in the model based on REST attribute names </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$attributeList </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00454">454</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( method_exists( $this, <span class="stringliteral">&#39;attributeRestMap&#39;</span> ) )
        {
            <a class="code" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955">CPSLog::trace</a>( __METHOD__, <span class="stringliteral">&#39;  - Setting REST attributes&#39;</span> );

            $_map = $this-&gt;attributeRestMap();

            <span class="keywordflow">foreach</span> ( $attributeList as $_key =&gt; $_value )
            {
                <span class="keywordflow">if</span> ( <span class="keyword">false</span> !== ( $_mapKey = array_search( $_key, $_map ) ) ) $this-&gt;setAttribute( $_mapKey, $_value );
            }

            <a class="code" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955">CPSLog::trace</a>( __METHOD__, <span class="stringliteral">&#39;  - REST attributes set&#39;</span> );
        }
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSModel_a2c43b5a257f271c45b33f7696ab2baf1_cgraph.png" border="0" usemap="#classCPSModel_a2c43b5a257f271c45b33f7696ab2baf1_cgraph" alt=""/></div>
<map name="classCPSModel_a2c43b5a257f271c45b33f7696ab2baf1_cgraph" id="classCPSModel_a2c43b5a257f271c45b33f7696ab2baf1_cgraph">
<area shape="rect" id="node3" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955" title="CPSLog::trace" alt="" coords="187,32,299,61"/><area shape="rect" id="node5" href="classCPSLog.html#a4c3be4120dc6dee2c97a6dde9428ac76" title="CPSLog::log" alt="" coords="347,32,445,61"/><area shape="rect" id="node7" href="classCPSLog.html#a66291d27410fbf7ba4978f513c13e6f0" title="CPSLog::_getCallingMethod" alt="" coords="493,5,691,35"/><area shape="rect" id="node9" href="classCPSLog.html#a8471574061e9457cc6e5be7c151b9cfb" title="CPSLog::_processMessage" alt="" coords="496,59,688,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3c04fa5f6105af41bb2f6d1c5b925576"></a><!-- doxytag: member="CPSModel::setTablePrefix" ref="a3c04fa5f6105af41bb2f6d1c5b925576" args="($prefix, $thisTableOnly=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setTablePrefix </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>thisTableOnly</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$prefix The prefix for the table </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>boolean</em>&nbsp;</td><td>$thisTableOnly If true, the prefix will be set for this table, not all tables </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string The new prefix </dd></dl>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00128">128</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( ! $thisTableOnly &amp;&amp; version_compare( YiiBase::getVersion(), <span class="stringliteral">&#39;1.1.0&#39;</span> ) &gt; 0 &amp;&amp; null !== ( $_db = $this-&gt;getDbConnection() ) )
            <span class="keywordflow">return</span> $_db-&gt;tablePrefix = $prefix;

        <span class="keywordflow">return</span> $this-&gt;_tablePrefix = $prefix;
    }
</pre></div></p>

</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="a255288ecbb9d5f910b8d9a7c04a34a9b"></a><!-- doxytag: member="CPSModel::$_attributeLabels" ref="a255288ecbb9d5f910b8d9a7c04a34a9b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_attributeLabels = <a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>( )<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00045">45</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

</div>
</div>
<a class="anchor" id="a90080dcb26627bf719d96ab99e51f958"></a><!-- doxytag: member="CPSModel::$_modelClass" ref="a90080dcb26627bf719d96ab99e51f958" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_modelClass = null<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented in <a class="el" href="classCPSCodeTableModel.html#a90080dcb26627bf719d96ab99e51f958">CPSCodeTableModel</a>.</p>

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00050">50</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad86f0aac1c5254c623bf3a6683ed56e8"></a><!-- doxytag: member="CPSModel::$_schema" ref="ad86f0aac1c5254c623bf3a6683ed56e8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_schema<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00034">34</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

</div>
</div>
<a class="anchor" id="a58d5dd151fa6e7f7841d9d85a6a6c273"></a><!-- doxytag: member="CPSModel::$_tablePrefix" ref="a58d5dd151fa6e7f7841d9d85a6a6c273" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_tablePrefix = null<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00040">40</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

</div>
</div>
<a class="anchor" id="a3cff4c1c690782176edb1e27b4d602a1"></a><!-- doxytag: member="CPSModel::$_transactionStack" ref="a3cff4c1c690782176edb1e27b4d602a1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_transactionStack = <a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>( )<code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSModel_8php_source.html#l00054">54</a> of file <a class="el" href="CPSModel_8php_source.html">CPSModel.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/usr/local/yiixl/lib/original/models/<a class="el" href="CPSModel_8php_source.html">CPSModel.php</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Mar 24 2011 20:11:41 for "The Yii Extension Library Of Doom!" by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
