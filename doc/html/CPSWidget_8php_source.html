<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>&quot;The Yii Extension Library Of Doom!&quot;: /usr/local/yiixl/lib/original/base/CPSWidget.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>/usr/local/yiixl/lib/original/base/CPSWidget.php</h1>  </div>
</div>
<div class="contents">
<a href="CPSWidget_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00023"></a><a class="code" href="classCPSWidget.html">00023</a> <span class="keyword">class </span><a class="code" href="classCPSWidget.html">CPSWidget</a> <span class="keyword">extends</span> CInputWidget implements <a class="code" href="interfaceIPSComponent.html">IPSComponent</a>
<a name="l00024"></a>00024 {
<a name="l00025"></a>00025     <span class="comment">//********************************************************************************</span>
<a name="l00026"></a>00026     <span class="comment">//* Member Variables</span>
<a name="l00027"></a>00027     <span class="comment">//********************************************************************************</span>
<a name="l00028"></a>00028 
<a name="l00033"></a><a class="code" href="classCPSWidget.html#a0a975e9ff0c33b78b80a00bf6f3429c3">00033</a>     <span class="keyword">protected</span> <a class="code" href="classCPSWidget.html#a0a975e9ff0c33b78b80a00bf6f3429c3">$_internalName</a>;
<a name="l00034"></a>00034 
<a name="l00039"></a><a class="code" href="classCPSWidget.html#ab6be874da7762016d79471c575d32395">00039</a>     <span class="keyword">protected</span> <a class="code" href="classCPSWidget.html#ab6be874da7762016d79471c575d32395">$_initialized</a> = <span class="keyword">false</span>;
<a name="l00040"></a>00040 
<a name="l00045"></a><a class="code" href="classCPSWidget.html#ae4b83ae1081fc84475665024602b3582">00045</a>     <span class="keyword">protected</span> <a class="code" href="classCPSWidget.html#ae4b83ae1081fc84475665024602b3582">$_behaviorCache</a> = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();
<a name="l00046"></a>00046 
<a name="l00051"></a><a class="code" href="classCPSWidget.html#a7e9c2d60491b593a399659483d86f330">00051</a>     <span class="keyword">protected</span> <a class="code" href="classCPSWidget.html#a7e9c2d60491b593a399659483d86f330">$_cssFiles</a> = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();
<a name="l00052"></a>00052 
<a name="l00057"></a><a class="code" href="classCPSWidget.html#a3cbcf4738832eece2bdc4bee0a905d27">00057</a>     <span class="keyword">protected</span> <a class="code" href="classCPSWidget.html#a3cbcf4738832eece2bdc4bee0a905d27">$_scriptFiles</a> = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();
<a name="l00058"></a>00058 
<a name="l00059"></a>00059     <span class="comment">//********************************************************************************</span>
<a name="l00060"></a>00060     <span class="comment">//* Yii Overrides</span>
<a name="l00061"></a>00061     <span class="comment">//********************************************************************************</span>
<a name="l00062"></a>00062 
<a name="l00066"></a><a class="code" href="classCPSWidget.html#adbfe8ea2bfbf717d6c5f17236251f1bc">00066</a>     <span class="keyword">public</span> function <a class="code" href="classCPSWidget.html#adbfe8ea2bfbf717d6c5f17236251f1bc">__construct</a>( $owner = null )
<a name="l00067"></a>00067     {
<a name="l00068"></a>00068         <a class="code" href="classCPSWidget.html#adbfe8ea2bfbf717d6c5f17236251f1bc">parent::__construct</a>( $owner );
<a name="l00069"></a>00069 
<a name="l00070"></a>00070         <span class="comment">//  Preinitialize</span>
<a name="l00071"></a>00071         $this-&gt;<a class="code" href="classCPSWidget.html#a2dc262e99b1c246b56f27626bfe699ff">preinit</a>();
<a name="l00072"></a>00072     }
<a name="l00073"></a>00073 
<a name="l00077"></a><a class="code" href="classCPSWidget.html#a421831a265621325e1fdd19aace0c758">00077</a>     <span class="keyword">public</span> function <a class="code" href="classCPSWidget.html#a421831a265621325e1fdd19aace0c758">__destruct</a>()
<a name="l00078"></a>00078     {
<a name="l00079"></a>00079         <span class="comment">//  Make sure scripts get regged before we die...</span>
<a name="l00080"></a>00080         $this-&gt;<a class="code" href="classCPSWidget.html#a59080ee7d7949e19f5af41e26ff53806">registerClientScripts</a>();
<a name="l00081"></a>00081 
<a name="l00082"></a>00082         <a class="code" href="classCPSWidget.html#a421831a265621325e1fdd19aace0c758">parent::__destruct</a>();
<a name="l00083"></a>00083     }
<a name="l00084"></a>00084 
<a name="l00089"></a><a class="code" href="classCPSWidget.html#a2dc262e99b1c246b56f27626bfe699ff">00089</a>     <span class="keyword">public</span> function <a class="code" href="classCPSWidget.html#a2dc262e99b1c246b56f27626bfe699ff">preinit</a>()
<a name="l00090"></a>00090     {
<a name="l00091"></a>00091         <span class="comment">//  Create our internal name</span>
<a name="l00092"></a>00092         <a class="code" href="classCPSHelperBase.html#a5199d81ae6877c4a94b92bbbc9899254">CPSHelperBase::createInternalName</a>( $this );
<a name="l00093"></a>00093 
<a name="l00094"></a>00094         <span class="comment">//  Attach our default Behavior</span>
<a name="l00095"></a>00095         $this-&gt;<a class="code" href="classCPSWidget.html#ad93e793964a65dfac40131c7cf7fe901">attachBehavior</a>( <span class="stringliteral">&#39;psWidget&#39;</span>, <span class="stringliteral">&#39;pogostick.behaviors.CPSWidgetBehavior&#39;</span> );
<a name="l00096"></a>00096     }
<a name="l00097"></a>00097 
<a name="l00101"></a><a class="code" href="classCPSWidget.html#a4be4055f3361d4800e16bc2e2e38cda6">00101</a>     <span class="keyword">public</span> function <a class="code" href="classCPSWidget.html#a4be4055f3361d4800e16bc2e2e38cda6">init</a>()
<a name="l00102"></a>00102     {
<a name="l00103"></a>00103         <span class="keywordflow">if</span> ( ! $this-&gt;_initialized )
<a name="l00104"></a>00104         {
<a name="l00105"></a>00105             <span class="comment">//  Now call parent&#39;s init...</span>
<a name="l00106"></a>00106             <a class="code" href="classCPSWidget.html#a4be4055f3361d4800e16bc2e2e38cda6">parent::init</a>();
<a name="l00107"></a>00107 
<a name="l00108"></a>00108             <span class="comment">//  Call our behaviors init() method if they exist</span>
<a name="l00109"></a>00109             <span class="keywordflow">foreach</span> ( $this-&gt;_behaviorCache as $_name )
<a name="l00110"></a>00110                 $this-&gt;asa( $_name )-&gt;init();
<a name="l00111"></a>00111 
<a name="l00112"></a>00112             <span class="comment">//  Get the id/name of this widget</span>
<a name="l00113"></a>00113             list( $this-&gt;name, $this-&gt;<span class="keywordtype">id</span> ) = $this-&gt;resolveNameID();
<a name="l00114"></a>00114 
<a name="l00115"></a>00115             <span class="keywordflow">if</span> ( empty( $this-&gt;name ) )
<a name="l00116"></a>00116                 $this-&gt;name = $this-&gt;_internalName;
<a name="l00117"></a>00117 
<a name="l00118"></a>00118             <span class="comment">//  We are now...</span>
<a name="l00119"></a>00119             $this-&gt;_initialized = <span class="keyword">true</span>;
<a name="l00120"></a>00120         }
<a name="l00121"></a>00121     }
<a name="l00122"></a>00122 
<a name="l00128"></a><a class="code" href="classCPSWidget.html#a563c3cfa2400bfb9cdb5af4777251d47">00128</a>     <span class="keyword">public</span> function <a class="code" href="classCPSWidget.html#a563c3cfa2400bfb9cdb5af4777251d47">pushCssFile</a>( $path, $media = <span class="stringliteral">&#39;screen&#39;</span> )
<a name="l00129"></a>00129     {
<a name="l00130"></a>00130         array_push(
<a name="l00131"></a>00131             $this-&gt;_cssFiles,
<a name="l00132"></a>00132             <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
<a name="l00133"></a>00133                 <span class="stringliteral">&#39;path&#39;</span> =&gt; $path,
<a name="l00134"></a>00134                 <span class="stringliteral">&#39;media&#39;</span> =&gt; $media,
<a name="l00135"></a>00135             )
<a name="l00136"></a>00136         );
<a name="l00137"></a>00137     }
<a name="l00138"></a>00138 
<a name="l00143"></a><a class="code" href="classCPSWidget.html#a836a112a31fa378be05d375ddf67a0c6">00143</a>     <span class="keyword">public</span> function <a class="code" href="classCPSWidget.html#a836a112a31fa378be05d375ddf67a0c6">popCssFile</a>()
<a name="l00144"></a>00144     {
<a name="l00145"></a>00145         <span class="keywordflow">return</span> array_shift( $this-&gt;_cssFiles );
<a name="l00146"></a>00146     }
<a name="l00147"></a>00147 
<a name="l00155"></a><a class="code" href="classCPSWidget.html#a4589f8bb22c9e9837302ea2cc7c80570">00155</a>     <span class="keyword">public</span> function <a class="code" href="classCPSWidget.html#a4589f8bb22c9e9837302ea2cc7c80570">pushScriptFile</a>( $path, $position = CClientScript::POS_HEAD )
<a name="l00156"></a>00156     {
<a name="l00157"></a>00157         array_push(
<a name="l00158"></a>00158             $this-&gt;_scriptFiles,
<a name="l00159"></a>00159             <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
<a name="l00160"></a>00160                 <span class="stringliteral">&#39;path&#39;</span> =&gt; $path,
<a name="l00161"></a>00161                 <span class="stringliteral">&#39;position&#39;</span> =&gt; $position,
<a name="l00162"></a>00162             )
<a name="l00163"></a>00163         );
<a name="l00164"></a>00164 
<a name="l00165"></a>00165         $this-&gt;_scriptFiles[] = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>( $path, $position );
<a name="l00166"></a>00166     }
<a name="l00167"></a>00167 
<a name="l00172"></a><a class="code" href="classCPSWidget.html#ab4b1e02bb3e8bab82c822ff04c43d12e">00172</a>     <span class="keyword">public</span> function <a class="code" href="classCPSWidget.html#ab4b1e02bb3e8bab82c822ff04c43d12e">popScriptFile</a>()
<a name="l00173"></a>00173     {
<a name="l00174"></a>00174         <span class="keywordflow">return</span> array_shift( $this-&gt;_scriptFiles );
<a name="l00175"></a>00175     }
<a name="l00176"></a>00176 
<a name="l00177"></a>00177     <span class="comment">/***</span>
<a name="l00178"></a>00178 <span class="comment">    * Handles registration of scripts &amp; css files...</span>
<a name="l00179"></a>00179 <span class="comment">    * @return CClientScript Returns the current applications CClientScript object {@link CWebApplication::getClientScript}</span>
<a name="l00180"></a>00180 <span class="comment">    */</span>
<a name="l00181"></a><a class="code" href="classCPSWidget.html#a59080ee7d7949e19f5af41e26ff53806">00181</a>     <span class="keyword">public</span> function <a class="code" href="classCPSWidget.html#a59080ee7d7949e19f5af41e26ff53806">registerClientScripts</a>()
<a name="l00182"></a>00182     {
<a name="l00183"></a>00183         <span class="comment">//  Register a special CSS file if we have one...</span>
<a name="l00184"></a>00184         <span class="keywordflow">if</span> ( $this-&gt;cssFile )
<a name="l00185"></a>00185         {
<a name="l00186"></a>00186             $this-&gt;<a class="code" href="classCPSWidget.html#a563c3cfa2400bfb9cdb5af4777251d47">pushCssFile</a>( $this-&gt;cssFile );
<a name="l00187"></a>00187             $this-&gt;cssFile = null;
<a name="l00188"></a>00188         }
<a name="l00189"></a>00189 
<a name="l00190"></a>00190         $_baseUrl = <a class="code" href="classCPSHelperBase.html#a7c4e9be274589248e2464de14fad190e">CPSHelperBase::_gbu</a>();
<a name="l00191"></a>00191 
<a name="l00192"></a>00192         <span class="comment">//  Load css files and unset from array...</span>
<a name="l00193"></a>00193         <span class="keywordflow">while</span> ( null !== ( $_file = $this-&gt;<a class="code" href="classCPSWidget.html#a836a112a31fa378be05d375ddf67a0c6">popCssFile</a>() ) )
<a name="l00194"></a>00194         {
<a name="l00195"></a>00195 <a class="code" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955">CPSLog::trace</a>( __METHOD__, <span class="stringliteral">&#39;Popped css: &#39;</span> . print_r($_file,<span class="keyword">true</span>) );
<a name="l00196"></a>00196             <a class="code" href="classCPSHelperBase.html#a617fe0ffa46c9fc20d8c3576a2c73cf8">CPSHelperBase::_rcf</a>( $_baseUrl . $_file[<span class="stringliteral">&#39;path&#39;</span>], $_file[<span class="stringliteral">&#39;media&#39;</span>] );
<a name="l00197"></a>00197         }
<a name="l00198"></a>00198 
<a name="l00199"></a>00199         <span class="comment">//  Load script files and unset from array...</span>
<a name="l00200"></a>00200         <span class="keywordflow">while</span> ( null !== ( $_file = $this-&gt;<a class="code" href="classCPSWidget.html#ab4b1e02bb3e8bab82c822ff04c43d12e">popScriptFile</a>() ) )
<a name="l00201"></a>00201         {
<a name="l00202"></a>00202 <a class="code" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955">CPSLog::trace</a>( __METHOD__, <span class="stringliteral">&#39;Popped script: &#39;</span> . print_r($_file,<span class="keyword">true</span>) );
<a name="l00203"></a>00203             <a class="code" href="classCPSHelperBase.html#ae5089c4caea1197b2462a18eda83ca8c">CPSHelperBase::_rsf</a>( $_baseUrl . $_file[<span class="stringliteral">&#39;path&#39;</span>], $_file[<span class="stringliteral">&#39;position&#39;</span>] );
<a name="l00204"></a>00204         }
<a name="l00205"></a>00205 
<a name="l00206"></a>00206         <span class="comment">//  Send upstream for convenience</span>
<a name="l00207"></a>00207         <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#af1b9a8d121721a5a4454e0fb067f7cad">CPSHelperBase::_cs</a>();
<a name="l00208"></a>00208     }
<a name="l00209"></a>00209 
<a name="l00216"></a><a class="code" href="classCPSWidget.html#a196225b59cf30535180836cdac821edb">00216</a>     <span class="keyword">public</span> function <a class="code" href="classCPSWidget.html#a196225b59cf30535180836cdac821edb">registerWidgetScript</a>( $script = null, $position = CClientScript::POS_READY )
<a name="l00217"></a>00217     {
<a name="l00218"></a>00218         <span class="keywordflow">if</span> ( null === $script ) $script = $this-&gt;<a class="code" href="classCPSWidget.html#a2a2ea08f8240ed4c24058ab80ab89703">generateJavascript</a>();
<a name="l00219"></a>00219         <span class="keywordflow">if</span> ( $script ) <a class="code" href="classCPSHelperBase.html#a982d30aee3a52f73b0e935ef7c81b03b">CPSHelperBase::_rs</a>( $this-&gt;<a class="code" href="classCPSWidget.html#a54ebf4d8b63be34c7e54b579b97cc591">getUniqueId</a>( $this-&gt;<span class="keywordtype">id</span> ), $script, $position );
<a name="l00220"></a>00220     }
<a name="l00221"></a>00221 
<a name="l00229"></a><a class="code" href="classCPSWidget.html#ad93e793964a65dfac40131c7cf7fe901">00229</a>     <span class="keyword">public</span> function <a class="code" href="classCPSWidget.html#ad93e793964a65dfac40131c7cf7fe901">attachBehavior</a>( $name, $behavior )
<a name="l00230"></a>00230     {
<a name="l00231"></a>00231         <span class="comment">//  Attach the Behavior at the parent and add options here...</span>
<a name="l00232"></a>00232         <span class="keywordflow">if</span> ( $_behavior = parent::attachBehavior( $name, $behavior ) )
<a name="l00233"></a>00233         {
<a name="l00234"></a>00234             <span class="comment">//  Add to our cache...</span>
<a name="l00235"></a>00235             $this-&gt;_behaviorCache[] = $name;
<a name="l00236"></a>00236         }
<a name="l00237"></a>00237 
<a name="l00238"></a>00238         <span class="keywordflow">return</span> $_behavior;
<a name="l00239"></a>00239     }
<a name="l00240"></a>00240 
<a name="l00246"></a><a class="code" href="classCPSWidget.html#a00a75761a8790403ec39d56e44763ed5">00246</a>     <span class="keyword">public</span> function <a class="code" href="classCPSWidget.html#a00a75761a8790403ec39d56e44763ed5">configure</a>( $options = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>() )
<a name="l00247"></a>00247     {
<a name="l00248"></a>00248         $this-&gt;setOptions( $options );
<a name="l00249"></a>00249     }
<a name="l00250"></a>00250 
<a name="l00257"></a><a class="code" href="classCPSWidget.html#a54ebf4d8b63be34c7e54b579b97cc591">00257</a>     <span class="keyword">public</span> function <a class="code" href="classCPSWidget.html#a54ebf4d8b63be34c7e54b579b97cc591">getUniqueId</a>( $id = null )
<a name="l00258"></a>00258     {
<a name="l00259"></a>00259         <span class="keywordflow">return</span> <span class="stringliteral">&#39;ps.&#39;</span> . <a class="code" href="classCPSHash.html#a0dafa79239f1d71f976fdd260bf2349f">CPSHash::hash</a>( <a class="code" href="classCPSHelperBase.html#a666bf0c7e9a3320e2e1ca2d9b65301e6">CPSHelperBase::nvl</a>( $id, __CLASS__ ) . time() . CPSWidgetHelper::getNextIdCount() );
<a name="l00260"></a>00260     }
<a name="l00261"></a>00261 
<a name="l00262"></a>00262     <span class="comment">//********************************************************************************</span>
<a name="l00263"></a>00263     <span class="comment">//* Private Methods</span>
<a name="l00264"></a>00264     <span class="comment">//********************************************************************************</span>
<a name="l00265"></a>00265 
<a name="l00270"></a><a class="code" href="classCPSWidget.html#a2a2ea08f8240ed4c24058ab80ab89703">00270</a>     <span class="keyword">protected</span> function <a class="code" href="classCPSWidget.html#a2a2ea08f8240ed4c24058ab80ab89703">generateJavascript</a>()
<a name="l00271"></a>00271     {
<a name="l00272"></a>00272     }
<a name="l00273"></a>00273 
<a name="l00278"></a><a class="code" href="classCPSWidget.html#acc5a32d52db57b80885add51c076ed42">00278</a>     <span class="keyword">protected</span> function <a class="code" href="classCPSWidget.html#acc5a32d52db57b80885add51c076ed42">generateHtml</a>()
<a name="l00279"></a>00279     {
<a name="l00280"></a>00280     }
<a name="l00281"></a>00281 
<a name="l00282"></a>00282     <span class="comment">//********************************************************************************</span>
<a name="l00283"></a>00283     <span class="comment">//* Interface Requirements</span>
<a name="l00284"></a>00284     <span class="comment">//********************************************************************************</span>
<a name="l00285"></a>00285 
<a name="l00290"></a><a class="code" href="classCPSWidget.html#aa18c8754403c04289ac8fbfc467df4ac">00290</a>     <span class="keyword">public</span> function <a class="code" href="classCPSWidget.html#aa18c8754403c04289ac8fbfc467df4ac">getInternalName</a>() { <span class="keywordflow">return</span> $this-&gt;_internalName; }
<a name="l00291"></a>00291 
<a name="l00296"></a><a class="code" href="classCPSWidget.html#a08e716b913e06fdbb77e84f81c0a3a35">00296</a>     <span class="keyword">public</span> function <a class="code" href="classCPSWidget.html#a08e716b913e06fdbb77e84f81c0a3a35">setInternalName</a>( $value ) { $this-&gt;_internalName = $value; }
<a name="l00297"></a>00297 
<a name="l00298"></a>00298     <span class="comment">//********************************************************************************</span>
<a name="l00299"></a>00299     <span class="comment">//* Statics</span>
<a name="l00300"></a>00300     <span class="comment">//********************************************************************************</span>
<a name="l00301"></a>00301 
<a name="l00312"></a><a class="code" href="classCPSWidget.html#af09cbabc6ce2c1d9d9efb7ae308ea0f3">00312</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSWidget.html#af09cbabc6ce2c1d9d9efb7ae308ea0f3">create</a>( $name = null, <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a> $options = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>() )
<a name="l00313"></a>00313     {
<a name="l00314"></a>00314         <span class="comment">//  Allow shifted arguments...</span>
<a name="l00315"></a>00315         <span class="keywordflow">if</span> ( is_array( $name ) &amp;&amp; <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>() === $options )
<a name="l00316"></a>00316         {
<a name="l00317"></a>00317             $options = $name;
<a name="l00318"></a>00318             $name = null;
<a name="l00319"></a>00319         }
<a name="l00320"></a>00320 
<a name="l00321"></a>00321         <span class="comment">//  Instantiate...</span>
<a name="l00322"></a>00322         $_name = <a class="code" href="classCPSHelperBase.html#a666bf0c7e9a3320e2e1ca2d9b65301e6">CPSHelperBase::nvl</a>( $name, ( is_callable( <span class="stringliteral">&#39;get_called_class&#39;</span> ) ? get_called_class() : $name ) );
<a name="l00323"></a>00323         $_class = <a class="code" href="classCPSHelperBase.html#a557243d020090bff2b3cb6cdb03d31aa">CPSHelperBase::o</a>( $options, <span class="stringliteral">&#39;class&#39;</span>, ( is_callable( <span class="stringliteral">&#39;get_called_class&#39;</span> ) ? get_called_class() : $_name ), <span class="keyword">true</span> );
<a name="l00324"></a>00324         $_widget = <span class="keyword">new</span> $_class();
<a name="l00325"></a>00325         $_widget-&gt;widgetName = $_name;
<a name="l00326"></a>00326         $_widget-&gt;id = $_widget-&gt;name = <a class="code" href="classCPSHelperBase.html#a557243d020090bff2b3cb6cdb03d31aa">CPSHelperBase::o</a>( $options, <span class="stringliteral">&#39;id&#39;</span>, $_name );
<a name="l00327"></a>00327         $_widget-&gt;name = <a class="code" href="classCPSHelperBase.html#a557243d020090bff2b3cb6cdb03d31aa">CPSHelperBase::o</a>( $options, <span class="stringliteral">&#39;name&#39;</span>, $_widget-&gt;id );
<a name="l00328"></a>00328 
<a name="l00329"></a>00329         <span class="comment">//  Push any optional scripts</span>
<a name="l00330"></a>00330         <span class="keywordflow">foreach</span> ( <a class="code" href="classCPSHelperBase.html#a557243d020090bff2b3cb6cdb03d31aa">CPSHelperBase::o</a>( $options, <span class="stringliteral">&#39;_scripts&#39;</span>, <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(), <span class="keyword">true</span> ) as $_script )
<a name="l00331"></a>00331             $_widget-&gt;pushScriptFile( $_widget-&gt;baseUrl . $_script );
<a name="l00332"></a>00332 
<a name="l00333"></a>00333         <span class="comment">//  And CSS</span>
<a name="l00334"></a>00334         <span class="keywordflow">foreach</span> ( <a class="code" href="classCPSHelperBase.html#a557243d020090bff2b3cb6cdb03d31aa">CPSHelperBase::o</a>( $options, <span class="stringliteral">&#39;_cssFiles&#39;</span>, <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(), <span class="keyword">true</span> ) as $_css )
<a name="l00335"></a>00335             $_widget-&gt;pushCssFile( $_widget-&gt;baseUrl . $_css );
<a name="l00336"></a>00336 
<a name="l00337"></a>00337         <span class="comment">//  Now process the rest of the options...</span>
<a name="l00338"></a>00338         $_widget-&gt;addOptions( $options );
<a name="l00339"></a>00339 
<a name="l00340"></a>00340         <span class="comment">//  Initialize our widget</span>
<a name="l00341"></a>00341         $_widget-&gt;init();
<a name="l00342"></a>00342 
<a name="l00343"></a>00343         <span class="comment">//  And run it...</span>
<a name="l00344"></a>00344         <span class="keywordflow">if</span> ( $_widget-&gt;autoRun )
<a name="l00345"></a>00345             $_widget-&gt;run();
<a name="l00346"></a>00346 
<a name="l00347"></a>00347         <span class="comment">//  And return...</span>
<a name="l00348"></a>00348         <span class="keywordflow">return</span> $_widget;
<a name="l00349"></a>00349     }
<a name="l00350"></a>00350 
<a name="l00351"></a>00351 }
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Mar 24 2011 20:11:38 for "The Yii Extension Library Of Doom!" by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
