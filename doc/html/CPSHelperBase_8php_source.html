<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>&quot;The Yii Extension Library Of Doom!&quot;: /usr/local/yiixl/lib/original/helpers/CPSHelperBase.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>/usr/local/yiixl/lib/original/helpers/CPSHelperBase.php</h1>  </div>
</div>
<div class="contents">
<a href="CPSHelperBase_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00022"></a><a class="code" href="classCPSHelperBase.html">00022</a> <span class="keyword">class </span><a class="code" href="classCPSHelperBase.html">CPSHelperBase</a> <span class="keyword">extends</span> CHtml implements <a class="code" href="interfaceIPSBase.html">IPSBase</a>
<a name="l00023"></a>00023 {
<a name="l00024"></a>00024     <span class="comment">//********************************************************************************</span>
<a name="l00025"></a>00025     <span class="comment">//* Constants for all components</span>
<a name="l00026"></a>00026     <span class="comment">//********************************************************************************</span>
<a name="l00027"></a>00027 
<a name="l00031"></a><a class="code" href="classCPSHelperBase.html#ae216f8dc124162fce9c831581cccad38">00031</a>     <span class="keyword">const</span>   <a class="code" href="classCPSHelperBase.html#ae216f8dc124162fce9c831581cccad38">OF_JSON</a>         = 0;
<a name="l00032"></a><a class="code" href="classCPSHelperBase.html#ad861d7e1882caed33177c62354962537">00032</a>     <span class="keyword">const</span>   <a class="code" href="classCPSHelperBase.html#ad861d7e1882caed33177c62354962537">OF_HTTP</a>         = 1;
<a name="l00033"></a><a class="code" href="classCPSHelperBase.html#a9976081cc6341d651113d98adf880a7c">00033</a>     <span class="keyword">const</span>   <a class="code" href="classCPSHelperBase.html#a9976081cc6341d651113d98adf880a7c">OF_ASSOC_ARRAY</a>  = 2;
<a name="l00034"></a><a class="code" href="classCPSHelperBase.html#a3a27aba2d308cba737ac8177f210b547">00034</a>     <span class="keyword">const</span>   <a class="code" href="classCPSHelperBase.html#a3a27aba2d308cba737ac8177f210b547">OF_XML</a>          = 3;
<a name="l00035"></a>00035 
<a name="l00039"></a><a class="code" href="classCPSHelperBase.html#ac77237b0fcb9d6540fca4eb80f4487f8">00039</a>     <span class="keyword">const</span>   <a class="code" href="classCPSHelperBase.html#ac77237b0fcb9d6540fca4eb80f4487f8">PL_TOP_LEFT</a>     = 0;
<a name="l00040"></a><a class="code" href="classCPSHelperBase.html#ab2d49310ee456748bb800d490fcc9e89">00040</a>     <span class="keyword">const</span>   <a class="code" href="classCPSHelperBase.html#ab2d49310ee456748bb800d490fcc9e89">PL_TOP_RIGHT</a>    = 1;
<a name="l00041"></a><a class="code" href="classCPSHelperBase.html#a01a4f4dcd309a862d2489734b17b6d29">00041</a>     <span class="keyword">const</span>   <a class="code" href="classCPSHelperBase.html#a01a4f4dcd309a862d2489734b17b6d29">PL_BOTTOM_LEFT</a>  = 2;
<a name="l00042"></a><a class="code" href="classCPSHelperBase.html#ac1425b823028e19f350a752e8bb08000">00042</a>     <span class="keyword">const</span>   <a class="code" href="classCPSHelperBase.html#ac1425b823028e19f350a752e8bb08000">PL_BOTTOM_RIGHT</a> = 3;
<a name="l00043"></a>00043 
<a name="l00044"></a>00044     <span class="comment">/***</span>
<a name="l00045"></a>00045 <span class="comment">    * Predefined action types for CPSForm</span>
<a name="l00046"></a>00046 <span class="comment">    */</span>
<a name="l00047"></a><a class="code" href="classCPSHelperBase.html#a14ebb74e919040ff6ae640a85e26ad80">00047</a>     <span class="keyword">const</span>   <a class="code" href="classCPSHelperBase.html#a14ebb74e919040ff6ae640a85e26ad80">ACTION_NONE</a>     = 0;
<a name="l00048"></a><a class="code" href="classCPSHelperBase.html#a9c06ab2db927f3b687a12bf1bed808cd">00048</a>     <span class="keyword">const</span>   <a class="code" href="classCPSHelperBase.html#a9c06ab2db927f3b687a12bf1bed808cd">ACTION_CREATE</a>   = 1;
<a name="l00049"></a><a class="code" href="classCPSHelperBase.html#a264a8a0ead2c258c6ad9ce0f0968cd1b">00049</a>     <span class="keyword">const</span>   <a class="code" href="classCPSHelperBase.html#a264a8a0ead2c258c6ad9ce0f0968cd1b">ACTION_VIEW</a>     = 2;
<a name="l00050"></a><a class="code" href="classCPSHelperBase.html#ab9acf282db5918a797e09e1fa108ae9e">00050</a>     <span class="keyword">const</span>   <a class="code" href="classCPSHelperBase.html#ab9acf282db5918a797e09e1fa108ae9e">ACTION_EDIT</a>     = 3;
<a name="l00051"></a><a class="code" href="classCPSHelperBase.html#a4f9b91b9d04c6c9d7b6ebb8ceb70c0c0">00051</a>     <span class="keyword">const</span>   <a class="code" href="classCPSHelperBase.html#a4f9b91b9d04c6c9d7b6ebb8ceb70c0c0">ACTION_SAVE</a>     = 4;
<a name="l00052"></a><a class="code" href="classCPSHelperBase.html#a274e654ac39438f682f6bf1eb450395e">00052</a>     <span class="keyword">const</span>   <a class="code" href="classCPSHelperBase.html#a274e654ac39438f682f6bf1eb450395e">ACTION_DELETE</a>   = 5;
<a name="l00053"></a><a class="code" href="classCPSHelperBase.html#a40afbdc229854c77e24353b459713784">00053</a>     <span class="keyword">const</span>   <a class="code" href="classCPSHelperBase.html#a40afbdc229854c77e24353b459713784">ACTION_ADMIN</a>    = 6;
<a name="l00054"></a><a class="code" href="classCPSHelperBase.html#af1b57d540e52e105bcb81d4482546cba">00054</a>     <span class="keyword">const</span>   <a class="code" href="classCPSHelperBase.html#af1b57d540e52e105bcb81d4482546cba">ACTION_LOCK</a>     = 7;
<a name="l00055"></a><a class="code" href="classCPSHelperBase.html#ae24b4d0d3bf45c296468bccbfb12a13b">00055</a>     <span class="keyword">const</span>   <a class="code" href="classCPSHelperBase.html#ae24b4d0d3bf45c296468bccbfb12a13b">ACTION_UNLOCK</a>   = 8;
<a name="l00056"></a>00056 
<a name="l00057"></a>00057     <span class="comment">//  Add your own in between 4 and 997...</span>
<a name="l00058"></a><a class="code" href="classCPSHelperBase.html#a4bd6b76d55b3a5f5cecaaf7489dbcd88">00058</a>     <span class="keyword">const</span>   <a class="code" href="classCPSHelperBase.html#a4bd6b76d55b3a5f5cecaaf7489dbcd88">ACTION_PREVIEW</a>      = 996;
<a name="l00059"></a><a class="code" href="classCPSHelperBase.html#a6954c10c63953015a160f802f79e59d2">00059</a>     <span class="keyword">const</span>   <a class="code" href="classCPSHelperBase.html#a6954c10c63953015a160f802f79e59d2">ACTION_RETURN</a>       = 997;
<a name="l00060"></a><a class="code" href="classCPSHelperBase.html#a03e2e4af94065db773598c46a3d457f8">00060</a>     <span class="keyword">const</span>   <a class="code" href="classCPSHelperBase.html#a03e2e4af94065db773598c46a3d457f8">ACTION_CANCEL</a>       = 998;
<a name="l00061"></a><a class="code" href="classCPSHelperBase.html#ab18109cf2120c7f61450d656a4700fff">00061</a>     <span class="keyword">const</span>   <a class="code" href="classCPSHelperBase.html#ab18109cf2120c7f61450d656a4700fff">ACTION_GENERIC</a>      = 999;
<a name="l00062"></a>00062 
<a name="l00063"></a>00063     <span class="comment">//********************************************************************************</span>
<a name="l00064"></a>00064     <span class="comment">//* Private Members</span>
<a name="l00065"></a>00065     <span class="comment">//********************************************************************************</span>
<a name="l00066"></a>00066 
<a name="l00071"></a><a class="code" href="classCPSHelperBase.html#af6f88e94a08d7714446e9d14aec8eccd">00071</a>     <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="classCPSHelperBase.html#af6f88e94a08d7714446e9d14aec8eccd">$_thisApp</a> = null;
<a name="l00072"></a>00072 
<a name="l00077"></a><a class="code" href="classCPSHelperBase.html#ab300f41b1bfad0b7fbf250eb7fb46eea">00077</a>     <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="classCPSHelperBase.html#ab300f41b1bfad0b7fbf250eb7fb46eea">$_thisRequest</a> = null;
<a name="l00078"></a>00078 
<a name="l00083"></a><a class="code" href="classCPSHelperBase.html#a7e5fa1f4672a5a8a8ddb2d96bea86daa">00083</a>     <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="classCPSHelperBase.html#a7e5fa1f4672a5a8a8ddb2d96bea86daa">$_clientScript</a> = null;
<a name="l00084"></a>00084 
<a name="l00089"></a><a class="code" href="classCPSHelperBase.html#a942de4b5bc91566b1ca1452da4166059">00089</a>     <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="classCPSHelperBase.html#a942de4b5bc91566b1ca1452da4166059">$_thisUser</a> = null;
<a name="l00090"></a>00090 
<a name="l00095"></a><a class="code" href="classCPSHelperBase.html#a32cb14890abc35b436e106a457c6ca97">00095</a>     <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="classCPSHelperBase.html#a32cb14890abc35b436e106a457c6ca97">$_thisController</a> = null;
<a name="l00096"></a>00096 
<a name="l00101"></a><a class="code" href="classCPSHelperBase.html#ace966ab0b5f00686b49f86b4d4a664a2">00101</a>     <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="classCPSHelperBase.html#ace966ab0b5f00686b49f86b4d4a664a2">$_appParameters</a> = null;
<a name="l00102"></a><a class="code" href="classCPSHelperBase.html#a8ac5625213c62cbfacb0cc46b085f10c">00102</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a8ac5625213c62cbfacb0cc46b085f10c">getParams</a>() { self::$_appParameters; }
<a name="l00103"></a>00103 
<a name="l00108"></a><a class="code" href="classCPSHelperBase.html#a3f47ff234cfea41e28e030bbf75c56eb">00108</a>     <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="classCPSHelperBase.html#a3f47ff234cfea41e28e030bbf75c56eb">$_classPath</a> = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();
<a name="l00109"></a><a class="code" href="classCPSHelperBase.html#ab65207cbc621cd3db1d453c7256df47f">00109</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#ab65207cbc621cd3db1d453c7256df47f">getClassPath</a>() { <span class="keywordflow">return</span> self::$_classPath; }
<a name="l00110"></a><a class="code" href="classCPSHelperBase.html#a447979fd6deb6b6d84dc5efdc6b110f7">00110</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a447979fd6deb6b6d84dc5efdc6b110f7">setClassPath</a>( $arClasses ) { self::$_classPath = $arClasses; }
<a name="l00111"></a><a class="code" href="classCPSHelperBase.html#a16290a4f6b9920eb65ab0052df0d6bc9">00111</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a16290a4f6b9920eb65ab0052df0d6bc9">addClassToPath</a>( $sClass ) { self::$_classPath[] = $sClass; }
<a name="l00112"></a>00112 
<a name="l00113"></a>00113     <span class="comment">//********************************************************************************</span>
<a name="l00114"></a>00114     <span class="comment">//* Public Methods</span>
<a name="l00115"></a>00115     <span class="comment">//********************************************************************************</span>
<a name="l00116"></a>00116 
<a name="l00120"></a><a class="code" href="classCPSHelperBase.html#a9f0be6ae273d3669e11c29910a0be338">00120</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a9f0be6ae273d3669e11c29910a0be338">init</a>()
<a name="l00121"></a>00121     {
<a name="l00122"></a>00122         <span class="comment">//  Intialize my variables...</span>
<a name="l00123"></a>00123         self::$_thisApp = Yii::app();
<a name="l00124"></a>00124 
<a name="l00125"></a>00125         <span class="comment">//  May or may not be available...</span>
<a name="l00126"></a>00126         <span class="keywordflow">try</span> { self::$_clientScript = self::$_thisApp-&gt;getClientScript(); } <span class="keywordflow">catch</span> ( Exception $_ex ) {}
<a name="l00127"></a>00127         <span class="keywordflow">try</span> { self::$_thisUser = self::$_thisApp-&gt;getUser(); } <span class="keywordflow">catch</span> ( Exception $_ex ) {}
<a name="l00128"></a>00128         <span class="keywordflow">try</span> { self::$_thisRequest = self::$_thisApp-&gt;getRequest(); } <span class="keywordflow">catch</span> ( Exception $_ex ) {}
<a name="l00129"></a>00129         <span class="keywordflow">try</span> { self::$_appParameters = self::$_thisApp-&gt;params; } <span class="keywordflow">catch</span> ( Exception $_ex ) {}
<a name="l00130"></a>00130     }
<a name="l00131"></a>00131 
<a name="l00137"></a><a class="code" href="classCPSHelperBase.html#a5199d81ae6877c4a94b92bbbc9899254">00137</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a5199d81ae6877c4a94b92bbbc9899254">createInternalName</a>( <a class="code" href="interfaceIPSComponent.html">IPSComponent</a> $component )
<a name="l00138"></a>00138     {
<a name="l00139"></a>00139         <span class="comment">//  Get the class...</span>
<a name="l00140"></a>00140         $_class = get_class( $component );
<a name="l00141"></a>00141 
<a name="l00142"></a>00142         <span class="comment">//  Set names (with a little Pogostick magic!)</span>
<a name="l00143"></a>00143         $_internalName = ( <span class="keyword">false</span> !== strpos( $_class, <span class="stringliteral">&#39;CPS&#39;</span>, 0 ) ) ? str_replace( <span class="stringliteral">&#39;CPS&#39;</span>, <span class="stringliteral">&#39;ps&#39;</span>, $_class ) : $_class;
<a name="l00144"></a>00144 
<a name="l00145"></a>00145         <span class="comment">//  Set the names inside the object</span>
<a name="l00146"></a>00146         $component-&gt;<a class="code" href="interfaceIPSComponent.html#a08e716b913e06fdbb77e84f81c0a3a35">setInternalName</a>( $_internalName );
<a name="l00147"></a>00147 
<a name="l00148"></a>00148         <span class="comment">//  Return</span>
<a name="l00149"></a>00149         <span class="keywordflow">return</span> $component;
<a name="l00150"></a>00150     }
<a name="l00151"></a>00151 
<a name="l00160"></a><a class="code" href="classCPSHelperBase.html#a666bf0c7e9a3320e2e1ca2d9b65301e6">00160</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a666bf0c7e9a3320e2e1ca2d9b65301e6">nvl</a>()
<a name="l00161"></a>00161     {
<a name="l00162"></a>00162         $_default = null;
<a name="l00163"></a>00163         $_args = func_num_args();
<a name="l00164"></a>00164         $_haystack = func_get_args();
<a name="l00165"></a>00165 
<a name="l00166"></a>00166         <span class="keywordflow">for</span> ( $_i = 0; $_i &lt; $_args; $_i++ )
<a name="l00167"></a>00167         {
<a name="l00168"></a>00168             <span class="keywordflow">if</span> ( isset( $_haystack[ $_i ] ) &amp;&amp; ! empty( $_haystack[ $_i ] ) )
<a name="l00169"></a>00169                 <span class="keywordflow">return</span> $_haystack[ $_i ];
<a name="l00170"></a>00170 
<a name="l00171"></a>00171             $_default = $_haystack[ $_i ];
<a name="l00172"></a>00172         }
<a name="l00173"></a>00173 
<a name="l00174"></a>00174         <span class="keywordflow">return</span> $_default;
<a name="l00175"></a>00175     }
<a name="l00176"></a>00176 
<a name="l00189"></a><a class="code" href="classCPSHelperBase.html#a41826678a323714d7b160530202af138">00189</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a41826678a323714d7b160530202af138">in</a>()
<a name="l00190"></a>00190     {
<a name="l00191"></a>00191         $_haystack = func_get_args();
<a name="l00192"></a>00192 
<a name="l00193"></a>00193         <span class="keywordflow">if</span> ( count( $_haystack ) &gt; 1 )
<a name="l00194"></a>00194         {
<a name="l00195"></a>00195             $_needle = array_shift( $_haystack );
<a name="l00196"></a>00196             <span class="keywordflow">return</span> in_array( $_needle, $_haystack );
<a name="l00197"></a>00197         }
<a name="l00198"></a>00198 
<a name="l00199"></a>00199         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00200"></a>00200     }
<a name="l00201"></a>00201 
<a name="l00207"></a><a class="code" href="classCPSHelperBase.html#acd68f45a82d2033e048ef609d455290c">00207</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#acd68f45a82d2033e048ef609d455290c">currentTimeMillis</a>()
<a name="l00208"></a>00208     {
<a name="l00209"></a>00209         list( $_uSec, $_sec ) = explode( <span class="charliteral">&#39; &#39;</span>, microtime() );
<a name="l00210"></a>00210         <span class="keywordflow">return</span> ( ( <span class="keywordtype">float</span> )$_uSec + ( <span class="keywordtype">float</span> )$_sec );
<a name="l00211"></a>00211     }
<a name="l00212"></a>00212 
<a name="l00223"></a><a class="code" href="classCPSHelperBase.html#a70efdcf232533bf1c9203417a0a489c7">00223</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a70efdcf232533bf1c9203417a0a489c7">oo</a>( &amp;$optionList = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(), $key, $subKey, $defaultValue = null, $unsetValue = <span class="keyword">false</span> )
<a name="l00224"></a>00224     {
<a name="l00225"></a>00225         <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#a557243d020090bff2b3cb6cdb03d31aa">PS::o</a>( PS::o( $optionList, $key, <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>() ), $subKey, $defaultValue, $unsetValue );
<a name="l00226"></a>00226     }
<a name="l00227"></a>00227 
<a name="l00241"></a><a class="code" href="classCPSHelperBase.html#a557243d020090bff2b3cb6cdb03d31aa">00241</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a557243d020090bff2b3cb6cdb03d31aa">o</a>( &amp;$optionList = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(), $key, $defaultValue = null, $unsetValue = <span class="keyword">false</span> )
<a name="l00242"></a>00242     {
<a name="l00243"></a>00243         $_newValue = $defaultValue;
<a name="l00244"></a>00244 
<a name="l00245"></a>00245         <span class="keywordflow">if</span> ( is_array( $optionList ) )
<a name="l00246"></a>00246         {
<a name="l00247"></a>00247             <span class="keywordflow">if</span> ( ! array_key_exists( $key, $optionList ) )
<a name="l00248"></a>00248             {
<a name="l00249"></a>00249                 <span class="comment">//  Ignore case and look...</span>
<a name="l00250"></a>00250                 $_newKey = strtolower( $key );
<a name="l00251"></a>00251 
<a name="l00252"></a>00252                 <span class="keywordflow">foreach</span> ( $optionList as $_key =&gt; $_value )
<a name="l00253"></a>00253                 {
<a name="l00254"></a>00254                     <span class="keywordflow">if</span> ( strtolower( $_key ) == $_newKey )
<a name="l00255"></a>00255                     {
<a name="l00256"></a>00256                         <span class="comment">//  Set correct key and break</span>
<a name="l00257"></a>00257                         $key = $_key;
<a name="l00258"></a>00258                         <span class="keywordflow">break</span>;
<a name="l00259"></a>00259                     }
<a name="l00260"></a>00260                 }
<a name="l00261"></a>00261             }
<a name="l00262"></a>00262 
<a name="l00263"></a>00263             <span class="keywordflow">if</span> ( isset( $optionList[$key] ) )
<a name="l00264"></a>00264             {
<a name="l00265"></a>00265                 $_newValue = $optionList[$key];
<a name="l00266"></a>00266                 <span class="keywordflow">if</span> ( $unsetValue ) unset( $optionList[$key] );
<a name="l00267"></a>00267             }
<a name="l00268"></a>00268 
<a name="l00269"></a>00269             <span class="comment">//  Set it in the array if not an unsetter...</span>
<a name="l00270"></a>00270             <span class="keywordflow">if</span> ( ! $unsetValue ) $optionList[$key] = $_newValue;
<a name="l00271"></a>00271         }
<a name="l00272"></a>00272 
<a name="l00273"></a>00273         <span class="comment">//  Return...</span>
<a name="l00274"></a>00274         <span class="keywordflow">return</span> $_newValue;
<a name="l00275"></a>00275     }
<a name="l00276"></a>00276 
<a name="l00289"></a><a class="code" href="classCPSHelperBase.html#a53defc41ed9a31f73c09a9f18eb17ffc">00289</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a53defc41ed9a31f73c09a9f18eb17ffc">getOption</a>( &amp;$optionList = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(), $key, $defaultValue = null, $unsetValue = <span class="keyword">false</span> )
<a name="l00290"></a>00290     {
<a name="l00291"></a>00291         <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#a557243d020090bff2b3cb6cdb03d31aa">self::o</a>( $optionList, $key, $defaultValue, $unsetValue );
<a name="l00292"></a>00292     }
<a name="l00293"></a>00293 
<a name="l00302"></a><a class="code" href="classCPSHelperBase.html#a68ffb34193bb1fc4e9ba07af567b1641">00302</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a68ffb34193bb1fc4e9ba07af567b1641">so</a>( <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a> &amp;$optionList, $key, $value = null )
<a name="l00303"></a>00303     {
<a name="l00304"></a>00304         <span class="keywordflow">return</span> $optionList[$key] = $value;
<a name="l00305"></a>00305     }
<a name="l00306"></a>00306 
<a name="l00316"></a><a class="code" href="classCPSHelperBase.html#a67e30a5cd983c8c0d118a27db7b5066e">00316</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a67e30a5cd983c8c0d118a27db7b5066e">setOption</a>( <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a> &amp;$optionList, $key, $value = null )
<a name="l00317"></a>00317     {
<a name="l00318"></a>00318         <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#a68ffb34193bb1fc4e9ba07af567b1641">self::so</a>( $optionList, $key, $value );
<a name="l00319"></a>00319     }
<a name="l00320"></a>00320 
<a name="l00329"></a><a class="code" href="classCPSHelperBase.html#ae33c0f1f71a849e8a3df5d8d698ffb21">00329</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#ae33c0f1f71a849e8a3df5d8d698ffb21">uo</a>( <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a> &amp;$optionList, $key )
<a name="l00330"></a>00330     {
<a name="l00331"></a>00331         <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#a557243d020090bff2b3cb6cdb03d31aa">self::o</a>( $optionList, $key, null, <span class="keyword">true</span> );
<a name="l00332"></a>00332     }
<a name="l00333"></a>00333 
<a name="l00342"></a><a class="code" href="classCPSHelperBase.html#ac92539436befc39865effc42a120759f">00342</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#ac92539436befc39865effc42a120759f">unsetOption</a>( <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a> &amp;$optionList, $key )
<a name="l00343"></a>00343     {
<a name="l00344"></a>00344         <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#ae33c0f1f71a849e8a3df5d8d698ffb21">self::uo</a>( $optionList, $key );
<a name="l00345"></a>00345     }
<a name="l00346"></a>00346 
<a name="l00352"></a><a class="code" href="classCPSHelperBase.html#ae71ab8a8101aa09e0ba15ac210f632bf">00352</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#ae71ab8a8101aa09e0ba15ac210f632bf">smart_array_merge</a>()
<a name="l00353"></a>00353     {
<a name="l00354"></a>00354         $_iCount = func_num_args();
<a name="l00355"></a>00355         $_arResult = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();
<a name="l00356"></a>00356 
<a name="l00357"></a>00357         <span class="keywordflow">for</span> ( $_i = 0; $_i &lt; $_iCount; $_i++ )
<a name="l00358"></a>00358         {
<a name="l00359"></a>00359             <span class="keywordflow">foreach</span> ( func_get_arg( $_i ) as $_key =&gt; $_newValue )
<a name="l00360"></a>00360             {
<a name="l00361"></a>00361                 <span class="keywordflow">if</span> ( isset( $_arResult[ $_key ] ) ) $_newValue = $_arResult[ $_key ] . <span class="charliteral">&#39; &#39;</span> . $_newValue;
<a name="l00362"></a>00362                 $_arResult[ $_key ] = $_newValue;
<a name="l00363"></a>00363             }
<a name="l00364"></a>00364         }
<a name="l00365"></a>00365 
<a name="l00366"></a>00366         <span class="keywordflow">return</span> $_arResult;
<a name="l00367"></a>00367     }
<a name="l00368"></a>00368 
<a name="l00379"></a><a class="code" href="classCPSHelperBase.html#aa4fbae93073c3a8240bd22c7664a9d89">00379</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#aa4fbae93073c3a8240bd22c7664a9d89">makeHttpRequest</a>( $url, $sQueryString = null, $method = <span class="stringliteral">&#39;GET&#39;</span>, $sNewAgent = null, $iTimeOut = 60 )
<a name="l00380"></a>00380     {
<a name="l00381"></a>00381         <span class="comment">//  Our user-agent string</span>
<a name="l00382"></a>00382         $_sAgent = <a class="code" href="classCPSHelperBase.html#a666bf0c7e9a3320e2e1ca2d9b65301e6">PS::nvl</a>( $sNewAgent, <span class="stringliteral">&#39;Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0; .NET CLR 2.0.50727; .NET CLR 3.0.04506; InfoPath.3)&#39;</span> );
<a name="l00383"></a>00383 
<a name="l00384"></a>00384         <span class="comment">//  Our return results</span>
<a name="l00385"></a>00385         $_sResult = null;
<a name="l00386"></a>00386         $_payload = $sQueryString;
<a name="l00387"></a>00387 
<a name="l00388"></a>00388         <span class="comment">//  Convert array to KVPs...</span>
<a name="l00389"></a>00389         <span class="keywordflow">if</span> ( is_array( $sQueryString ) )
<a name="l00390"></a>00390         {
<a name="l00391"></a>00391             $_payload = null;
<a name="l00392"></a>00392 
<a name="l00393"></a>00393             <span class="keywordflow">foreach</span> ( $sQueryString as $_key =&gt; $_value )
<a name="l00394"></a>00394                 $_payload .= <span class="stringliteral">&quot;&amp;{$_key}={$_value}&quot;</span>;
<a name="l00395"></a>00395         }
<a name="l00396"></a>00396 
<a name="l00397"></a>00397         <span class="comment">// Use CURL if installed...</span>
<a name="l00398"></a>00398         <span class="keywordflow">if</span> ( function_exists( <span class="stringliteral">&#39;curl_init&#39;</span> ) )
<a name="l00399"></a>00399         {
<a name="l00400"></a>00400             $_oCurl = curl_init();
<a name="l00401"></a>00401             curl_setopt( $_oCurl, CURLOPT_RETURNTRANSFER, <span class="keyword">true</span> );
<a name="l00402"></a>00402             curl_setopt( $_oCurl, CURLOPT_FAILONERROR, <span class="keyword">true</span> );
<a name="l00403"></a>00403             curl_setopt( $_oCurl, CURLOPT_USERAGENT, $_sAgent );
<a name="l00404"></a>00404             curl_setopt( $_oCurl, CURLOPT_TIMEOUT, 60 );
<a name="l00405"></a>00405             curl_setopt( $_oCurl, CURLOPT_FOLLOWLOCATION, <span class="keyword">true</span> );
<a name="l00406"></a>00406             curl_setopt( $_oCurl, CURLOPT_URL, $url . ( <span class="stringliteral">&#39;GET&#39;</span> == $method ? ( ! empty( $_payload ) ? <span class="stringliteral">&quot;?&quot;</span> . trim( $_payload, <span class="charliteral">&#39;&amp;&#39;</span> ) : <span class="stringliteral">&#39;&#39;</span> ) : <span class="stringliteral">&#39;&#39;</span> ) );
<a name="l00407"></a>00407 
<a name="l00408"></a>00408             <span class="comment">//  If this is a post, we have to put the post data in another field...</span>
<a name="l00409"></a>00409             <span class="keywordflow">if</span> ( <span class="stringliteral">&#39;POST&#39;</span> == $method )
<a name="l00410"></a>00410             {
<a name="l00411"></a>00411                 curl_setopt( $_oCurl, CURLOPT_URL, $url );
<a name="l00412"></a>00412                 curl_setopt( $_oCurl, CURLOPT_POST, <span class="keyword">true</span> );
<a name="l00413"></a>00413                 curl_setopt( $_oCurl, CURLOPT_POSTFIELDS, $_payload );
<a name="l00414"></a>00414             }
<a name="l00415"></a>00415 
<a name="l00416"></a>00416             $_sResult = curl_exec( $_oCurl );
<a name="l00417"></a>00417             curl_close( $_oCurl );
<a name="l00418"></a>00418         }
<a name="l00419"></a>00419         <span class="keywordflow">else</span>
<a name="l00420"></a>00420             <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception( <span class="stringliteral">&#39;&quot;libcurl&quot; is required to use this functionality. Please reconfigure your php.ini to include &quot;libcurl&quot;.&#39;</span> );
<a name="l00421"></a>00421 
<a name="l00422"></a>00422         <span class="keywordflow">return</span> $_sResult;
<a name="l00423"></a>00423     }
<a name="l00424"></a>00424 
<a name="l00435"></a><a class="code" href="classCPSHelperBase.html#aef2d4e1f18258000c870a620e0b2f5ca">00435</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#aef2d4e1f18258000c870a620e0b2f5ca">suckTag</a>( $sData, $sTag, $sTagEnd, $iStart = 0, $sNear = null )
<a name="l00436"></a>00436     {
<a name="l00437"></a>00437         $_sResult = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00438"></a>00438         $_l = strlen( $sTag );
<a name="l00439"></a>00439 
<a name="l00440"></a>00440         <span class="comment">//  If near value given, get position of that as start</span>
<a name="l00441"></a>00441         <span class="keywordflow">if</span> ( $sNear != null )
<a name="l00442"></a>00442         {
<a name="l00443"></a>00443             $_iStart = stripos( $sData, $sNear, $iStart );
<a name="l00444"></a>00444             <span class="keywordflow">if</span> ( $_iStart &gt;= 0 )
<a name="l00445"></a>00445                 $iStart = $_iStart + strlen( $sNear );
<a name="l00446"></a>00446         }
<a name="l00447"></a>00447 
<a name="l00448"></a>00448         $_i = stripos( $sData, $sTag, $iStart );
<a name="l00449"></a>00449         $_k = strlen( $sTagEnd );
<a name="l00450"></a>00450 
<a name="l00451"></a>00451         <span class="keywordflow">if</span> ( $_i !== <span class="keyword">false</span> )
<a name="l00452"></a>00452         {
<a name="l00453"></a>00453             $_j = stripos( $sData, $sTagEnd, $_i + $_l );
<a name="l00454"></a>00454 
<a name="l00455"></a>00455             <span class="keywordflow">if</span> ( $_j &gt;= 0 )
<a name="l00456"></a>00456             {
<a name="l00457"></a>00457                 $iStart = $_i;
<a name="l00458"></a>00458                 $_sResult = substr( $sData, $_i + $_l,  $_j - $_i - $_l );
<a name="l00459"></a>00459             }
<a name="l00460"></a>00460 
<a name="l00461"></a>00461             <span class="keywordflow">return</span>( trim( $_sResult ) );
<a name="l00462"></a>00462         }
<a name="l00463"></a>00463 
<a name="l00464"></a>00464         <span class="keywordflow">return</span>( null );
<a name="l00465"></a>00465     }
<a name="l00466"></a>00466 
<a name="l00473"></a><a class="code" href="classCPSHelperBase.html#a0f62b558e100cdb8b0788a525b5614bf">00473</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a0f62b558e100cdb8b0788a525b5614bf">isUrl</a>( $sData )
<a name="l00474"></a>00474     {
<a name="l00475"></a>00475         <span class="keywordflow">return</span>( ( @parse_url( $sData ) ) ? TRUE : FALSE );
<a name="l00476"></a>00476     }
<a name="l00477"></a>00477 
<a name="l00489"></a><a class="code" href="classCPSHelperBase.html#afcf7f91cc2558c1b99d7e1ab0ee465d2">00489</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#afcf7f91cc2558c1b99d7e1ab0ee465d2">wrappedLink</a>( $sText, $url = <span class="charliteral">&#39;#&#39;</span>, $sWrapperId = null, $arHtmlOptions = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(), $sClass = null, $bUseDiv = <span class="keyword">false</span> )
<a name="l00490"></a>00490     {
<a name="l00491"></a>00491         <span class="keywordflow">return</span>( <span class="charliteral">&#39;&lt;&#39;</span> .
<a name="l00492"></a>00492             ( $bUseDiv ? <span class="stringliteral">&#39;div&#39;</span> : <span class="stringliteral">&#39;span&#39;</span> ) .
<a name="l00493"></a>00493             ( null != $sWrapperId ? <span class="stringliteral">&#39; id=&quot;&#39;</span> . $sWrapperId . <span class="charliteral">&#39;&quot;&#39;</span> : <span class="stringliteral">&#39;&#39;</span> ) .
<a name="l00494"></a>00494             ( null != $sClass ? <span class="stringliteral">&#39; class=&quot;&#39;</span> . $sClass . <span class="charliteral">&#39;&quot;&#39;</span> : <span class="stringliteral">&#39;&#39;</span> ) . <span class="charliteral">&#39;&gt;&#39;</span> .
<a name="l00495"></a>00495             CHtml::link( $sText, $url, $arHtmlOptions ) .
<a name="l00496"></a>00496             <span class="stringliteral">&#39;&lt;/&#39;</span> . ( $bUseDiv ? <span class="stringliteral">&#39;div&#39;</span> : <span class="stringliteral">&#39;span&#39;</span> ) . <span class="charliteral">&#39;&gt;&#39;</span>
<a name="l00497"></a>00497         );
<a name="l00498"></a>00498     }
<a name="l00499"></a>00499 
<a name="l00508"></a><a class="code" href="classCPSHelperBase.html#a556a868704aaa4629cbd8b4b9ebfa867">00508</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a556a868704aaa4629cbd8b4b9ebfa867">isEmpty</a>( $oVar )
<a name="l00509"></a>00509     {
<a name="l00510"></a>00510         <span class="keywordflow">return</span> empty( $oVar );
<a name="l00511"></a>00511     }
<a name="l00512"></a>00512 
<a name="l00520"></a><a class="code" href="classCPSHelperBase.html#afb9fa6864edba1cdfc91092132bc1da3">00520</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#afb9fa6864edba1cdfc91092132bc1da3">arrayToXml</a>( $arData, $sRootNodeName = <span class="stringliteral">&#39;data&#39;</span>, $sXml = null )
<a name="l00521"></a>00521     {
<a name="l00522"></a>00522         <span class="comment">// turn off compatibility mode as simple xml doesn&#39;t like it</span>
<a name="l00523"></a>00523         <span class="keywordflow">if</span> ( 1 == ini_get( <span class="stringliteral">&#39;zend.ze1_compatibility_mode&#39;</span> ) )
<a name="l00524"></a>00524             ini_set( <span class="stringliteral">&#39;zend.ze1_compatibility_mode&#39;</span>, 0 );
<a name="l00525"></a>00525 
<a name="l00526"></a>00526         <span class="keywordflow">if</span> ( null == $sXml )
<a name="l00527"></a>00527             $sXml = simplexml_load_string( <span class="stringliteral">&quot;&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;&lt;{$sRootNodeName} /&gt;&quot;</span> );
<a name="l00528"></a>00528 
<a name="l00529"></a>00529         <span class="comment">// loop through the data passed in.</span>
<a name="l00530"></a>00530         <span class="keywordflow">foreach</span> ( $arData as $_key =&gt; $_newValue )
<a name="l00531"></a>00531         {
<a name="l00532"></a>00532             <span class="comment">// no numeric keys in our xml please!</span>
<a name="l00533"></a>00533             <span class="keywordflow">if</span> ( is_numeric($_key ) )
<a name="l00534"></a>00534                 $_key = <span class="stringliteral">&quot;unknownNode_&quot;</span>. ( string )$_key;
<a name="l00535"></a>00535 
<a name="l00536"></a>00536             <span class="comment">// replace anything not alpha numeric</span>
<a name="l00537"></a>00537             $_key = preg_replace( <span class="stringliteral">&#39;/[^a-z]/i&#39;</span>, <span class="stringliteral">&#39;&#39;</span>, $_key );
<a name="l00538"></a>00538 
<a name="l00539"></a>00539             <span class="comment">// if there is another array found recrusively call this function</span>
<a name="l00540"></a>00540             <span class="keywordflow">if</span> ( is_array( $_newValue ) )
<a name="l00541"></a>00541             {
<a name="l00542"></a>00542                 $_oNode = $sXml-&gt;addChild( $_key );
<a name="l00543"></a>00543                 <a class="code" href="classCPSHelperBase.html#afb9fa6864edba1cdfc91092132bc1da3">self::arrayToXml</a>( $_newValue, $sRootNodeName, $_oNode );
<a name="l00544"></a>00544             }
<a name="l00545"></a>00545             <span class="keywordflow">else</span>
<a name="l00546"></a>00546             {
<a name="l00547"></a>00547                 <span class="comment">// add single node.</span>
<a name="l00548"></a>00548                 $_newValue = htmlentities( $_newValue );
<a name="l00549"></a>00549                 $sXml-&gt;addChild( $_key, $_newValue );
<a name="l00550"></a>00550             }
<a name="l00551"></a>00551         }
<a name="l00552"></a>00552 
<a name="l00553"></a>00553         <span class="keywordflow">return</span>( $sXml-&gt;asXML() );
<a name="l00554"></a>00554     }
<a name="l00555"></a>00555 
<a name="l00560"></a><a class="code" href="classCPSHelperBase.html#afa854894f730e0557ca15278235bff1f">00560</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#afa854894f730e0557ca15278235bff1f">getCurrentPageUrl</a>()
<a name="l00561"></a>00561     {
<a name="l00562"></a>00562         $_bSSL = ( isset( $_SERVER[ <span class="stringliteral">&#39;HTTPS&#39;</span> ] ) &amp;&amp; $_SERVER[ <span class="stringliteral">&#39;HTTPS&#39;</span> ] == <span class="stringliteral">&#39;on&#39;</span> );
<a name="l00563"></a>00563         <span class="keywordflow">return</span> <span class="stringliteral">&#39;http&#39;</span> . ( ( $_bSSL ) ? <span class="charliteral">&#39;s&#39;</span> : <span class="stringliteral">&#39;&#39;</span> ) . <span class="stringliteral">&#39;://&#39;</span> . $_SERVER[ <span class="stringliteral">&quot;SERVER_NAME&quot;</span> ] . ( ( $_SERVER[ <span class="stringliteral">&quot;SERVER_PORT&quot;</span> ] != <span class="stringliteral">&quot;80&quot;</span> ) ? <span class="stringliteral">&quot;:&quot;</span> . $_SERVER[ <span class="stringliteral">&quot;SERVER_PORT&quot;</span> ] : <span class="stringliteral">&#39;&#39;</span> ) .  $_SERVER[ <span class="stringliteral">&quot;REQUEST_URI&quot;</span> ];
<a name="l00564"></a>00564     }
<a name="l00565"></a>00565 
<a name="l00576"></a><a class="code" href="classCPSHelperBase.html#a67951a3f7ed393fad3db2584bc0c3daf">00576</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a67951a3f7ed393fad3db2584bc0c3daf">getGravatarUrl</a>( $sEmailAddress, $iSize = 80, $sRating = <span class="charliteral">&#39;g&#39;</span> )
<a name="l00577"></a>00577     {
<a name="l00578"></a>00578         $sRating = strtolower( $sRating{0} );
<a name="l00579"></a>00579         $iSize = intval( $iSize );
<a name="l00580"></a>00580         <span class="keywordflow">if</span> ( $iSize &lt; 1 || $iSize &gt; 512 ) <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classCPSException.html">CPSException</a>( <span class="stringliteral">&#39;&quot;$iSize&quot; parameter is out of bounds. Must be between 1 and 512.&#39;</span> );
<a name="l00581"></a>00581         <span class="keywordflow">if</span> ( ! in_array( $sRating, <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>( <span class="charliteral">&#39;g&#39;</span>, <span class="stringliteral">&#39;pg&#39;</span>, <span class="charliteral">&#39;r&#39;</span>, <span class="charliteral">&#39;x&#39;</span> ) ) ) <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classCPSException.html">CPSException</a>( <span class="stringliteral">&#39;&quot;$sRating&quot; parameter must be either &quot;G&quot;, &quot;PG&quot;, &quot;R&quot;, or &quot;X&quot;.&#39;</span> );
<a name="l00582"></a>00582 
<a name="l00583"></a>00583         <span class="keywordflow">return</span> <span class="stringliteral">&quot;http://www.gravatar.com/avatar/&quot;</span> . md5( strtolower( $sEmailAddress ) ) . <span class="stringliteral">&quot;.jpg?s={$iSize}&amp;r={$sRating}&quot;</span>;
<a name="l00584"></a>00584     }
<a name="l00585"></a>00585 
<a name="l00592"></a><a class="code" href="classCPSHelperBase.html#a4f7ee8003b766553b8e47272e26609cc">00592</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a4f7ee8003b766553b8e47272e26609cc">makeArray</a>( $oData )
<a name="l00593"></a>00593     {
<a name="l00594"></a>00594         $_arOut = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();
<a name="l00595"></a>00595         $_iCount = func_num_args();
<a name="l00596"></a>00596 
<a name="l00597"></a>00597         <span class="keywordflow">for</span> ( $_i = 0; $_i &lt; $_iCount; $_i++ )
<a name="l00598"></a>00598         {
<a name="l00599"></a>00599             <span class="comment">//  Any other columns to touch?</span>
<a name="l00600"></a>00600             <span class="keywordflow">if</span> ( null !== ( $_oArg = func_get_arg( $_i ) ) )
<a name="l00601"></a>00601             {
<a name="l00602"></a>00602                 <span class="keywordflow">if</span> ( ! is_array( $_oArg ) )
<a name="l00603"></a>00603                     $_arOut[] = $_oArg;
<a name="l00604"></a>00604                 <span class="keywordflow">else</span>
<a name="l00605"></a>00605                 {
<a name="l00606"></a>00606                     <span class="keywordflow">foreach</span> ( $_oArg as $_value )
<a name="l00607"></a>00607                         $_arOut[] = $_value;
<a name="l00608"></a>00608                 }
<a name="l00609"></a>00609             }
<a name="l00610"></a>00610         }
<a name="l00611"></a>00611 
<a name="l00612"></a>00612         <span class="comment">//  Return the fresh array...</span>
<a name="l00613"></a>00613         <span class="keywordflow">return</span> $_arOut;
<a name="l00614"></a>00614     }
<a name="l00615"></a>00615 
<a name="l00621"></a><a class="code" href="classCPSHelperBase.html#afe923f7a71bf641851bf3acb637228e0">00621</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#afe923f7a71bf641851bf3acb637228e0">makePath</a>()
<a name="l00622"></a>00622     {
<a name="l00623"></a>00623         $_haystack = func_get_args();
<a name="l00624"></a>00624         <span class="keywordflow">return</span> implode( DIRECTORY_SEPARATOR, $_haystack );
<a name="l00625"></a>00625     }
<a name="l00626"></a>00626 
<a name="l00636"></a><a class="code" href="classCPSHelperBase.html#a152a93f8dade240ad20afa4f207714ce">00636</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a152a93f8dade240ad20afa4f207714ce">array_search</a>( $arHaystack, $arNeedle, &amp;$arResult, &amp;$arPath = null, $sCurrentKey = <span class="stringliteral">&#39;&#39;</span>)
<a name="l00637"></a>00637     {
<a name="l00638"></a>00638         <span class="keywordflow">if</span> ( is_array( $arHaystack ) )
<a name="l00639"></a>00639         {
<a name="l00640"></a>00640             $_iCount = count( $arHaystack );
<a name="l00641"></a>00641             $_i = 0;
<a name="l00642"></a>00642 
<a name="l00643"></a>00643             <span class="keywordflow">foreach</span> ( $arHaystack as $_key =&gt; $_oStraw )
<a name="l00644"></a>00644             {
<a name="l00645"></a>00645                 $_bNext = ( ++$_i == $_iCount ) ? <span class="keyword">false</span> : <span class="keyword">true</span>;
<a name="l00646"></a>00646                 <span class="keywordflow">if</span> ( is_array( $_oStraw ) ) $arPath[ $_key ] = $_key;
<a name="l00647"></a>00647                 <a class="code" href="classCPSHelperBase.html#a152a93f8dade240ad20afa4f207714ce">self::array_search</a>( $_oStraw, $arNeedle, $arResult, $arPath, $_key );
<a name="l00648"></a>00648                 <span class="keywordflow">if</span> (!$_bNext) unset( $arPath[ $currentKey ] );
<a name="l00649"></a>00649             }
<a name="l00650"></a>00650         }
<a name="l00651"></a>00651         <span class="keywordflow">else</span>
<a name="l00652"></a>00652         {
<a name="l00653"></a>00653             $_oStraw = $arHaystack;
<a name="l00654"></a>00654 
<a name="l00655"></a>00655             <span class="keywordflow">if</span> ( $_oStraw == $arNeedle )
<a name="l00656"></a>00656             {
<a name="l00657"></a>00657                 <span class="keywordflow">if</span> ( ! isset( $arPath ) )
<a name="l00658"></a>00658                     $_sPath = <span class="stringliteral">&quot;\$arResult[$sCurrentKey] = \$arNeedle;&quot;</span>;
<a name="l00659"></a>00659                 <span class="keywordflow">else</span>
<a name="l00660"></a>00660                     $_sPath = <span class="stringliteral">&quot;\$arResult[&#39;&quot;</span>.join(<span class="stringliteral">&quot;&#39;][&#39;&quot;</span>,$arPath).<span class="stringliteral">&quot;&#39;][$sCurrentKey] = \$arNeedle;&quot;</span>;
<a name="l00661"></a>00661 
<a name="l00662"></a>00662                 eval( $_sPath );
<a name="l00663"></a>00663             }
<a name="l00664"></a>00664         }
<a name="l00665"></a>00665     }
<a name="l00666"></a>00666 
<a name="l00667"></a>00667     <span class="comment">//********************************************************************************</span>
<a name="l00668"></a>00668     <span class="comment">//* Yii Convenience Mappings</span>
<a name="l00669"></a>00669     <span class="comment">//********************************************************************************</span>
<a name="l00670"></a>00670 
<a name="l00675"></a><a class="code" href="classCPSHelperBase.html#ae09ab8187b8a6c8c52edbf143ab29178">00675</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#ae09ab8187b8a6c8c52edbf143ab29178">_a</a>()
<a name="l00676"></a>00676     {
<a name="l00677"></a>00677         <span class="keywordflow">return</span> self::$_thisApp;
<a name="l00678"></a>00678     }
<a name="l00679"></a>00679 
<a name="l00686"></a><a class="code" href="classCPSHelperBase.html#acccbaa90b1a64a266dccb84beddc0072">00686</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#acccbaa90b1a64a266dccb84beddc0072">getAppName</a>( $notEncoded = <span class="keyword">false</span> ) { <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#a1d56b31ce9c7910652552fbbff54e753">self::_gan</a>( $notEncoded ); }
<a name="l00687"></a><a class="code" href="classCPSHelperBase.html#a1d56b31ce9c7910652552fbbff54e753">00687</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a1d56b31ce9c7910652552fbbff54e753">_gan</a>( $notEncoded = <span class="keyword">false</span> )
<a name="l00688"></a>00688     {
<a name="l00689"></a>00689         <span class="keywordflow">return</span> $notEncoded ? <a class="code" href="classCPSHelperBase.html#ae09ab8187b8a6c8c52edbf143ab29178">self::_a</a>()-&gt;name : self::encode( self::_a()-&gt;name );
<a name="l00690"></a>00690     }
<a name="l00691"></a>00691 
<a name="l00698"></a><a class="code" href="classCPSHelperBase.html#ac40cca24aed8a5bee1923c9246dfb524">00698</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#ac40cca24aed8a5bee1923c9246dfb524">getPageTitle</a>( $notEncoded = <span class="keyword">false</span> ) { <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#af074b8b3a4af1495117d744265f41ebb">self::_gpt</a>( $notEncoded ); }
<a name="l00705"></a><a class="code" href="classCPSHelperBase.html#af074b8b3a4af1495117d744265f41ebb">00705</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#af074b8b3a4af1495117d744265f41ebb">_gpt</a>( $notEncoded = <span class="keyword">false</span> )
<a name="l00706"></a>00706     {
<a name="l00707"></a>00707         <span class="keywordflow">return</span> $notEncoded ? <a class="code" href="classCPSHelperBase.html#acfa125cb8763a233249680de9fb3e15a">self::_gc</a>()-&gt;getPageTitle() : self::encode( self::_gc()-&gt;<a class="code" href="classCPSHelperBase.html#ac40cca24aed8a5bee1923c9246dfb524">getPageTitle</a>() );
<a name="l00708"></a>00708     }
<a name="l00709"></a>00709 
<a name="l00716"></a><a class="code" href="classCPSHelperBase.html#a708f96ed3ee0883697ce4914fdddfba9">00716</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a708f96ed3ee0883697ce4914fdddfba9">getBaseUrl</a>( $absolute = <span class="keyword">false</span> ) { <span class="keywordflow">return</span> self::$_thisApp-&gt;getBaseUrl( $absolute ); }
<a name="l00723"></a><a class="code" href="classCPSHelperBase.html#a7c4e9be274589248e2464de14fad190e">00723</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a7c4e9be274589248e2464de14fad190e">_gbu</a>( $absolute = <span class="keyword">false</span> ) { <span class="keywordflow">return</span> self::$_thisApp-&gt;getBaseUrl( $absolute ); }
<a name="l00724"></a>00724 
<a name="l00731"></a><a class="code" href="classCPSHelperBase.html#a3bb459a6846521b0bd79787a1087ebf1">00731</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a3bb459a6846521b0bd79787a1087ebf1">getBasePath</a>() { <span class="keywordflow">return</span> self::$_thisApp-&gt;getBasePath(); }
<a name="l00738"></a><a class="code" href="classCPSHelperBase.html#affd02de4bb532b2fb524f94f4e5ea40a">00738</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#affd02de4bb532b2fb524f94f4e5ea40a">_gbp</a>() { <span class="keywordflow">return</span> self::$_thisApp-&gt;getBaseUrl(); }
<a name="l00739"></a>00739 
<a name="l00740"></a>00740     <span class="comment">/***</span>
<a name="l00741"></a>00741 <span class="comment">     * Retrieves and caches the Yii ClientScript object</span>
<a name="l00742"></a>00742 <span class="comment">     * @return CClientScript</span>
<a name="l00743"></a>00743 <span class="comment">     * @access public</span>
<a name="l00744"></a>00744 <span class="comment">     * @static</span>
<a name="l00745"></a>00745 <span class="comment">     */</span>
<a name="l00746"></a><a class="code" href="classCPSHelperBase.html#a49d793208ca4ce56f72b743ef86dd162">00746</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a49d793208ca4ce56f72b743ef86dd162">getClientScript</a>()
<a name="l00747"></a>00747     {
<a name="l00748"></a>00748         <span class="keywordflow">return</span> self::$_clientScript;
<a name="l00749"></a>00749     }
<a name="l00750"></a>00750 
<a name="l00757"></a><a class="code" href="classCPSHelperBase.html#af1b9a8d121721a5a4454e0fb067f7cad">00757</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#af1b9a8d121721a5a4454e0fb067f7cad">_cs</a>()
<a name="l00758"></a>00758     {
<a name="l00759"></a>00759         <span class="keywordflow">return</span> self::$_clientScript;
<a name="l00760"></a>00760     }
<a name="l00761"></a>00761 
<a name="l00770"></a><a class="code" href="classCPSHelperBase.html#a24e233f4e0820febba74cd15dd57b6d8">00770</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a24e233f4e0820febba74cd15dd57b6d8">_end</a>( $status = 0, $exit = <span class="keyword">true</span> )
<a name="l00771"></a>00771     {
<a name="l00772"></a>00772         self::$_thisApp-&gt;end( $status, $exit );
<a name="l00773"></a>00773     }
<a name="l00774"></a>00774 
<a name="l00778"></a><a class="code" href="classCPSHelperBase.html#a994ac6292d92ce6c172ee2f655b91ae4">00778</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a994ac6292d92ce6c172ee2f655b91ae4">getDb</a>() { <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#a0debfa12a6b7b0b27d739a92f7d9ac58">self::_db</a>(); }
<a name="l00779"></a><a class="code" href="classCPSHelperBase.html#a0debfa12a6b7b0b27d739a92f7d9ac58">00779</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a0debfa12a6b7b0b27d739a92f7d9ac58">_db</a>()
<a name="l00780"></a>00780     {
<a name="l00781"></a>00781         <span class="keywordflow">return</span> self::$_thisApp-&gt;getDb();
<a name="l00782"></a>00782     }
<a name="l00783"></a>00783 
<a name="l00797"></a><a class="code" href="classCPSHelperBase.html#a6fd77833c97fcb3d12378783f60c2942">00797</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a6fd77833c97fcb3d12378783f60c2942">registerScriptFile</a>( $url, $ePosition = self::POS_HEAD, $fromPublished = <span class="keyword">false</span> )
<a name="l00798"></a>00798     {
<a name="l00799"></a>00799         <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#ae5089c4caea1197b2462a18eda83ca8c">self::_rsf</a>( $url, $ePosition, $fromPublished );
<a name="l00800"></a>00800     }
<a name="l00801"></a>00801 
<a name="l00816"></a><a class="code" href="classCPSHelperBase.html#ae5089c4caea1197b2462a18eda83ca8c">00816</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#ae5089c4caea1197b2462a18eda83ca8c">_rsf</a>( $urlList, $pagePosition = CClientScript::POS_HEAD, $fromPublished = <span class="keyword">false</span> )
<a name="l00817"></a>00817     {
<a name="l00818"></a>00818         <span class="keywordflow">if</span> ( ! is_array( $urlList ) ) $urlList = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>( $urlList );
<a name="l00819"></a>00819         $_prefix = ( $fromPublished ? PS::getExternalLibraryUrl() . DIRECTORY_SEPARATOR : null );
<a name="l00820"></a>00820 
<a name="l00821"></a>00821         <span class="comment">//  Need external library?</span>
<a name="l00822"></a>00822         <span class="keywordflow">foreach</span> ( $urlList as $_url )
<a name="l00823"></a>00823         {
<a name="l00824"></a>00824             <span class="keywordflow">if</span> ( $_url[0] != <span class="charliteral">&#39;/&#39;</span> &amp;&amp; $fromPublished ) $_url = $_prefix . $_url;
<a name="l00825"></a>00825 
<a name="l00826"></a>00826             <span class="keywordflow">if</span> ( ! self::$_clientScript-&gt;isScriptFileRegistered( $_url ) )
<a name="l00827"></a>00827                 self::$_clientScript-&gt;<a class="code" href="classCPSHelperBase.html#a6fd77833c97fcb3d12378783f60c2942">registerScriptFile</a>( $_url, $pagePosition );
<a name="l00828"></a>00828         }
<a name="l00829"></a>00829     }
<a name="l00830"></a>00830 
<a name="l00840"></a><a class="code" href="classCPSHelperBase.html#af06aa8413e78124ffe297435efed445a">00840</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#af06aa8413e78124ffe297435efed445a">registerCssFile</a>( $url, $media = <span class="stringliteral">&#39;&#39;</span>, $fromPublished = <span class="keyword">false</span> )
<a name="l00841"></a>00841     {
<a name="l00842"></a>00842         <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#a617fe0ffa46c9fc20d8c3576a2c73cf8">self::_rcf</a>( $url, $media, $fromPublished );
<a name="l00843"></a>00843     }
<a name="l00844"></a>00844 
<a name="l00853"></a><a class="code" href="classCPSHelperBase.html#a617fe0ffa46c9fc20d8c3576a2c73cf8">00853</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a617fe0ffa46c9fc20d8c3576a2c73cf8">_rcf</a>( $urlList, $media = <span class="stringliteral">&#39;&#39;</span>, $fromPublished = <span class="keyword">false</span> )
<a name="l00854"></a>00854     {
<a name="l00855"></a>00855         <span class="keywordflow">if</span> ( ! is_array( $urlList ) ) $urlList = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>( $urlList );
<a name="l00856"></a>00856         $_prefix = ( $fromPublished ? PS::getExternalLibraryUrl() . DIRECTORY_SEPARATOR : null );
<a name="l00857"></a>00857 
<a name="l00858"></a>00858         <span class="keywordflow">foreach</span> ( $urlList as $_url )
<a name="l00859"></a>00859         {
<a name="l00860"></a>00860             <span class="keywordflow">if</span> ( $_url[0] != <span class="charliteral">&#39;/&#39;</span> &amp;&amp; $fromPublished ) $_url = $_prefix . $_url;
<a name="l00861"></a>00861 
<a name="l00862"></a>00862             <span class="keywordflow">if</span> ( ! self::$_clientScript-&gt;isCssFileRegistered( $_url ) )
<a name="l00863"></a>00863                 self::$_clientScript-&gt;<a class="code" href="classCPSHelperBase.html#af06aa8413e78124ffe297435efed445a">registerCssFile</a>( $_url, $media );
<a name="l00864"></a>00864         }
<a name="l00865"></a>00865     }
<a name="l00866"></a>00866 
<a name="l00875"></a><a class="code" href="classCPSHelperBase.html#ab608e015cc2117b42d41efd1c1d0c579">00875</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#ab608e015cc2117b42d41efd1c1d0c579">_rlcf</a>( $urlList, $media = <span class="stringliteral">&#39;&#39;</span>, $fromPublished = <span class="keyword">false</span> )
<a name="l00876"></a>00876     {
<a name="l00877"></a>00877         <span class="keywordflow">if</span> ( ! is_array( $urlList ) ) $urlList = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>( $urlList );
<a name="l00878"></a>00878         $_prefix = ( $fromPublished ? Yii::getPathOfAlias(<span class="stringliteral">&#39;views.layouts&#39;</span>) . DIRECTORY_SEPARATOR : null );
<a name="l00879"></a>00879 
<a name="l00880"></a>00880         <span class="keywordflow">foreach</span> ( $urlList as $_url )
<a name="l00881"></a>00881         {
<a name="l00882"></a>00882             <span class="keywordflow">if</span> ( $_url[0] != <span class="charliteral">&#39;/&#39;</span> &amp;&amp; $fromPublished ) $_url = $_prefix . $_url;
<a name="l00883"></a>00883 
<a name="l00884"></a>00884             <span class="keywordflow">if</span> ( ! self::$_clientScript-&gt;isCssFileRegistered( $_url ) )
<a name="l00885"></a>00885                 self::$_clientScript-&gt;<a class="code" href="classCPSHelperBase.html#af06aa8413e78124ffe297435efed445a">registerCssFile</a>( $_url, $media );
<a name="l00886"></a>00886         }
<a name="l00887"></a>00887     }
<a name="l00888"></a>00888 
<a name="l00898"></a><a class="code" href="classCPSHelperBase.html#a3a928e106e05c16f08e82ef4164bfaa6">00898</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a3a928e106e05c16f08e82ef4164bfaa6">registerCss</a>( $sId = null, $sCss, $media = <span class="stringliteral">&#39;&#39;</span> )
<a name="l00899"></a>00899     {
<a name="l00900"></a>00900         <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#a631b30f9b1ef5e922e29ed4156e9bb53">self::_rc</a>( $sId, $sCss, $media );
<a name="l00901"></a>00901     }
<a name="l00902"></a>00902 
<a name="l00912"></a><a class="code" href="classCPSHelperBase.html#a631b30f9b1ef5e922e29ed4156e9bb53">00912</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a631b30f9b1ef5e922e29ed4156e9bb53">_rc</a>( $sId = null, $sCss, $media = <span class="stringliteral">&#39;&#39;</span> )
<a name="l00913"></a>00913     {
<a name="l00914"></a>00914         <span class="keywordflow">if</span> ( ! self::$_clientScript-&gt;isCssRegistered( $sId ) )
<a name="l00915"></a>00915             <span class="keywordflow">return</span> self::$_clientScript-&gt;registerCss( PS::nvl( $sId, CPSWidgetHelper::getWidgetId() ), $sCss, $media );
<a name="l00916"></a>00916     }
<a name="l00917"></a>00917 
<a name="l00934"></a><a class="code" href="classCPSHelperBase.html#a9fcce4225d8f12cbd7edcf81b27b8f42">00934</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a9fcce4225d8f12cbd7edcf81b27b8f42">registerScript</a>( $sId = null, $sScript, $ePosition = CClientScript::POS_READY )
<a name="l00935"></a>00935     {
<a name="l00936"></a>00936         <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#a982d30aee3a52f73b0e935ef7c81b03b">self::_rs</a>( $sId, $sScript, $ePosition );
<a name="l00937"></a>00937     }
<a name="l00938"></a>00938 
<a name="l00955"></a><a class="code" href="classCPSHelperBase.html#a982d30aee3a52f73b0e935ef7c81b03b">00955</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a982d30aee3a52f73b0e935ef7c81b03b">_rs</a>( $sId = null, $sScript, $ePosition = CClientScript::POS_READY )
<a name="l00956"></a>00956     {
<a name="l00957"></a>00957         <span class="keywordflow">if</span> ( ! self::$_clientScript-&gt;isScriptRegistered( $sId ) )
<a name="l00958"></a>00958             self::$_clientScript-&gt;registerScript( PS::nvl( $sId, CPSWidgetHelper::getWidgetId() ), $sScript, $ePosition );
<a name="l00959"></a>00959     }
<a name="l00960"></a>00960 
<a name="l00971"></a><a class="code" href="classCPSHelperBase.html#a67dc608077892b02987ad777c692a8f5">00971</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a67dc608077892b02987ad777c692a8f5">registerMetaTag</a>( $sContent, $sName = null, $sHttpEquiv = null, $optionList = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>() )
<a name="l00972"></a>00972     {
<a name="l00973"></a>00973         <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#af3914b438afd8512cd3e83700be57960">self::_rmt</a>( $sContent, $sName, $sHttpEquiv, $optionList );
<a name="l00974"></a>00974     }
<a name="l00975"></a>00975 
<a name="l00986"></a><a class="code" href="classCPSHelperBase.html#af3914b438afd8512cd3e83700be57960">00986</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#af3914b438afd8512cd3e83700be57960">_rmt</a>( $sContent, $sName = null, $sHttpEquiv = null, $optionList = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>() )
<a name="l00987"></a>00987     {
<a name="l00988"></a>00988         self::$_clientScript-&gt;registerMetaTag( $sContent, $sName, $sHttpEquiv, $optionList );
<a name="l00989"></a>00989     }
<a name="l00990"></a>00990 
<a name="l00998"></a><a class="code" href="classCPSHelperBase.html#a52be8b5ea3282bce6405f2e579e6db30">00998</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a52be8b5ea3282bce6405f2e579e6db30">_cu</a>( $route, $options = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(), $ampersand = <span class="charliteral">&#39;&amp;&#39;</span> )
<a name="l00999"></a>00999     {
<a name="l01000"></a>01000         <span class="keywordflow">return</span> self::$_thisApp-&gt;createUrl( $route, $options, $ampersand );
<a name="l01001"></a>01001     }
<a name="l01002"></a>01002 
<a name="l01008"></a><a class="code" href="classCPSHelperBase.html#a8bc323d82e5265f16d9cd356d0a02dba">01008</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a8bc323d82e5265f16d9cd356d0a02dba">getRequest</a>() { <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#ad94454df47e24b75197910a090e61ffa">self::_gr</a>(); }
<a name="l01014"></a><a class="code" href="classCPSHelperBase.html#ad94454df47e24b75197910a090e61ffa">01014</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#ad94454df47e24b75197910a090e61ffa">_gr</a>()
<a name="l01015"></a>01015     {
<a name="l01016"></a>01016         <span class="keywordflow">return</span> self::$_thisRequest;
<a name="l01017"></a>01017     }
<a name="l01018"></a>01018 
<a name="l01024"></a><a class="code" href="classCPSHelperBase.html#aeeb9b927f96ebe9c88760d70afa39abe">01024</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#aeeb9b927f96ebe9c88760d70afa39abe">getUser</a>() { <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#ae7d5a13ae379e82d5d28bbc2a480f524">self::_gu</a>(); }
<a name="l01025"></a><a class="code" href="classCPSHelperBase.html#ae7d5a13ae379e82d5d28bbc2a480f524">01025</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#ae7d5a13ae379e82d5d28bbc2a480f524">_gu</a>()
<a name="l01026"></a>01026     {
<a name="l01027"></a>01027         <span class="keywordflow">return</span> self::$_thisUser;
<a name="l01028"></a>01028     }
<a name="l01029"></a>01029 
<a name="l01034"></a><a class="code" href="classCPSHelperBase.html#abe39ee9bd8c9467fd15bdd3da6528f3d">01034</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#abe39ee9bd8c9467fd15bdd3da6528f3d">getCurrentUser</a>() { <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#a23d250b00a90dbb026ebe72ce040eca4">self::_gcu</a>(); }
<a name="l01035"></a><a class="code" href="classCPSHelperBase.html#a23d250b00a90dbb026ebe72ce040eca4">01035</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a23d250b00a90dbb026ebe72ce040eca4">_gcu</a>() { <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#adeaa7024db6a25cc45abc37c388661d3">self::_gs</a>( <span class="stringliteral">&#39;currentUser&#39;</span> ); }
<a name="l01036"></a>01036 
<a name="l01041"></a><a class="code" href="classCPSHelperBase.html#a3d6c9ff1005fcc403d30d5dd8ef70210">01041</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a3d6c9ff1005fcc403d30d5dd8ef70210">isGuest</a>() { <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#aed6576cf2c433f4b9e680837077ca24a">self::_ig</a>(); }
<a name="l01042"></a><a class="code" href="classCPSHelperBase.html#aed6576cf2c433f4b9e680837077ca24a">01042</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#aed6576cf2c433f4b9e680837077ca24a">_ig</a>() { <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#ae7d5a13ae379e82d5d28bbc2a480f524">self::_gu</a>()-&gt;isGuest; }
<a name="l01043"></a>01043 
<a name="l01050"></a><a class="code" href="classCPSHelperBase.html#a087197354f5d5ea44dba55e299ea7cf1">01050</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a087197354f5d5ea44dba55e299ea7cf1">getParam</a>( $paramName, $defaultValue = null ) { <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#ac7c3e1de6ec0f5f1b7dab860f0f41b45">self::_gp</a>( $paramName, $defaultValue ); }
<a name="l01051"></a><a class="code" href="classCPSHelperBase.html#ac7c3e1de6ec0f5f1b7dab860f0f41b45">01051</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#ac7c3e1de6ec0f5f1b7dab860f0f41b45">_gp</a>( $paramName, $defaultValue = null )
<a name="l01052"></a>01052     {
<a name="l01053"></a>01053         <span class="keywordflow">if</span> ( self::$_appParameters &amp;&amp; self::$_appParameters-&gt;contains( $paramName ) )
<a name="l01054"></a>01054             <span class="keywordflow">return</span> self::$_appParameters-&gt;itemAt( $paramName );
<a name="l01055"></a>01055 
<a name="l01056"></a>01056         <span class="keywordflow">return</span> $defaultValue;
<a name="l01057"></a>01057     }
<a name="l01058"></a>01058 
<a name="l01063"></a><a class="code" href="classCPSHelperBase.html#a0c5216068060ca9253dbad31e5895a2b">01063</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a0c5216068060ca9253dbad31e5895a2b">getController</a>() { <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#acfa125cb8763a233249680de9fb3e15a">self::_gc</a>(); }
<a name="l01064"></a><a class="code" href="classCPSHelperBase.html#acfa125cb8763a233249680de9fb3e15a">01064</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#acfa125cb8763a233249680de9fb3e15a">_gc</a>()
<a name="l01065"></a>01065     {
<a name="l01066"></a>01066         <span class="keywordflow">return</span> ( null === self::$_thisController ? self::$_thisController = self::$_thisApp-&gt;<a class="code" href="classCPSHelperBase.html#a0c5216068060ca9253dbad31e5895a2b">getController</a>() : self::$_thisController );
<a name="l01067"></a>01067     }
<a name="l01068"></a>01068 
<a name="l01073"></a><a class="code" href="classCPSHelperBase.html#a83dcef935baa0a3531789c502041561f">01073</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a83dcef935baa0a3531789c502041561f">getComponent</a>( $id, $createIfNull = <span class="keyword">true</span> ) { <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#af931bb2b4edcc29e082528f133f7a62f">self::_gco</a>( $id, $createIfNull ); }
<a name="l01074"></a><a class="code" href="classCPSHelperBase.html#af931bb2b4edcc29e082528f133f7a62f">01074</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#af931bb2b4edcc29e082528f133f7a62f">_gco</a>( $id, $createIfNull = <span class="keyword">true</span> )
<a name="l01075"></a>01075     {
<a name="l01076"></a>01076         <span class="keywordflow">return</span> self::$_thisApp-&gt;getComponent( $id, $createIfNull );
<a name="l01077"></a>01077     }
<a name="l01078"></a>01078 
<a name="l01105"></a><a class="code" href="classCPSHelperBase.html#a9996657204b3496d9ef5709d50b517f0">01105</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a9996657204b3496d9ef5709d50b517f0">_publish</a>( $path , $hashByName = <span class="keyword">false</span>, $level = -1 )
<a name="l01106"></a>01106     {
<a name="l01107"></a>01107         <span class="keywordflow">return</span> self::$_thisApp-&gt;getAssetManager()-&gt;publish( $path, $hashByName, $level );
<a name="l01108"></a>01108     }
<a name="l01109"></a>01109 
<a name="l01118"></a><a class="code" href="classCPSHelperBase.html#a6a6d3a3befedda9eb08700b7f51dd4e5">01118</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a6a6d3a3befedda9eb08700b7f51dd4e5">redirect</a>( $url, $terminate = <span class="keyword">true</span>, $statusCode = 302 )
<a name="l01119"></a>01119     {
<a name="l01120"></a>01120         self::$_thisRequest-&gt;redirect( $url, $terminate, $statusCode );
<a name="l01121"></a>01121     }
<a name="l01122"></a>01122 
<a name="l01137"></a><a class="code" href="classCPSHelperBase.html#adeaa7024db6a25cc45abc37c388661d3">01137</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#adeaa7024db6a25cc45abc37c388661d3">_gs</a>( $stateName, $defaultValue = null )
<a name="l01138"></a>01138     {
<a name="l01139"></a>01139         $_user = <a class="code" href="classCPSHelperBase.html#ae7d5a13ae379e82d5d28bbc2a480f524">self::_gu</a>();
<a name="l01140"></a>01140         <span class="keywordflow">return</span> ( null !== $_user ? $_user-&gt;getState( $stateName, $defaultValue ) : null );
<a name="l01141"></a>01141     }
<a name="l01142"></a>01142 
<a name="l01152"></a><a class="code" href="classCPSHelperBase.html#ac605603031e05d1ec69ce6c1bb23cf24">01152</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#ac605603031e05d1ec69ce6c1bb23cf24">_ghs</a>( $stateKeyParts, $defaultValue = null )
<a name="l01153"></a>01153     {
<a name="l01154"></a>01154         <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#adeaa7024db6a25cc45abc37c388661d3">self::_gs</a>( <a class="code" href="classCPSHash.html#a0dafa79239f1d71f976fdd260bf2349f">CPSHash::hash</a>( implode( <span class="charliteral">&#39;.&#39;</span>, $stateKeyParts ) ), $defaultValue );
<a name="l01155"></a>01155     }
<a name="l01156"></a>01156 
<a name="l01167"></a><a class="code" href="classCPSHelperBase.html#a1f5b11e66cea38099ad43bd1c41b6dc6">01167</a>     <span class="keyword">public</span> function <a class="code" href="classCPSHelperBase.html#a1f5b11e66cea38099ad43bd1c41b6dc6">_gf</a>( $key, $defaultValue = null, $delete = <span class="keyword">true</span> )
<a name="l01168"></a>01168     {
<a name="l01169"></a>01169         $_user = <a class="code" href="classCPSHelperBase.html#ae7d5a13ae379e82d5d28bbc2a480f524">self::_gu</a>();
<a name="l01170"></a>01170         <span class="keywordflow">return</span> ( null !== $_user ? $_user-&gt;getFlash( $key, $defaultValue, $delete ) : null );
<a name="l01171"></a>01171     }
<a name="l01172"></a>01172 
<a name="l01188"></a><a class="code" href="classCPSHelperBase.html#aa5c4459afda5a8a58c46a26aecafaf37">01188</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#aa5c4459afda5a8a58c46a26aecafaf37">_ss</a>( $stateName, $stateValue, $defaultValue = null )
<a name="l01189"></a>01189     {
<a name="l01190"></a>01190         $_user = <a class="code" href="classCPSHelperBase.html#ae7d5a13ae379e82d5d28bbc2a480f524">self::_gu</a>();
<a name="l01191"></a>01191         <span class="keywordflow">return</span> ( null !== $_user ? $_user-&gt;setState( $stateName, $stateValue, $defaultValue ) : false );
<a name="l01192"></a>01192     }
<a name="l01193"></a>01193 
<a name="l01203"></a><a class="code" href="classCPSHelperBase.html#a891a2db3b73ee6c336384be49b163932">01203</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a891a2db3b73ee6c336384be49b163932">_shs</a>( $stateKeyParts, $stateValue, $defaultValue = null )
<a name="l01204"></a>01204     {
<a name="l01205"></a>01205         <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#aa5c4459afda5a8a58c46a26aecafaf37">self::_ss</a>( <a class="code" href="classCPSHash.html#a0dafa79239f1d71f976fdd260bf2349f">CPSHash::hash</a>( implode( <span class="charliteral">&#39;.&#39;</span>, $stateKeyParts ) ), $stateValue, $defaultValue );
<a name="l01206"></a>01206     }
<a name="l01207"></a>01207 
<a name="l01217"></a><a class="code" href="classCPSHelperBase.html#ac2bdee30f3e1ff39d01e094d6c6c311e">01217</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#ac2bdee30f3e1ff39d01e094d6c6c311e">_sf</a>( $key, $value, $defaultValue = null )
<a name="l01218"></a>01218     {
<a name="l01219"></a>01219         <span class="keywordflow">if</span> ( null !== ( $_user = self::_gu() ) ) $_user-&gt;setFlash( $key, $value, $defaultValue );
<a name="l01220"></a>01220     }
<a name="l01221"></a>01221 
<a name="l01236"></a><a class="code" href="classCPSHelperBase.html#aadc4f61a58cb31fe918a67c67d9646c7">01236</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#aadc4f61a58cb31fe918a67c67d9646c7">_ge</a>()
<a name="l01237"></a>01237     {
<a name="l01238"></a>01238         <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#ae09ab8187b8a6c8c52edbf143ab29178">self::_a</a>()-&gt;getErrorHandler()-&gt;getError();
<a name="l01239"></a>01239     }
<a name="l01240"></a>01240 
<a name="l01247"></a><a class="code" href="classCPSHelperBase.html#a539756575c5f36371f4267d89eb443f7">01247</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a539756575c5f36371f4267d89eb443f7">_sql</a>( $sql, $dbToUse = null )
<a name="l01248"></a>01248     {
<a name="l01249"></a>01249         <span class="keywordflow">if</span> ( null !== ( $_db = PS::nvl( $dbToUse, self::$_thisApp-&gt;<a class="code" href="classCPSHelperBase.html#a994ac6292d92ce6c172ee2f655b91ae4">getDb</a>() ) ) )
<a name="l01250"></a>01250             <span class="keywordflow">return</span> $_db-&gt;createCommand( $sql );
<a name="l01251"></a>01251 
<a name="l01252"></a>01252         <span class="keywordflow">return</span> null;
<a name="l01253"></a>01253     }
<a name="l01254"></a>01254 
<a name="l01262"></a><a class="code" href="classCPSHelperBase.html#a0e881421b99ec642662a4512c8ea5f0f">01262</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a0e881421b99ec642662a4512c8ea5f0f">_sqlAll</a>( $sql, $parameterList = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(), $dbToUse = null )
<a name="l01263"></a>01263     {
<a name="l01264"></a>01264         <span class="keywordflow">if</span> ( null !== ( $_db = PS::nvl( $dbToUse, self::$_thisApp-&gt;<a class="code" href="classCPSHelperBase.html#a994ac6292d92ce6c172ee2f655b91ae4">getDb</a>() ) ) )
<a name="l01265"></a>01265             <span class="keywordflow">return</span> $_db-&gt;createCommand( $sql )-&gt;queryAll( <span class="keyword">true</span>, $parameterList );
<a name="l01266"></a>01266 
<a name="l01267"></a>01267         <span class="keywordflow">return</span> null;
<a name="l01268"></a>01268     }
<a name="l01269"></a>01269 
<a name="l01277"></a><a class="code" href="classCPSHelperBase.html#a5a5366761d080ff8519cc21617ecdbe1">01277</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a5a5366761d080ff8519cc21617ecdbe1">_sqlAllScalar</a>( $sql, $parameterList = null, $dbToUse = null )
<a name="l01278"></a>01278     {
<a name="l01279"></a>01279         $_resultList = null;
<a name="l01280"></a>01280 
<a name="l01281"></a>01281         <span class="keywordflow">if</span> ( null !== ( $_db = PS::nvl( $dbToUse, self::$_thisApp-&gt;<a class="code" href="classCPSHelperBase.html#a994ac6292d92ce6c172ee2f655b91ae4">getDb</a>() ) ) )
<a name="l01282"></a>01282         {
<a name="l01283"></a>01283             <span class="keywordflow">if</span> ( null !== ( $_rowList = $_db-&gt;createCommand( $sql )-&gt;queryAll( <span class="keyword">true</span>, $parameterList ) ) )
<a name="l01284"></a>01284             {
<a name="l01285"></a>01285                 $_resultList = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();
<a name="l01286"></a>01286 
<a name="l01287"></a>01287                 <span class="keywordflow">foreach</span> ( $_rowList as $_row )
<a name="l01288"></a>01288                     $_resultList[] = $_row[0];
<a name="l01289"></a>01289             }
<a name="l01290"></a>01290         }
<a name="l01291"></a>01291 
<a name="l01292"></a>01292         <span class="keywordflow">return</span> $_resultList;
<a name="l01293"></a>01293     }
<a name="l01294"></a>01294 
<a name="l01299"></a><a class="code" href="classCPSHelperBase.html#a30e8d8207d35adf28c3847fa4b6cc86a">01299</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a30e8d8207d35adf28c3847fa4b6cc86a">isCLI</a>()
<a name="l01300"></a>01300     {
<a name="l01301"></a>01301         <span class="keywordflow">return</span> ( <span class="stringliteral">&#39;cli&#39;</span> == php_sapi_name() &amp;&amp; empty( $_SERVER[<span class="stringliteral">&#39;REMOTE_ADDR&#39;</span>] ) );
<a name="l01302"></a>01302     }
<a name="l01303"></a>01303 
<a name="l01311"></a><a class="code" href="classCPSHelperBase.html#ab02e1c46b44a987b618518eb50dbfa59">01311</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#ab02e1c46b44a987b618518eb50dbfa59">_spoa</a>( $alias, $path )
<a name="l01312"></a>01312     {
<a name="l01313"></a>01313         Yii::setPathOfAlias( $alias, $path );
<a name="l01314"></a>01314     }
<a name="l01315"></a>01315 
<a name="l01324"></a><a class="code" href="classCPSHelperBase.html#a3447bf2ade7892df7faaaf37b5068bc8">01324</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a3447bf2ade7892df7faaaf37b5068bc8">_gpoa</a>( $alias, $url = null )
<a name="l01325"></a>01325     {
<a name="l01326"></a>01326         $_path = Yii::getPathOfAlias( $alias );
<a name="l01327"></a>01327 
<a name="l01328"></a>01328         <span class="keywordflow">if</span> ( <span class="keyword">false</span> !== $_path &amp;&amp; null !== $url )
<a name="l01329"></a>01329             $_path = str_replace( $_SERVER[<span class="stringliteral">&#39;DOCUMENT_ROOT&#39;</span>], <span class="stringliteral">&#39;&#39;</span>, $_path ) . $url;
<a name="l01330"></a>01330 
<a name="l01331"></a>01331         <span class="keywordflow">return</span> $_path;
<a name="l01332"></a>01332     }
<a name="l01333"></a>01333 
<a name="l01337"></a><a class="code" href="classCPSHelperBase.html#a58562fcc2fc0a157f361c6eae58b641c">01337</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a58562fcc2fc0a157f361c6eae58b641c">isPostRequest</a>()
<a name="l01338"></a>01338     {
<a name="l01339"></a>01339         <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#ad94454df47e24b75197910a090e61ffa">self::_gr</a>()-&gt;getIsPostRequest();
<a name="l01340"></a>01340     }
<a name="l01341"></a>01341 
<a name="l01345"></a><a class="code" href="classCPSHelperBase.html#ad29992b5c09cbad51dc5978f09903b28">01345</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#ad29992b5c09cbad51dc5978f09903b28">isAjaxRequest</a>()
<a name="l01346"></a>01346     {
<a name="l01347"></a>01347         <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#ad94454df47e24b75197910a090e61ffa">self::_gr</a>()-&gt;getIsAjaxRequest();
<a name="l01348"></a>01348     }
<a name="l01349"></a>01349 
<a name="l01350"></a>01350     <span class="comment">//********************************************************************************</span>
<a name="l01351"></a>01351     <span class="comment">//* Filter Helpers</span>
<a name="l01352"></a>01352     <span class="comment">//********************************************************************************</span>
<a name="l01353"></a>01353 
<a name="l01362"></a><a class="code" href="classCPSHelperBase.html#af85a0a7c257706608cc74ce7074c1ea6">01362</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#af85a0a7c257706608cc74ce7074c1ea6">filterInt</a>( $value, $nullIfZero = <span class="keyword">true</span>, $min = null, $max = null )
<a name="l01363"></a>01363     {
<a name="l01364"></a>01364         $_value = <span class="keyword">false</span>;
<a name="l01365"></a>01365 
<a name="l01366"></a>01366         <span class="keywordflow">if</span> ( <span class="keyword">false</span> !== ( $_value = filter_var( $value, FILTER_SANITIZE_NUMBER_INT ) ) )
<a name="l01367"></a>01367         {
<a name="l01368"></a>01368             <span class="keywordflow">if</span> ( null !== $min &amp;&amp; $_value &lt; $min )
<a name="l01369"></a>01369                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01370"></a>01370 
<a name="l01371"></a>01371             <span class="keywordflow">if</span> ( null !== $max &amp;&amp; $_value &gt; $max )
<a name="l01372"></a>01372                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01373"></a>01373 
<a name="l01374"></a>01374             <span class="keywordflow">if</span> ( $nullIfZero &amp;&amp; 0 == $_value )
<a name="l01375"></a>01375                 <span class="keywordflow">return</span> null;
<a name="l01376"></a>01376         }
<a name="l01377"></a>01377 
<a name="l01378"></a>01378         <span class="keywordflow">return</span> $_value;
<a name="l01379"></a>01379     }
<a name="l01380"></a>01380 
<a name="l01381"></a>01381     <span class="comment">//********************************************************************************</span>
<a name="l01382"></a>01382     <span class="comment">//* Magic Methods</span>
<a name="l01383"></a>01383     <span class="comment">//********************************************************************************</span>
<a name="l01384"></a>01384 
<a name="l01395"></a><a class="code" href="classCPSHelperBase.html#a59132e5a5d4617a63c98a5509a2b7596">01395</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a59132e5a5d4617a63c98a5509a2b7596">__callStatic</a>( $method, $options )
<a name="l01396"></a>01396     {
<a name="l01397"></a>01397         <span class="keywordflow">foreach</span> ( self::$_classPath as $_class )
<a name="l01398"></a>01398         {
<a name="l01399"></a>01399             <span class="keywordflow">if</span> ( method_exists( $_class, $method ) )
<a name="l01400"></a>01400                 <span class="keywordflow">return</span> call_user_func_array( $_class . <span class="stringliteral">&#39;::&#39;</span> . $method, $options );
<a name="l01401"></a>01401         }
<a name="l01402"></a>01402     }
<a name="l01403"></a>01403 
<a name="l01409"></a><a class="code" href="classCPSHelperBase.html#af7a9c5672451dd6c272f29549ca73031">01409</a>     <span class="keyword">protected</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#af7a9c5672451dd6c272f29549ca73031">_serialize</a>( $value )
<a name="l01410"></a>01410     {
<a name="l01411"></a>01411         <span class="keywordflow">try</span>
<a name="l01412"></a>01412         {
<a name="l01413"></a>01413             <span class="keywordflow">if</span> ( $value instanceof SimpleXMLElement || $value instanceof Util_SpXmlElement )
<a name="l01414"></a>01414                 <span class="keywordflow">return</span> $value-&gt;asXML();
<a name="l01415"></a>01415 
<a name="l01416"></a>01416             <span class="keywordflow">if</span> ( is_object( $value ) )
<a name="l01417"></a>01417                 <span class="keywordflow">return</span> serialize( $value );
<a name="l01418"></a>01418         }
<a name="l01419"></a>01419         <span class="keywordflow">catch</span> ( Exception $_ex )
<a name="l01420"></a>01420         {
<a name="l01421"></a>01421         }
<a name="l01422"></a>01422 
<a name="l01423"></a>01423         <span class="keywordflow">return</span> $value;
<a name="l01424"></a>01424     }
<a name="l01425"></a>01425 
<a name="l01431"></a><a class="code" href="classCPSHelperBase.html#ad0529f408772d761908d3a4aaa7a895a">01431</a>     <span class="keyword">protected</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#ad0529f408772d761908d3a4aaa7a895a">_unserialize</a>( $value )
<a name="l01432"></a>01432     {
<a name="l01433"></a>01433         <span class="keywordflow">try</span>
<a name="l01434"></a>01434         {
<a name="l01435"></a>01435             <span class="keywordflow">if</span> ( self::_isSerialized( $value ) )
<a name="l01436"></a>01436             {
<a name="l01437"></a>01437                 <span class="keywordflow">if</span> ( $value instanceof SimpleXMLElement || $value instanceof Util_SpXmlElement )
<a name="l01438"></a>01438                     <span class="keywordflow">return</span> simplexml_load_string( $value );
<a name="l01439"></a>01439 
<a name="l01440"></a>01440                 <span class="keywordflow">return</span> unserialize( $value );
<a name="l01441"></a>01441             }
<a name="l01442"></a>01442         }
<a name="l01443"></a>01443         <span class="keywordflow">catch</span> ( Exception $_ex )
<a name="l01444"></a>01444         {
<a name="l01445"></a>01445         }
<a name="l01446"></a>01446 
<a name="l01447"></a>01447         <span class="keywordflow">return</span> $value;
<a name="l01448"></a>01448     }
<a name="l01449"></a>01449 
<a name="l01455"></a><a class="code" href="classCPSHelperBase.html#a9d036f61793a71d5c351031d2ecc0e53">01455</a>     <span class="keyword">protected</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a9d036f61793a71d5c351031d2ecc0e53">_isSerialized</a>( $value )
<a name="l01456"></a>01456     {
<a name="l01457"></a>01457         $_result = @unserialize( $value );
<a name="l01458"></a>01458         <span class="keywordflow">return</span> !( <span class="keyword">false</span> === $_result &amp;&amp; $value != serialize( <span class="keyword">false</span> ) );
<a name="l01459"></a>01459     }
<a name="l01460"></a>01460 
<a name="l01461"></a>01461 }
<a name="l01462"></a>01462 
<a name="l01466"></a>01466 <a class="code" href="classCPSHelperBase.html#a9f0be6ae273d3669e11c29910a0be338">CPSHelperBase::init</a>();
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Mar 24 2011 20:11:38 for "The Yii Extension Library Of Doom!" by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
