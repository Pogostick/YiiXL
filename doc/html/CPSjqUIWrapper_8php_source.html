<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>&quot;The Yii Extension Library Of Doom!&quot;: /usr/local/yiixl/lib/original/widgets/jqui/CPSjqUIWrapper.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>/usr/local/yiixl/lib/original/widgets/jqui/CPSjqUIWrapper.php</h1>  </div>
</div>
<div class="contents">
<a href="CPSjqUIWrapper_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00061"></a><a class="code" href="classCPSjqUIWrapper.html">00061</a> <span class="keyword">class </span><a class="code" href="classCPSjqUIWrapper.html">CPSjqUIWrapper</a> <span class="keyword">extends</span> <a class="code" href="classCPSjQueryWidget.html">CPSjQueryWidget</a>
<a name="l00062"></a>00062 {
<a name="l00063"></a>00063     <span class="comment">//********************************************************************************</span>
<a name="l00064"></a>00064     <span class="comment">//* Constants</span>
<a name="l00065"></a>00065     <span class="comment">//********************************************************************************</span>
<a name="l00066"></a>00066 
<a name="l00070"></a><a class="code" href="classCPSjqUIWrapper.html#ae357f9dc377f7de0d12010b2ced28cbc">00070</a>     <span class="keyword">const</span> <a class="code" href="classCPSjqUIWrapper.html#ae357f9dc377f7de0d12010b2ced28cbc">PS_WIDGET_NAME</a> = <span class="stringliteral">&#39;jqui&#39;</span>;
<a name="l00071"></a>00071 
<a name="l00075"></a><a class="code" href="classCPSjqUIWrapper.html#a8ccb5e1d65c091f944a6aa8c5be834ca">00075</a>     <span class="keyword">const</span> <a class="code" href="classCPSjqUIWrapper.html#a8ccb5e1d65c091f944a6aa8c5be834ca">PS_EXTERNAL_PATH</a> = <span class="stringliteral">&#39;/jqui&#39;</span>;
<a name="l00076"></a>00076 
<a name="l00077"></a>00077     <span class="comment">//********************************************************************************</span>
<a name="l00078"></a>00078     <span class="comment">//* Member variables</span>
<a name="l00079"></a>00079     <span class="comment">//********************************************************************************</span>
<a name="l00080"></a>00080 
<a name="l00087"></a><a class="code" href="classCPSjqUIWrapper.html#a8d18b96a73f9da6408588268de922652">00087</a>     <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="classCPSjqUIWrapper.html#a8d18b96a73f9da6408588268de922652">$m_sCurrentTheme</a>;
<a name="l00088"></a>00088 
<a name="l00095"></a><a class="code" href="classCPSjqUIWrapper.html#a668c0f109a913217310bafc3cd2ff404">00095</a>     <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="classCPSjqUIWrapper.html#a668c0f109a913217310bafc3cd2ff404">$_multiTheme</a> = <span class="keyword">false</span>;
<a name="l00096"></a>00096 
<a name="l00102"></a><a class="code" href="classCPSjqUIWrapper.html#aec85930491181c225f5c79d3e76213ee">00102</a>     <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="classCPSjqUIWrapper.html#aec85930491181c225f5c79d3e76213ee">$m_arValidThemes</a> = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
<a name="l00103"></a>00103         <span class="stringliteral">&#39;base&#39;</span>,
<a name="l00104"></a>00104         <span class="stringliteral">&#39;black-tie&#39;</span>,
<a name="l00105"></a>00105         <span class="stringliteral">&#39;blitzer&#39;</span>,
<a name="l00106"></a>00106         <span class="stringliteral">&#39;cupertino&#39;</span>,
<a name="l00107"></a>00107         <span class="stringliteral">&#39;dark-hive&#39;</span>,
<a name="l00108"></a>00108         <span class="stringliteral">&#39;dot-luv&#39;</span>,
<a name="l00109"></a>00109         <span class="stringliteral">&#39;eggplant&#39;</span>,
<a name="l00110"></a>00110         <span class="stringliteral">&#39;excite-bike&#39;</span>,
<a name="l00111"></a>00111         <span class="stringliteral">&#39;flick&#39;</span>,
<a name="l00112"></a>00112         <span class="stringliteral">&#39;hot-sneaks&#39;</span>,
<a name="l00113"></a>00113         <span class="stringliteral">&#39;humanity&#39;</span>,
<a name="l00114"></a>00114         <span class="stringliteral">&#39;le-frog&#39;</span>,
<a name="l00115"></a>00115         <span class="stringliteral">&#39;mint-choc&#39;</span>,
<a name="l00116"></a>00116         <span class="stringliteral">&#39;overcast&#39;</span>,
<a name="l00117"></a>00117         <span class="stringliteral">&#39;pepper-grinder&#39;</span>,
<a name="l00118"></a>00118         <span class="stringliteral">&#39;redmond&#39;</span>,
<a name="l00119"></a>00119         <span class="stringliteral">&#39;smoothness&#39;</span>,
<a name="l00120"></a>00120         <span class="stringliteral">&#39;south-street&#39;</span>,
<a name="l00121"></a>00121         <span class="stringliteral">&#39;start&#39;</span>,
<a name="l00122"></a>00122         <span class="stringliteral">&#39;sunny&#39;</span>,
<a name="l00123"></a>00123         <span class="stringliteral">&#39;swanky-purse&#39;</span>,
<a name="l00124"></a>00124         <span class="stringliteral">&#39;trontastic&#39;</span>,
<a name="l00125"></a>00125         <span class="stringliteral">&#39;ui-darkness&#39;</span>,
<a name="l00126"></a>00126         <span class="stringliteral">&#39;ui-lightness&#39;</span>,
<a name="l00127"></a>00127         <span class="stringliteral">&#39;vader&#39;</span>
<a name="l00128"></a>00128     );
<a name="l00129"></a><a class="code" href="classCPSjqUIWrapper.html#aad3fae32ed41de6a64288d3c0a01b56d">00129</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSjqUIWrapper.html#aad3fae32ed41de6a64288d3c0a01b56d">getValidThemes</a>() { <span class="keywordflow">return</span> self::$m_arValidThemes; }
<a name="l00130"></a>00130 
<a name="l00135"></a><a class="code" href="classCPSjqUIWrapper.html#a1a8db3d93da0f822e3d07ce0a9fd1973">00135</a>     <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="classCPSjqUIWrapper.html#a1a8db3d93da0f822e3d07ce0a9fd1973">$m_sStateName</a> = <span class="stringliteral">&#39;_ps_jqui_theme&#39;</span>;
<a name="l00136"></a><a class="code" href="classCPSjqUIWrapper.html#a43924bdf5b5f04904b65e9852f4b35ed">00136</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSjqUIWrapper.html#a43924bdf5b5f04904b65e9852f4b35ed">getStateName</a>() { <span class="keywordflow">return</span> self::$m_sStateName; }
<a name="l00137"></a>00137 
<a name="l00138"></a>00138     <span class="comment">//********************************************************************************</span>
<a name="l00139"></a>00139     <span class="comment">//* Property Accessors</span>
<a name="l00140"></a>00140     <span class="comment">//********************************************************************************</span>
<a name="l00141"></a>00141 
<a name="l00142"></a><a class="code" href="classCPSjqUIWrapper.html#a1fba0833b16e3ca8470ef13b70f66a40">00142</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSjqUIWrapper.html#a1fba0833b16e3ca8470ef13b70f66a40">getCurrentTheme</a>() { <span class="keywordflow">return</span> self::$m_sCurrentTheme ? self::$m_sCurrentTheme : self::$m_sCurrentTheme = Yii::app()-&gt;user-&gt;getState( self::$m_sStateName ); }
<a name="l00143"></a><a class="code" href="classCPSjqUIWrapper.html#a644a97c97c7461c0f04560a610584dbd">00143</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSjqUIWrapper.html#a644a97c97c7461c0f04560a610584dbd">setCurrentTheme</a>( $widgetTheme, $bSessionToo = <span class="keyword">true</span> ) { <span class="keywordflow">if</span> ( $bSessionToo ) Yii::app()-&gt;user-&gt;setState( self::$m_sStateName, $widgetTheme ); self::$m_sCurrentTheme = $widgetTheme; }
<a name="l00144"></a><a class="code" href="classCPSjqUIWrapper.html#a60cfa3447f5be59345c3b145afe7b90d">00144</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSjqUIWrapper.html#a60cfa3447f5be59345c3b145afe7b90d">getMultiTheme</a>() { <span class="keywordflow">return</span> self::$_multiTheme; }
<a name="l00145"></a><a class="code" href="classCPSjqUIWrapper.html#a4ab913b8ede018fb56d43c228696f957">00145</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSjqUIWrapper.html#a4ab913b8ede018fb56d43c228696f957">setMultiTheme</a>( $bValue ) { self::$_multiTheme = $bValue; }
<a name="l00146"></a>00146 
<a name="l00147"></a>00147     <span class="comment">//********************************************************************************</span>
<a name="l00148"></a>00148     <span class="comment">//* Constructor</span>
<a name="l00149"></a>00149     <span class="comment">//********************************************************************************</span>
<a name="l00150"></a>00150 
<a name="l00154"></a><a class="code" href="classCPSjqUIWrapper.html#a2dc262e99b1c246b56f27626bfe699ff">00154</a>     function <a class="code" href="classCPSjqUIWrapper.html#a2dc262e99b1c246b56f27626bfe699ff">preinit</a>()
<a name="l00155"></a>00155     {
<a name="l00156"></a>00156         <span class="comment">//  Phone home...</span>
<a name="l00157"></a>00157         <a class="code" href="classCPSjqUIWrapper.html#a2dc262e99b1c246b56f27626bfe699ff">parent::preinit</a>();
<a name="l00158"></a>00158 
<a name="l00159"></a>00159         <span class="comment">//  Add the default options for jqUI stuff</span>
<a name="l00160"></a>00160         $this-&gt;addOptions(
<a name="l00161"></a>00161             <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
<a name="l00162"></a>00162                 <span class="stringliteral">&#39;theme_&#39;</span> =&gt; <span class="stringliteral">&#39;string:::true:&#39;</span> . implode( <span class="charliteral">&#39;|&#39;</span>, self::$m_arValidThemes ),
<a name="l00163"></a>00163                 <span class="stringliteral">&#39;imagePath_&#39;</span> =&gt; <span class="stringliteral">&#39;string&#39;</span>,
<a name="l00164"></a>00164             )
<a name="l00165"></a>00165         );
<a name="l00166"></a>00166     }
<a name="l00167"></a>00167 
<a name="l00172"></a><a class="code" href="classCPSjqUIWrapper.html#a4be4055f3361d4800e16bc2e2e38cda6">00172</a>     <span class="keyword">public</span> function <a class="code" href="classCPSjqUIWrapper.html#a4be4055f3361d4800e16bc2e2e38cda6">init</a>()
<a name="l00173"></a>00173     {
<a name="l00174"></a>00174         <span class="comment">//  Call daddy</span>
<a name="l00175"></a>00175         <a class="code" href="classCPSjqUIWrapper.html#a4be4055f3361d4800e16bc2e2e38cda6">parent::init</a>();
<a name="l00176"></a>00176 
<a name="l00177"></a>00177         <span class="comment">//  Validate defaults...</span>
<a name="l00178"></a>00178         $_widgetTheme = $this-&gt;theme;
<a name="l00179"></a>00179 
<a name="l00180"></a>00180         <span class="keywordflow">if</span> ( empty( $_widgetTheme ) ) $this-&gt;theme = ( ! empty( self::$m_sCurrentTheme ) ) ? self::$m_sCurrentTheme : $_widgetTheme = PS::nvl( Yii::app()-&gt;params[<span class="stringliteral">&#39;theme&#39;</span>], <span class="stringliteral">&#39;cupertino&#39;</span> );
<a name="l00181"></a>00181         <span class="keywordflow">if</span> ( empty( $this-&gt;baseUrl ) ) $this-&gt;baseUrl = $this-&gt;extLibUrl . self::PS_EXTERNAL_PATH;
<a name="l00182"></a>00182         <span class="keywordflow">if</span> ( empty( $this-&gt;imagePath ) ) $this-&gt;imagePath = <span class="stringliteral">&quot;{$this-&gt;baseUrl}/css/{$this-&gt;theme}/images&quot;</span>;
<a name="l00183"></a>00183     }
<a name="l00184"></a>00184 
<a name="l00185"></a>00185     <span class="comment">/***</span>
<a name="l00186"></a>00186 <span class="comment">    * Runs this widget</span>
<a name="l00187"></a>00187 <span class="comment">    *</span>
<a name="l00188"></a>00188 <span class="comment">    */</span>
<a name="l00189"></a><a class="code" href="classCPSjqUIWrapper.html#afb0fafe7e02a3ae1993c01c19fad2bae">00189</a>     <span class="keyword">public</span> function <a class="code" href="classCPSjqUIWrapper.html#afb0fafe7e02a3ae1993c01c19fad2bae">run</a>()
<a name="l00190"></a>00190     {
<a name="l00191"></a>00191         <span class="comment">//  Register the scripts/css</span>
<a name="l00192"></a>00192         $_bLocate = $this-&gt;locateScript;
<a name="l00193"></a>00193         $this-&gt;<a class="code" href="classCPSWidget.html#a59080ee7d7949e19f5af41e26ff53806">registerClientScripts</a>( $_bLocate );
<a name="l00194"></a>00194 
<a name="l00195"></a>00195         <span class="comment">//  Generate the HTML if available</span>
<a name="l00196"></a>00196         echo $this-&gt;<a class="code" href="classCPSWidget.html#acc5a32d52db57b80885add51c076ed42">generateHtml</a>();
<a name="l00197"></a>00197     }
<a name="l00198"></a>00198 
<a name="l00204"></a><a class="code" href="classCPSjqUIWrapper.html#ac02a66bde8e72e4909137bf748edf665">00204</a>     <span class="keyword">public</span> function <a class="code" href="classCPSWidget.html#a59080ee7d7949e19f5af41e26ff53806">registerClientScripts</a>( $bLocateScript = <span class="keyword">false</span> )
<a name="l00205"></a>00205     {
<a name="l00206"></a>00206         <span class="comment">//  Don&#39;t auto register</span>
<a name="l00207"></a>00207         $_bAutoReg = $this-&gt;autoRegister;
<a name="l00208"></a>00208         $this-&gt;autoRegister = <span class="keyword">false</span>;
<a name="l00209"></a>00209 
<a name="l00210"></a>00210         <span class="comment">//  Call dad</span>
<a name="l00211"></a>00211         <a class="code" href="classCPSWidget.html#a59080ee7d7949e19f5af41e26ff53806">parent::registerClientScripts</a>( $bLocateScript );
<a name="l00212"></a>00212         $this-&gt;autoRegister = $_bAutoReg;
<a name="l00213"></a>00213 
<a name="l00214"></a>00214         <span class="comment">//  Register scripts necessary</span>
<a name="l00215"></a>00215         <a class="code" href="classCPSjqUIWrapper.html#ac23dbff4185dd0a77d381116a054bb50">self::loadScripts</a>( $this, $this-&gt;theme );
<a name="l00216"></a>00216 
<a name="l00217"></a>00217         <span class="comment">//  Fix up datepicker internationalization</span>
<a name="l00218"></a>00218         <span class="keywordflow">if</span> ( $this-&gt;widgetName == <span class="stringliteral">&#39;datepicker&#39;</span> )
<a name="l00219"></a>00219         {
<a name="l00220"></a>00220             <span class="comment">//  Is there a regional attribute? Pull it out and remove...</span>
<a name="l00221"></a>00221             $_region = ( ! empty( $this-&gt;regional ) ) ? $this-&gt;regional : <span class="stringliteral">&#39;&#39;</span>;
<a name="l00222"></a>00222             $this-&gt;unsetOption( <span class="stringliteral">&#39;regional&#39;</span> );
<a name="l00223"></a>00223 
<a name="l00224"></a>00224             <span class="comment">//  Not en? Let&#39;s load i18n file...</span>
<a name="l00225"></a>00225             <span class="keywordflow">if</span> ( ! empty( $_region ) )
<a name="l00226"></a>00226             {
<a name="l00227"></a>00227                 $_url = ( <span class="stringliteral">&#39;on&#39;</span> == PS::o( $_SERVER, <span class="stringliteral">&#39;HTTPS&#39;</span> )  ? <span class="stringliteral">&#39;https&#39;</span> : <span class="stringliteral">&#39;http&#39;</span> ) . <span class="stringliteral">&#39;://jquery-ui.googlecode.com/svn/tags/latest/ui/minified/i18n/jquery-ui-i18n.min.js&#39;</span>;
<a name="l00228"></a>00228                 $this-&gt;<a class="code" href="classCPSWidget.html#a4589f8bb22c9e9837302ea2cc7c80570">pushScriptFile</a>( $_url, CClientScript::POS_END );
<a name="l00229"></a>00229             }
<a name="l00230"></a>00230 
<a name="l00231"></a>00231             <span class="comment">//  Set defaults for datepicker if this is one...</span>
<a name="l00232"></a>00232             $_region = <span class="stringliteral">&quot;$.datepicker.setDefaults($.extend({showMonthAfterYear: false},$.datepicker.regional[&#39;{$_region}&#39;]));&quot;</span>;
<a name="l00233"></a>00233             PS::_rs( <span class="stringliteral">&#39;ps.reset.datepicker.&#39;</span> . md5( self::PS_WIDGET_NAME . <span class="charliteral">&#39;.&#39;</span> . $this-&gt;widgetName . <span class="charliteral">&#39;#&#39;</span> . $this-&gt;<span class="keywordtype">id</span> . <span class="charliteral">&#39;#&#39;</span> . $this-&gt;target . <span class="charliteral">&#39;.&#39;</span> . time() ), $_region );
<a name="l00234"></a>00234         }
<a name="l00235"></a>00235 
<a name="l00236"></a>00236         <span class="comment">//  Get the javascript for this widget</span>
<a name="l00237"></a>00237         <span class="keywordflow">if</span> ( $this-&gt;autoRegister )
<a name="l00238"></a>00238             $this-&gt;<a class="code" href="classCPSWidget.html#a196225b59cf30535180836cdac821edb">registerWidgetScript</a>();
<a name="l00239"></a>00239 
<a name="l00240"></a>00240         <span class="comment">//  Don&#39;t forget subclasses</span>
<a name="l00241"></a>00241         <span class="keywordflow">return</span> PS::_cs();
<a name="l00242"></a>00242     }
<a name="l00243"></a>00243 
<a name="l00244"></a>00244     <span class="comment">//********************************************************************************</span>
<a name="l00245"></a>00245     <span class="comment">//* Static methods</span>
<a name="l00246"></a>00246     <span class="comment">//********************************************************************************</span>
<a name="l00247"></a>00247 
<a name="l00259"></a><a class="code" href="classCPSjqUIWrapper.html#a0ffc269a208148ade57c7eb608a4562a">00259</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSjqUIWrapper.html#a0ffc269a208148ade57c7eb608a4562a">create</a>( $sName = null, <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a> $arOptions = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>() )
<a name="l00260"></a>00260     {
<a name="l00261"></a>00261         $arOptions[<span class="stringliteral">&#39;class&#39;</span>] = PS::o( $arOptions, <span class="stringliteral">&#39;class&#39;</span>, __CLASS__ );
<a name="l00262"></a>00262         <span class="keywordflow">if</span> ( $sName == $arOptions[<span class="stringliteral">&#39;class&#39;</span>] ) $arOptions[<span class="stringliteral">&#39;naked&#39;</span>] = <span class="keyword">true</span>;
<a name="l00263"></a>00263         <span class="keywordflow">return</span> <a class="code" href="classCPSjqUIWrapper.html#a0ffc269a208148ade57c7eb608a4562a">parent::create</a>( $sName, $arOptions );
<a name="l00264"></a>00264     }
<a name="l00265"></a>00265 
<a name="l00276"></a><a class="code" href="classCPSjqUIWrapper.html#ac23dbff4185dd0a77d381116a054bb50">00276</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSjqUIWrapper.html#ac23dbff4185dd0a77d381116a054bb50">loadScripts</a>( $widget = null, $widgetTheme = null )
<a name="l00277"></a>00277     {
<a name="l00278"></a>00278         <span class="keyword">static</span> $_widgetLoaded = <span class="keyword">false</span>;
<a name="l00279"></a>00279 
<a name="l00280"></a>00280         <span class="keywordflow">if</span> ( ! $_widgetLoaded )
<a name="l00281"></a>00281         {
<a name="l00282"></a>00282             <span class="comment">//  Instantiate if needed...</span>
<a name="l00283"></a>00283             $_widget = ( null === $widget ? <span class="keyword">new</span> <a class="code" href="classCPSjqUIWrapper.html">CPSjqUIWrapper</a>() : $widget );
<a name="l00284"></a>00284 
<a name="l00285"></a>00285             <span class="comment">//  Save then Set baseUrl...</span>
<a name="l00286"></a>00286             $_oldPath = $_widget-&gt;baseUrl;
<a name="l00287"></a>00287             $_widget-&gt;baseUrl = $_widget-&gt;extLibUrl . self::PS_EXTERNAL_PATH;
<a name="l00288"></a>00288 
<a name="l00289"></a>00289             <span class="comment">//  Check theme overrides...</span>
<a name="l00290"></a>00290             <span class="keywordflow">if</span> ( null !== $widgetTheme )
<a name="l00291"></a>00291                 $_widgetTheme = $widgetTheme;
<a name="l00292"></a>00292             <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( null !== $_widget-&gt;getTheme() )
<a name="l00293"></a>00293                 $_widgetTheme = $_widget-&gt;getTheme();
<a name="l00294"></a>00294             <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( null !== PS::_gp( <span class="stringliteral">&#39;theme&#39;</span> ) )
<a name="l00295"></a>00295                 $_widgetTheme = PS::_gp( <span class="stringliteral">&#39;theme&#39;</span> );
<a name="l00296"></a>00296             <span class="keywordflow">else</span>
<a name="l00297"></a>00297                 $_widgetTheme = <a class="code" href="classCPSjqUIWrapper.html#a1fba0833b16e3ca8470ef13b70f66a40">self::getCurrentTheme</a>();
<a name="l00298"></a>00298 
<a name="l00299"></a>00299             <span class="comment">//  Gotta have a theme...</span>
<a name="l00300"></a>00300             <span class="keywordflow">if</span> ( null === $_widgetTheme )
<a name="l00301"></a>00301                 $_widgetTheme = <span class="stringliteral">&#39;ui-lightness&#39;</span>;
<a name="l00302"></a>00302 
<a name="l00303"></a>00303             <span class="keywordflow">if</span> ( ! self::$_multiTheme &amp;&amp; ! self::getCurrentTheme() )
<a name="l00304"></a>00304                 <a class="code" href="classCPSjqUIWrapper.html#a644a97c97c7461c0f04560a610584dbd">self::setCurrentTheme</a>( $_widgetTheme );
<a name="l00305"></a>00305 
<a name="l00306"></a>00306             $_widget-&gt;theme = $_widgetTheme;
<a name="l00307"></a>00307 
<a name="l00308"></a>00308             <span class="comment">//  Register css files if we have a theme...</span>
<a name="l00309"></a>00309 <a class="code" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955">CPSLog::trace</a>( __METHOD__, <span class="stringliteral">&#39;Pushed jqui-script&#39;</span> );
<a name="l00310"></a>00310             $_widget-&gt;pushCssFile( ( PS::o( $_SERVER, <span class="stringliteral">&#39;HTTPS&#39;</span> ) == <span class="stringliteral">&#39;on&#39;</span> ? <span class="stringliteral">&#39;https&#39;</span> : <span class="stringliteral">&#39;http&#39;</span> ) . <span class="stringliteral">&quot;://ajax.googleapis.com/ajax/libs/jqueryui/1/themes/{$_widgetTheme}/jquery-ui.css&quot;</span> );
<a name="l00311"></a>00311             $_widget-&gt;pushCssFile( PS::makePath( $_widget-&gt;baseUrl, <span class="stringliteral">&#39;css&#39;</span>, <span class="stringliteral">&#39;ui.pogostick.css&#39;</span> ) );
<a name="l00312"></a>00312 
<a name="l00313"></a>00313             <span class="comment">//  Register scripts necessary</span>
<a name="l00314"></a>00314             $_widget-&gt;pushScriptFile( ( PS::o( $_SERVER, <span class="stringliteral">&#39;HTTPS&#39;</span> ) == <span class="stringliteral">&#39;on&#39;</span> ? <span class="stringliteral">&#39;https&#39;</span> : <span class="stringliteral">&#39;http&#39;</span> ) . <span class="stringliteral">&quot;://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js&quot;</span>, CClientScript::POS_END );
<a name="l00315"></a>00315             $_widget-&gt;pushScriptFile( PS::makePath( $_widget-&gt;baseUrl, <span class="stringliteral">&#39;js&#39;</span>, <span class="stringliteral">&#39;jquery.pogostick.hover.js&#39;</span> ), CClientScript::POS_END );
<a name="l00316"></a>00316 
<a name="l00317"></a>00317             <span class="comment">//  Restore path</span>
<a name="l00318"></a>00318             $_widget-&gt;baseUrl = $_oldPath;
<a name="l00319"></a>00319 
<a name="l00320"></a>00320             <span class="comment">//  And mark completed...</span>
<a name="l00321"></a>00321             $_widgetLoaded = <span class="keyword">true</span>;
<a name="l00322"></a>00322         }
<a name="l00323"></a>00323     }
<a name="l00324"></a>00324 
<a name="l00325"></a>00325 }
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Mar 24 2011 20:11:38 for "The Yii Extension Library Of Doom!" by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
