<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>&quot;The Yii Extension Library Of Doom!&quot;: CPSFacebook Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>CPSFacebook Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="CPSFacebook" --><!-- doxytag: inherits="CPSApiComponent" --><div class="dynheader">
Inheritance diagram for CPSFacebook:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook__inherit__graph.png" border="0" usemap="#CPSFacebook_inherit__map" alt="Inheritance graph"/></div>
<map name="CPSFacebook_inherit__map" id="CPSFacebook_inherit__map">
<area shape="rect" id="node2" href="classCPSApiComponent.html" title="CPSApiComponent" alt="" coords="5,237,147,267"/><area shape="rect" id="node4" href="classCPSComponent.html" title="CPSComponent" alt="" coords="15,160,137,189"/><area shape="rect" id="node6" href="interfaceIPSComponent.html" title="IPSComponent" alt="" coords="17,83,135,112"/><area shape="rect" id="node8" href="interfaceIPSBase.html" title="IPSBase" alt="" coords="39,5,113,35"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for CPSFacebook:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook__coll__graph.png" border="0" usemap="#CPSFacebook_coll__map" alt="Collaboration graph"/></div>
<map name="CPSFacebook_coll__map" id="CPSFacebook_coll__map">
<area shape="rect" id="node2" href="classCPSApiComponent.html" title="CPSApiComponent" alt="" coords="5,237,147,267"/><area shape="rect" id="node4" href="classCPSComponent.html" title="CPSComponent" alt="" coords="15,160,137,189"/><area shape="rect" id="node6" href="interfaceIPSComponent.html" title="IPSComponent" alt="" coords="17,83,135,112"/><area shape="rect" id="node8" href="interfaceIPSBase.html" title="IPSBase" alt="" coords="39,5,113,35"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a3686abfe34c828287edc1d6a8f77367d">getAppId</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a5d184a71ba30a0fedb1006f15df66177">setAppId</a> ($newValue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a36da26e368f80dfa10ab2fcedde8b12b">getAppName</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#ad9727261836418005a302bf42802a84f">setAppName</a> ($newValue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#aec474172017ccece67a1c46e1a5a3460">getAppUrl</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#ab759f3978697fbd0d6de43c959c69664">setAppUrl</a> ($newValue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a9784c3b68605f689b41f10aa28fffcca">getAppPermissions</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a466f4d1985a506c8e3be3d9929e4111e">setAppPermissions</a> ($newValue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#afdd5b6b54737f556694975ca3d93d773">getApiKey</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a5459ba27b6f139cf3f10bab4aec9b6e4">setApiKey</a> ($newValue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#ac01814ac1bd26175f55f538e3a4752cc">getApiSecretKey</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a8b556659e1d182ba42b528f47f1f217c">setApiSecretKey</a> ($newValue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#aca0af56a33a1d36ef2c9c3283d842d9c">getApiCallbackUrl</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#aecbe7fa989ff4870e8284982d2b4908b">setApiCallbackUrl</a> ($newValue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#abd67157f9e772183733ad7a9112c822b">getSessionLoaded</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#ad4202dd31fb79a9d1e1f4031fffd8623">setSessionLoaded</a> ($newValue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#aa89cc38937ab8f8f132f3712c49c6e37">getSignedRequest</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a0d55959bc29df7526c0dfcd1c87e750d">setSignedRequest</a> ($newValue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#ab002401bbd20f1d945afc24377102294">getEnableCookieSupport</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a38dc6e2f0ac551d3ec16ab03fa9d725b">setEnableCookieSupport</a> ($newValue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#ab0b9668fe081b3b7eb36307bcb7688e8">getBaseDomain</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a5438481a4c2c43b1ccf2dc5c8de9b7b7">setbaseDomain</a> ($newValue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a11a2fe55342959e85616440f6287f24a">getFileUploadSupport</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#af19c4491f0d526c7b4194ca9217fc966">setFileUploadSupport</a> ($newValue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#af338297425aef1a6322e4f096b0b8a34">getRedirectToLoginUrl</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a38575b53e5d51921b89d693e88bacaa9">setRedirectToLoginUrl</a> ($newValue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#af7f9493844d2d66e924e3c1df51ce616">__construct</a> ($<a class="el" href="events_8php.html#a3f176ffce3afa63656bfc989470e3e24">config</a>=<a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a4be4055f3361d4800e16bc2e2e38cda6">init</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a421831a265621325e1fdd19aace0c758">__destruct</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a83fd4ea8255385abd72c27a762691e2d">setSession</a> ($session=null, $writeCookie=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#aefa4c5bd150e2a7d525576d7959c6911">getSession</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#ae81b7186fb97a7c6457edcc68c9aa2ef">getUser</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a5d251c70a3f9f9daaff7f00ec5f894c0">getAccessToken</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a3fc2a3b447d666e9f8607da999a1ea2d">getLoginUrl</a> ($paramList=<a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#ade0c69c82aebca82fd8bd98ad74439f2">getLogoutUrl</a> ($paramList=<a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#ac6277cff127391498ddceffc115a6f94">getLoginStatusUrl</a> ($paramList=<a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#aa238fcc5cb30759876aa89cd2e0711c1">api</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#ab3989d2377763fb40cb29086ef272f6e">getPhotoList</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#ad35e44440b0eff84cccdfd1db697c639">setPhotoList</a> ($_value)</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#af71005841ce53adac00581ab0ba24c1f">VERSION</a> = '2.1.2'</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#aad50057168703fbd6bcab2c2c6e4d628">USER_AGENT</a> = 'pYe-facebook-php-2.1.2'</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#afba99abd768bc1f4376bbd82d153d50b">PHOTO_CACHE</a> = '_photoListCache'</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a386bcc77c2c57c89359cc7632ac521ad">$_CURL_OPTS</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#af39417a7550a728b1f3486fd0a9d3f55">$_DOMAIN_MAP</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a7e2b66c375158928ec4cfa9de801ac0b">$_photoList</a> = null</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a69c13b5e61215433a48b9a6742f16660">_getSessionCookieName</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a896336f5000bed98a0e59b3b38b8b8e1">_restserver</a> ($paramList)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a3fc1ae91766eca08b5a6fc48a6c6ebe2">_graph</a> ($path, $method= 'GET', $paramList=<a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a0519e81c281afecdca2d58dd75d164f0">_oauthRequest</a> ($url, $paramList)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#ae101534735ff109fc2b6ce694033e42e">_makeRequest</a> ($url, $paramList, $curl=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a818b7c88630a9f0a6318aecb55160c38">_setCookieFromSession</a> ($session=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a7dd3fb0ddff204e195f91b8719104a61">_validateSessionObject</a> ($session)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#ad095f729036d48a23d321839f3ea7853">_createSessionFromSignedRequest</a> ($data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a2b963de2da5e5d03684f94c360f948ea">_parseSignedRequest</a> ($_signedRequest)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a0e0a4234900c6b099259f0fc0ab65a67">_getApiUrl</a> ($method)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a719203fb2a7e839997705e75e0bcc9a1">_getUrl</a> ($name, $path=null, $paramList=<a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a1d2b68391ad44fe79ecef5ecd09feec3">_getCurrentUrl</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a9a1bb3c0a4009df8453e84cb39506723">_generateSignature</a> ($paramList, $_secretKey)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a7cc54c00b8b799176e515bd2d26a6868">_base64UrlDecode</a> ($source)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#ad8d438fe02fb781abe815fd5972795ff">_getUnsignedSession</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a26f5b0452f151ceda4f18979a5eb1058">$_appId</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#ab1025f24b9ab01061327e23b10552116">$_appName</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a4416500680a7b92e95184727c36eec91">$_appUrl</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a6adcddc9592544d2e65aed888e2bfdfa">$_appPermissions</a> = 'publish_stream'</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a30d859488ed1921f08a7e8191363d9a4">$_apiKey</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#ae5bcbc03d954a2feca80ddd77054501d">$_apiSecretKey</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a98f1263247e46ae35ef0b714c702d0bd">$_apiCallbackUrl</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#aee8e9816087942dab4fb8bd62f413cd6">$_sessionLoaded</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a6b432430b58baf6351a7507208363d80">$_signedRequest</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a6302bfba02d83c085b22d2aea1fc3bd6">$_enableCookieSupport</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#ac054a508d06da60c6ffc3aab3fd7b3e7">$_baseDomain</a> = ''</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a851bf23affeafd6281b06ff919d23a7f">$_fileUploadSupport</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#a26d05a26685e4c898e34328911b708d3">$_redirectToLoginUrl</a> = true</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a></td></tr>
<tr><td colspan="2"><h2><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#aced13da18a88b032dcdbe41db9c09ed3">$_DROP_QUERY_PARAMS</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebook.html#ae5e971be39413de8adc0e47624dbee86">$READ_ONLY_CALLS</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00029">29</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af7f9493844d2d66e924e3c1df51ce616"></a><!-- doxytag: member="CPSFacebook::__construct" ref="af7f9493844d2d66e924e3c1df51ce616" args="($config=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>config</em> = <code><a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>()</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize a Facebook Application.</p>
<p>The configuration:</p>
<ul>
<li>appId: the application ID</li>
<li>secret: the application secret</li>
<li>cookie: (optional) boolean true to enable cookie support</li>
<li>domain: (optional) domain for the cookie</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$config the application configuration </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classCPSFacebookApiException.html">CPSFacebookApiException</a></em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classCPSComponent.html#af7f9493844d2d66e924e3c1df51ce616">CPSComponent</a>.</p>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00276">276</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( ! function_exists( <span class="stringliteral">&#39;curl_init&#39;</span> ) )
            <span class="keywordflow">throw</span> <span class="keyword">new</span> CHttpException( 405, <span class="stringliteral">&#39;This class requires the CURL PHP extension.&#39;</span> );

        <span class="keywordflow">if</span> ( ! function_exists( <span class="stringliteral">&#39;json_decode&#39;</span> ) )
            <span class="keywordflow">throw</span> <span class="keyword">new</span> CHttpException( 405, <span class="stringliteral">&#39;This class requires the JSON PHP extension.&#39;</span> );

        $this-&gt;_appId = PS::o( <a class="code" href="advanced_8php.html#aea8fdfb38b8f02d1fc431d35e6dfc892">$config</a>, <span class="stringliteral">&#39;appId&#39;</span> );
        $this-&gt;_apiSecretKey = PS::o( <a class="code" href="advanced_8php.html#aea8fdfb38b8f02d1fc431d35e6dfc892">$config</a>, <span class="stringliteral">&#39;secret&#39;</span> );
        $this-&gt;_enableCookieSupport = PS::o( <a class="code" href="advanced_8php.html#aea8fdfb38b8f02d1fc431d35e6dfc892">$config</a>, <span class="stringliteral">&#39;cookie&#39;</span>, <span class="keyword">false</span> );
        $this-&gt;_baseDomain = PS::o( <a class="code" href="advanced_8php.html#aea8fdfb38b8f02d1fc431d35e6dfc892">$config</a>, <span class="stringliteral">&#39;domain&#39;</span>, <span class="stringliteral">&#39;&#39;</span> );
        $this-&gt;_fileUploadSupport = PS::o( <a class="code" href="advanced_8php.html#aea8fdfb38b8f02d1fc431d35e6dfc892">$config</a>, <span class="stringliteral">&#39;fileUploadSupport&#39;</span>, <span class="keyword">false</span> );
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a421831a265621325e1fdd19aace0c758"></a><!-- doxytag: member="CPSFacebook::__destruct" ref="a421831a265621325e1fdd19aace0c758" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__destruct </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Put it in the cache.. </p>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00303">303</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( ! empty( self::$_photoList ) )
            PS::_ss( self::PHOTO_CACHE, self::$_photoList );
    }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a7cc54c00b8b799176e515bd2d26a6868"></a><!-- doxytag: member="CPSFacebook::_base64UrlDecode" ref="a7cc54c00b8b799176e515bd2d26a6868" args="($source)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static _base64UrlDecode </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>source</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Base64 encoding that doesn't need to be urlencode()ed. Exactly the same as base64_encode except it uses</p>
<ul>
<li>instead of + _ instead of /</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>base64 encoded string </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00937">937</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> base64_decode( strtr( $source, <span class="stringliteral">&#39;-_&#39;</span>, <span class="stringliteral">&#39;+/&#39;</span> ) );
    }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a7cc54c00b8b799176e515bd2d26a6868_icgraph.png" border="0" usemap="#classCPSFacebook_a7cc54c00b8b799176e515bd2d26a6868_icgraph" alt=""/></div>
<map name="classCPSFacebook_a7cc54c00b8b799176e515bd2d26a6868_icgraph" id="classCPSFacebook_a7cc54c00b8b799176e515bd2d26a6868_icgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a2b963de2da5e5d03684f94c360f948ea" title="_parseSignedRequest" alt="" coords="197,85,357,115"/><area shape="rect" id="node5" href="classCPSFacebook.html#aa89cc38937ab8f8f132f3712c49c6e37" title="getSignedRequest" alt="" coords="405,85,544,115"/><area shape="rect" id="node7" href="classCPSFacebook.html#aefa4c5bd150e2a7d525576d7959c6911" title="getSession" alt="" coords="592,85,685,115"/><area shape="rect" id="node9" href="classCPSFacebook.html#a5d251c70a3f9f9daaff7f00ec5f894c0" title="getAccessToken" alt="" coords="735,33,857,63"/><area shape="rect" id="node19" href="classCPSFacebook.html#ade0c69c82aebca82fd8bd98ad74439f2" title="getLogoutUrl" alt="" coords="913,85,1017,115"/><area shape="rect" id="node22" href="classCPSFacebook.html#ae81b7186fb97a7c6457edcc68c9aa2ef" title="getUser" alt="" coords="760,137,832,167"/><area shape="rect" id="node11" href="classCPSFacebook.html#a0519e81c281afecdca2d58dd75d164f0" title="_oauthRequest" alt="" coords="907,32,1024,61"/><area shape="rect" id="node13" href="classCPSFacebook.html#a3fc1ae91766eca08b5a6fc48a6c6ebe2" title="_graph" alt="" coords="1087,5,1153,35"/><area shape="rect" id="node15" href="classCPSFacebook.html#a896336f5000bed98a0e59b3b38b8b8e1" title="_restserver" alt="" coords="1073,59,1167,88"/><area shape="rect" id="node17" href="classCPSFacebook.html#aa238fcc5cb30759876aa89cd2e0711c1" title="api" alt="" coords="1217,59,1257,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad095f729036d48a23d321839f3ea7853"></a><!-- doxytag: member="CPSFacebook::_createSessionFromSignedRequest" ref="ad095f729036d48a23d321839f3ea7853" args="($data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_createSessionFromSignedRequest </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>data</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns something that looks like a JS session object from the signed token's data</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Array</em>&nbsp;</td><td>the output of getSignedRequest </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Array Something that will work as a session : Nuke this once the login flow uses OAuth2 </dd></dl>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00765">765</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( ! PS::o( $data, <span class="stringliteral">&#39;oauth_token&#39;</span> ) )
            <span class="keywordflow">return</span> null;

        <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
            <span class="stringliteral">&#39;uid&#39;</span> =&gt; PS::o( $data, <span class="stringliteral">&#39;user_id&#39;</span> ),
            <span class="stringliteral">&#39;access_token&#39;</span> =&gt; PS::o( $data, <span class="stringliteral">&#39;oauth_token&#39;</span> ),
            <span class="stringliteral">&#39;expires&#39;</span> =&gt; PS::o( $data, <span class="stringliteral">&#39;expires&#39;</span> ),
        );

        <span class="comment">//  Put a real sig, so that validateSignature works</span>
        <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a>[<span class="stringliteral">&#39;sig&#39;</span>] = <a class="code" href="classCPSFacebook.html#a9a1bb3c0a4009df8453e84cb39506723">self::_generateSignature</a>(
            <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a>,
            $this-&gt;_apiSecretKey
        );

        <span class="keywordflow">return</span> <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a>;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_ad095f729036d48a23d321839f3ea7853_cgraph.png" border="0" usemap="#classCPSFacebook_ad095f729036d48a23d321839f3ea7853_cgraph" alt=""/></div>
<map name="classCPSFacebook_ad095f729036d48a23d321839f3ea7853_cgraph" id="classCPSFacebook_ad095f729036d48a23d321839f3ea7853_cgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a9a1bb3c0a4009df8453e84cb39506723" title="_generateSignature" alt="" coords="301,5,451,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_ad095f729036d48a23d321839f3ea7853_icgraph.png" border="0" usemap="#classCPSFacebook_ad095f729036d48a23d321839f3ea7853_icgraph" alt=""/></div>
<map name="classCPSFacebook_ad095f729036d48a23d321839f3ea7853_icgraph" id="classCPSFacebook_ad095f729036d48a23d321839f3ea7853_icgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#aefa4c5bd150e2a7d525576d7959c6911" title="getSession" alt="" coords="301,85,395,115"/><area shape="rect" id="node5" href="classCPSFacebook.html#a5d251c70a3f9f9daaff7f00ec5f894c0" title="getAccessToken" alt="" coords="444,33,567,63"/><area shape="rect" id="node15" href="classCPSFacebook.html#ade0c69c82aebca82fd8bd98ad74439f2" title="getLogoutUrl" alt="" coords="623,85,727,115"/><area shape="rect" id="node18" href="classCPSFacebook.html#ae81b7186fb97a7c6457edcc68c9aa2ef" title="getUser" alt="" coords="469,137,541,167"/><area shape="rect" id="node7" href="classCPSFacebook.html#a0519e81c281afecdca2d58dd75d164f0" title="_oauthRequest" alt="" coords="616,32,733,61"/><area shape="rect" id="node9" href="classCPSFacebook.html#a3fc1ae91766eca08b5a6fc48a6c6ebe2" title="_graph" alt="" coords="796,5,863,35"/><area shape="rect" id="node11" href="classCPSFacebook.html#a896336f5000bed98a0e59b3b38b8b8e1" title="_restserver" alt="" coords="783,59,876,88"/><area shape="rect" id="node13" href="classCPSFacebook.html#aa238fcc5cb30759876aa89cd2e0711c1" title="api" alt="" coords="927,59,967,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9a1bb3c0a4009df8453e84cb39506723"></a><!-- doxytag: member="CPSFacebook::_generateSignature" ref="a9a1bb3c0a4009df8453e84cb39506723" args="($paramList, $_secretKey)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static _generateSignature </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>paramList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>_secretKey</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Generate a signature for the given params and secret.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$paramList the parameters to sign </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$_secretKey the secret to sign with </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string the generated signature </dd></dl>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00913">913</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="comment">//  Work with sorted data</span>
        ksort( $paramList );

        <span class="comment">//  Generate the base string</span>
        $_baseString = <span class="stringliteral">&#39;&#39;</span>;

        <span class="keywordflow">foreach</span> ( $paramList as $_key =&gt; $_value )
            $_baseString .= $_key . <span class="charliteral">&#39;=&#39;</span> . $_value;

        $_baseString .= $_secretKey;

        <span class="keywordflow">return</span> md5( $_baseString );
    }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a9a1bb3c0a4009df8453e84cb39506723_icgraph.png" border="0" usemap="#classCPSFacebook_a9a1bb3c0a4009df8453e84cb39506723_icgraph" alt=""/></div>
<map name="classCPSFacebook_a9a1bb3c0a4009df8453e84cb39506723_icgraph" id="classCPSFacebook_a9a1bb3c0a4009df8453e84cb39506723_icgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#ad095f729036d48a23d321839f3ea7853" title="_createSessionFromSignedRequest" alt="" coords="423,45,668,75"/><area shape="rect" id="node22" href="classCPSFacebook.html#a7dd3fb0ddff204e195f91b8719104a61" title="_validateSessionObject" alt="" coords="203,97,373,127"/><area shape="rect" id="node5" href="classCPSFacebook.html#aefa4c5bd150e2a7d525576d7959c6911" title="getSession" alt="" coords="717,84,811,113"/><area shape="rect" id="node7" href="classCPSFacebook.html#a5d251c70a3f9f9daaff7f00ec5f894c0" title="getAccessToken" alt="" coords="860,5,983,35"/><area shape="rect" id="node17" href="classCPSFacebook.html#ade0c69c82aebca82fd8bd98ad74439f2" title="getLogoutUrl" alt="" coords="1039,59,1143,88"/><area shape="rect" id="node20" href="classCPSFacebook.html#ae81b7186fb97a7c6457edcc68c9aa2ef" title="getUser" alt="" coords="885,109,957,139"/><area shape="rect" id="node9" href="classCPSFacebook.html#a0519e81c281afecdca2d58dd75d164f0" title="_oauthRequest" alt="" coords="1032,5,1149,35"/><area shape="rect" id="node11" href="classCPSFacebook.html#a3fc1ae91766eca08b5a6fc48a6c6ebe2" title="_graph" alt="" coords="1212,109,1279,139"/><area shape="rect" id="node13" href="classCPSFacebook.html#a896336f5000bed98a0e59b3b38b8b8e1" title="_restserver" alt="" coords="1199,5,1292,35"/><area shape="rect" id="node15" href="classCPSFacebook.html#aa238fcc5cb30759876aa89cd2e0711c1" title="api" alt="" coords="1343,5,1383,35"/><area shape="rect" id="node25" href="classCPSFacebook.html#a83fd4ea8255385abd72c27a762691e2d" title="setSession" alt="" coords="500,149,591,179"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0e0a4234900c6b099259f0fc0ab65a67"></a><!-- doxytag: member="CPSFacebook::_getApiUrl" ref="a0e0a4234900c6b099259f0fc0ab65a67" args="($method)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_getApiUrl </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>method</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Build the URL for api given parameters.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$method</em>&nbsp;</td><td>string the method name. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string the URL for the given parameters </dd></dl>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00836">836</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        $_name = <span class="stringliteral">&#39;api&#39;</span>;

        <span class="keywordflow">if</span> ( PS::o( <a class="code" href="classCPSFacebook.html#ae5e971be39413de8adc0e47624dbee86">$READ_ONLY_CALLS</a>, strtolower( $method ) ) )
            $_name = <span class="stringliteral">&#39;api_read&#39;</span>;

        <span class="keywordflow">return</span> <a class="code" href="classCPSFacebook.html#a719203fb2a7e839997705e75e0bcc9a1">self::_getUrl</a>( $_name, <span class="stringliteral">&#39;restserver.php&#39;</span> );
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a0e0a4234900c6b099259f0fc0ab65a67_cgraph.png" border="0" usemap="#classCPSFacebook_a0e0a4234900c6b099259f0fc0ab65a67_cgraph" alt=""/></div>
<map name="classCPSFacebook_a0e0a4234900c6b099259f0fc0ab65a67_cgraph" id="classCPSFacebook_a0e0a4234900c6b099259f0fc0ab65a67_cgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a719203fb2a7e839997705e75e0bcc9a1" title="_getUrl" alt="" coords="143,5,209,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a0e0a4234900c6b099259f0fc0ab65a67_icgraph.png" border="0" usemap="#classCPSFacebook_a0e0a4234900c6b099259f0fc0ab65a67_icgraph" alt=""/></div>
<map name="classCPSFacebook_a0e0a4234900c6b099259f0fc0ab65a67_icgraph" id="classCPSFacebook_a0e0a4234900c6b099259f0fc0ab65a67_icgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a896336f5000bed98a0e59b3b38b8b8e1" title="_restserver" alt="" coords="143,5,236,35"/><area shape="rect" id="node5" href="classCPSFacebook.html#aa238fcc5cb30759876aa89cd2e0711c1" title="api" alt="" coords="287,5,327,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1d2b68391ad44fe79ecef5ecd09feec3"></a><!-- doxytag: member="CPSFacebook::_getCurrentUrl" ref="a1d2b68391ad44fe79ecef5ecd09feec3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_getCurrentUrl </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the Current URL, stripping it of known FB parameters that should not persist.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>string the current URL </dd></dl>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00877">877</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        $_proto = PS::o( $_SERVER, <span class="stringliteral">&#39;HTTPS&#39;</span> ) == <span class="stringliteral">&#39;on&#39;</span> ? <span class="stringliteral">&#39;https://&#39;</span> : <span class="stringliteral">&#39;http://&#39;</span>;
        $_currentUrl = $_proto . $_SERVER[<span class="stringliteral">&#39;HTTP_HOST&#39;</span>] . $_SERVER[<span class="stringliteral">&#39;REQUEST_URI&#39;</span>];
        $_parts = parse_url( $_currentUrl );

        <span class="comment">//  Drop known fb params</span>
        $_query = null;

        <span class="keywordflow">if</span> ( ! empty( $_parts[<span class="stringliteral">&#39;query&#39;</span>] ) )
        {
            $_paramList = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();

            parse_str( $_parts[<span class="stringliteral">&#39;query&#39;</span>], $_paramList );

            <span class="keywordflow">foreach</span> ( self::$_DROP_QUERY_PARAMS as $_key )
                unset( $_paramList[$_key] );

            <span class="keywordflow">if</span> ( ! empty( $_paramList ) )
                $_query = <span class="charliteral">&#39;?&#39;</span> . http_build_query( $_paramList );
        }

        <span class="comment">//  use port if non default</span>
        $_port = isset( $_parts[<span class="stringliteral">&#39;port&#39;</span>] ) &amp;&amp; ( ( $_proto === <span class="stringliteral">&#39;http://&#39;</span> &amp;&amp; $_parts[<span class="stringliteral">&#39;port&#39;</span>] !== 80 ) || ( $_proto === <span class="stringliteral">&#39;https://&#39;</span> &amp;&amp; $_parts[<span class="stringliteral">&#39;port&#39;</span>] !== 443 ) ) ? <span class="charliteral">&#39;:&#39;</span> . $_parts[<span class="stringliteral">&#39;port&#39;</span>] : <span class="stringliteral">&#39;&#39;</span>;

        <span class="comment">//  Rebuild</span>
        <span class="keywordflow">return</span> $_proto . $_parts[<span class="stringliteral">&#39;host&#39;</span>] . $_port . $_parts[<span class="stringliteral">&#39;path&#39;</span>] . $_query;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a1d2b68391ad44fe79ecef5ecd09feec3_icgraph.png" border="0" usemap="#classCPSFacebook_a1d2b68391ad44fe79ecef5ecd09feec3_icgraph" alt=""/></div>
<map name="classCPSFacebook_a1d2b68391ad44fe79ecef5ecd09feec3_icgraph" id="classCPSFacebook_a1d2b68391ad44fe79ecef5ecd09feec3_icgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#ac6277cff127391498ddceffc115a6f94" title="getLoginStatusUrl" alt="" coords="172,5,308,35"/><area shape="rect" id="node5" href="classCPSFacebook.html#a3fc2a3b447d666e9f8607da999a1ea2d" title="getLoginUrl" alt="" coords="193,59,287,88"/><area shape="rect" id="node7" href="classCPSFacebook.html#ade0c69c82aebca82fd8bd98ad74439f2" title="getLogoutUrl" alt="" coords="188,112,292,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a69c13b5e61215433a48b9a6742f16660"></a><!-- doxytag: member="CPSFacebook::_getSessionCookieName" ref="a69c13b5e61215433a48b9a6742f16660" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_getSessionCookieName </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The name of the cookie that contains the session. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>string the cookie name </dd></dl>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00513">513</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> <span class="stringliteral">&#39;pYe_fb_&#39;</span> . $this-&gt;_appId;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a69c13b5e61215433a48b9a6742f16660_icgraph.png" border="0" usemap="#classCPSFacebook_a69c13b5e61215433a48b9a6742f16660_icgraph" alt=""/></div>
<map name="classCPSFacebook_a69c13b5e61215433a48b9a6742f16660_icgraph" id="classCPSFacebook_a69c13b5e61215433a48b9a6742f16660_icgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a818b7c88630a9f0a6318aecb55160c38" title="_setCookieFromSession" alt="" coords="239,32,412,61"/><area shape="rect" id="node9" href="classCPSFacebook.html#aefa4c5bd150e2a7d525576d7959c6911" title="getSession" alt="" coords="603,84,696,113"/><area shape="rect" id="node5" href="classCPSFacebook.html#a83fd4ea8255385abd72c27a762691e2d" title="setSession" alt="" coords="463,32,553,61"/><area shape="rect" id="node7" href="classCPSFacebook.html#a3fc1ae91766eca08b5a6fc48a6c6ebe2" title="_graph" alt="" coords="1097,5,1164,35"/><area shape="rect" id="node11" href="classCPSFacebook.html#a5d251c70a3f9f9daaff7f00ec5f894c0" title="getAccessToken" alt="" coords="745,57,868,87"/><area shape="rect" id="node20" href="classCPSFacebook.html#ade0c69c82aebca82fd8bd98ad74439f2" title="getLogoutUrl" alt="" coords="924,111,1028,140"/><area shape="rect" id="node23" href="classCPSFacebook.html#ae81b7186fb97a7c6457edcc68c9aa2ef" title="getUser" alt="" coords="771,161,843,191"/><area shape="rect" id="node13" href="classCPSFacebook.html#a0519e81c281afecdca2d58dd75d164f0" title="_oauthRequest" alt="" coords="917,57,1035,87"/><area shape="rect" id="node16" href="classCPSFacebook.html#a896336f5000bed98a0e59b3b38b8b8e1" title="_restserver" alt="" coords="1084,59,1177,88"/><area shape="rect" id="node18" href="classCPSFacebook.html#aa238fcc5cb30759876aa89cd2e0711c1" title="api" alt="" coords="1228,59,1268,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad8d438fe02fb781abe815fd5972795ff"></a><!-- doxytag: member="CPSFacebook::_getUnsignedSession" ref="ad8d438fe02fb781abe815fd5972795ff" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static _getUnsignedSession </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Looks in request for session signatures </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>array </dd></dl>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00946">946</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( isset( $_REQUEST[<span class="stringliteral">&#39;fb_sig_user&#39;</span>] ) )
        {
            <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();

            <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a>[<span class="stringliteral">&#39;uid&#39;</span>] = PS::o( $_REQUEST, <span class="stringliteral">&#39;fb_sig_user&#39;</span> );
            <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a>[<span class="stringliteral">&#39;access_token&#39;</span>] = $this-&gt;_appId . <span class="charliteral">&#39;|&#39;</span> . PS::o( $_REQUEST, <span class="stringliteral">&#39;fb_sig_session_key&#39;</span> );
            <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a>[<span class="stringliteral">&#39;expires&#39;</span>] = PS::o( $_REQUEST, <span class="stringliteral">&#39;fb_sig_expires&#39;</span> );
            <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a>[<span class="stringliteral">&#39;base_domain&#39;</span>] = PS::o( $_REQUEST, <span class="stringliteral">&#39;fb_sig_base_domain&#39;</span> );
            <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a>[<span class="stringliteral">&#39;secret&#39;</span>] = PS::o( $_REQUEST, <span class="stringliteral">&#39;fb_sig_ss&#39;</span> );

            <span class="keywordflow">if</span> ( null !== ( <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a>[<span class="stringliteral">&#39;session_key&#39;</span>] = PS::o( $_REQUEST, <span class="stringliteral">&#39;fb_sig_session_key&#39;</span> ) ) )
            {
                ksort( <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> );

                <span class="comment">// generate the base string</span>
                $_baseString = <span class="stringliteral">&#39;&#39;</span>;

                <span class="keywordflow">foreach</span> ( <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> as $_key =&gt; $_value )
                    $_baseString .= $_key . <span class="charliteral">&#39;=&#39;</span> . $_value;

                $_baseString .= $this-&gt;_apiSecretKey;
                <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a>[<span class="stringliteral">&#39;sig&#39;</span>] = md5( $_baseString );
            }

            <span class="keywordflow">return</span> <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a>;
        }
    }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_ad8d438fe02fb781abe815fd5972795ff_icgraph.png" border="0" usemap="#classCPSFacebook_ad8d438fe02fb781abe815fd5972795ff_icgraph" alt=""/></div>
<map name="classCPSFacebook_ad8d438fe02fb781abe815fd5972795ff_icgraph" id="classCPSFacebook_ad8d438fe02fb781abe815fd5972795ff_icgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#aefa4c5bd150e2a7d525576d7959c6911" title="getSession" alt="" coords="213,85,307,115"/><area shape="rect" id="node5" href="classCPSFacebook.html#a5d251c70a3f9f9daaff7f00ec5f894c0" title="getAccessToken" alt="" coords="356,33,479,63"/><area shape="rect" id="node15" href="classCPSFacebook.html#ade0c69c82aebca82fd8bd98ad74439f2" title="getLogoutUrl" alt="" coords="535,85,639,115"/><area shape="rect" id="node18" href="classCPSFacebook.html#ae81b7186fb97a7c6457edcc68c9aa2ef" title="getUser" alt="" coords="381,137,453,167"/><area shape="rect" id="node7" href="classCPSFacebook.html#a0519e81c281afecdca2d58dd75d164f0" title="_oauthRequest" alt="" coords="528,32,645,61"/><area shape="rect" id="node9" href="classCPSFacebook.html#a3fc1ae91766eca08b5a6fc48a6c6ebe2" title="_graph" alt="" coords="708,5,775,35"/><area shape="rect" id="node11" href="classCPSFacebook.html#a896336f5000bed98a0e59b3b38b8b8e1" title="_restserver" alt="" coords="695,59,788,88"/><area shape="rect" id="node13" href="classCPSFacebook.html#aa238fcc5cb30759876aa89cd2e0711c1" title="api" alt="" coords="839,59,879,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a719203fb2a7e839997705e75e0bcc9a1"></a><!-- doxytag: member="CPSFacebook::_getUrl" ref="a719203fb2a7e839997705e75e0bcc9a1" args="($name, $path=null, $paramList=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_getUrl </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>path</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>paramList</em> = <code><a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Build the URL for given domain alias, path and parameters.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$name</em>&nbsp;</td><td>string the name of the domain </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$path</em>&nbsp;</td><td>string optional path (without a leading slash) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$paramList</em>&nbsp;</td><td>array optional query parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string the URL for the given parameters </dd></dl>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00854">854</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        $_url = self::$_DOMAIN_MAP[$name];

        <span class="keywordflow">if</span> ( null != $path )
        {
            <span class="keywordflow">if</span> ( $path[0] == <span class="charliteral">&#39;/&#39;</span> )
                $path = substr( $path, 1 );

            $_url .= $path;
        }

        <span class="keywordflow">if</span> ( $paramList ) $_url .= <span class="charliteral">&#39;?&#39;</span> . http_build_query( $paramList );

        <span class="keywordflow">return</span> $_url;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a719203fb2a7e839997705e75e0bcc9a1_icgraph.png" border="0" usemap="#classCPSFacebook_a719203fb2a7e839997705e75e0bcc9a1_icgraph" alt=""/></div>
<map name="classCPSFacebook_a719203fb2a7e839997705e75e0bcc9a1_icgraph" id="classCPSFacebook_a719203fb2a7e839997705e75e0bcc9a1_icgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a0e0a4234900c6b099259f0fc0ab65a67" title="_getApiUrl" alt="" coords="148,5,236,35"/><area shape="rect" id="node9" href="classCPSFacebook.html#a3fc1ae91766eca08b5a6fc48a6c6ebe2" title="_graph" alt="" coords="159,59,225,88"/><area shape="rect" id="node11" href="classCPSFacebook.html#ac6277cff127391498ddceffc115a6f94" title="getLoginStatusUrl" alt="" coords="124,112,260,141"/><area shape="rect" id="node13" href="classCPSFacebook.html#a3fc2a3b447d666e9f8607da999a1ea2d" title="getLoginUrl" alt="" coords="145,165,239,195"/><area shape="rect" id="node15" href="classCPSFacebook.html#ade0c69c82aebca82fd8bd98ad74439f2" title="getLogoutUrl" alt="" coords="140,219,244,248"/><area shape="rect" id="node5" href="classCPSFacebook.html#a896336f5000bed98a0e59b3b38b8b8e1" title="_restserver" alt="" coords="311,5,404,35"/><area shape="rect" id="node7" href="classCPSFacebook.html#aa238fcc5cb30759876aa89cd2e0711c1" title="api" alt="" coords="455,5,495,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3fc1ae91766eca08b5a6fc48a6c6ebe2"></a><!-- doxytag: member="CPSFacebook::_graph" ref="a3fc1ae91766eca08b5a6fc48a6c6ebe2" args="($path, $method= 'GET', $paramList=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_graph </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>method</em> = <code>'GET'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>paramList</em> = <code><a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Invoke the Graph API.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$path the path (required) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$method the http method (default 'GET') </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$paramList the query/post data </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the decoded response object </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classCPSFacebookApiException.html">CPSFacebookApiException</a></em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00549">549</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( is_array( $method ) &amp;&amp; empty( $paramList ) )
        {
            $paramList = $method;
            $method = <span class="stringliteral">&#39;GET&#39;</span>;
        }

        <span class="comment">//  Method override as we always do a POST</span>
        $paramList[<span class="stringliteral">&#39;method&#39;</span>] = $method;

        $_result = $this-&gt;<a class="code" href="classCPSFacebook.html#a0519e81c281afecdca2d58dd75d164f0">_oauthRequest</a>( $this-&gt;<a class="code" href="classCPSFacebook.html#a719203fb2a7e839997705e75e0bcc9a1">_getUrl</a>( <span class="stringliteral">&#39;graph&#39;</span>, $path ), $paramList );
        $_result = json_decode( $_result, <span class="keyword">true</span> );

        <span class="comment">//  Results are returned, errors are thrown</span>
        <span class="keywordflow">if</span> ( PS::o( $_result, <span class="stringliteral">&#39;error&#39;</span> ) )
        {
            $_ex = <span class="keyword">new</span> <a class="code" href="classCPSFacebookApiException.html">CPSFacebookApiException</a>( $_result );

            <span class="keywordflow">switch</span> ( $_ex-&gt;getType() )
            {
                <span class="keywordflow">case</span> <span class="stringliteral">&#39;OAuthException&#39;</span>:          <span class="comment">//  OAuth 2.0 Draft 00 style</span>
                <span class="keywordflow">case</span> <span class="stringliteral">&#39;invalid_token&#39;</span>:           <span class="comment">//  OAuth 2.0 Draft 10 style</span>
                    $this-&gt;<a class="code" href="classCPSFacebook.html#a83fd4ea8255385abd72c27a762691e2d">setSession</a>( null );
                    <span class="keywordflow">break</span>;
            }

            <span class="keywordflow">throw</span> $_ex;
        }

        <span class="keywordflow">return</span> $_result;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a3fc1ae91766eca08b5a6fc48a6c6ebe2_cgraph.png" border="0" usemap="#classCPSFacebook_a3fc1ae91766eca08b5a6fc48a6c6ebe2_cgraph" alt=""/></div>
<map name="classCPSFacebook_a3fc1ae91766eca08b5a6fc48a6c6ebe2_cgraph" id="classCPSFacebook_a3fc1ae91766eca08b5a6fc48a6c6ebe2_cgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a719203fb2a7e839997705e75e0bcc9a1" title="_getUrl" alt="" coords="145,115,212,144"/><area shape="rect" id="node5" href="classCPSFacebook.html#a0519e81c281afecdca2d58dd75d164f0" title="_oauthRequest" alt="" coords="120,168,237,197"/><area shape="rect" id="node42" href="classCPSFacebook.html#a83fd4ea8255385abd72c27a762691e2d" title="setSession" alt="" coords="635,220,725,249"/><area shape="rect" id="node7" href="classCPSFacebook.html#ae101534735ff109fc2b6ce694033e42e" title="_makeRequest" alt="" coords="291,168,405,197"/><area shape="rect" id="node9" href="classCPSFacebook.html#a5d251c70a3f9f9daaff7f00ec5f894c0" title="getAccessToken" alt="" coords="287,115,409,144"/><area shape="rect" id="node11" href="classCPSFacebook.html#aefa4c5bd150e2a7d525576d7959c6911" title="getSession" alt="" coords="459,116,552,145"/><area shape="rect" id="node13" href="classCPSFacebook.html#ad095f729036d48a23d321839f3ea7853" title="_createSessionFromSignedRequest" alt="" coords="809,167,1055,196"/><area shape="rect" id="node17" href="classCPSFacebook.html#a69c13b5e61215433a48b9a6742f16660" title="_getSessionCookieName" alt="" coords="1105,272,1287,301"/><area shape="rect" id="node19" href="classCPSFacebook.html#ad8d438fe02fb781abe815fd5972795ff" title="_getUnsignedSession" alt="" coords="600,116,760,145"/><area shape="rect" id="node21" href="classCPSFacebook.html#a7dd3fb0ddff204e195f91b8719104a61" title="_validateSessionObject" alt="" coords="847,113,1017,143"/><area shape="rect" id="node32" href="classCPSFacebook.html#aa89cc38937ab8f8f132f3712c49c6e37" title="getSignedRequest" alt="" coords="611,12,749,41"/><area shape="rect" id="node15" href="classCPSFacebook.html#a9a1bb3c0a4009df8453e84cb39506723" title="_generateSignature" alt="" coords="1121,165,1271,195"/><area shape="rect" id="node24" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11" title="CPSLog::error" alt="" coords="1141,112,1251,141"/><area shape="rect" id="node26" href="classCPSLog.html#a4c3be4120dc6dee2c97a6dde9428ac76" title="CPSLog::log" alt="" coords="1336,59,1435,88"/><area shape="rect" id="node28" href="classCPSLog.html#a66291d27410fbf7ba4978f513c13e6f0" title="CPSLog::_getCallingMethod" alt="" coords="1483,32,1680,61"/><area shape="rect" id="node30" href="classCPSLog.html#a8471574061e9457cc6e5be7c151b9cfb" title="CPSLog::_processMessage" alt="" coords="1485,85,1677,115"/><area shape="rect" id="node34" href="classCPSFacebook.html#a2b963de2da5e5d03684f94c360f948ea" title="_parseSignedRequest" alt="" coords="852,36,1012,65"/><area shape="rect" id="node36" href="classCPSFacebook.html#a7cc54c00b8b799176e515bd2d26a6868" title="_base64UrlDecode" alt="" coords="1125,59,1267,88"/><area shape="rect" id="node39" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955" title="CPSLog::trace" alt="" coords="1140,5,1252,35"/><area shape="rect" id="node44" href="classCPSFacebook.html#a818b7c88630a9f0a6318aecb55160c38" title="_setCookieFromSession" alt="" coords="845,220,1019,249"/><area shape="rect" id="node48" href="classCPSFacebook.html#ab0b9668fe081b3b7eb36307bcb7688e8" title="getBaseDomain" alt="" coords="1133,219,1259,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae101534735ff109fc2b6ce694033e42e"></a><!-- doxytag: member="CPSFacebook::_makeRequest" ref="ae101534735ff109fc2b6ce694033e42e" args="($url, $paramList, $curl=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_makeRequest </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>paramList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>curl</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Makes an HTTP request. This method can be overriden by subclasses if developers want to do fancier things or use something other than curl to make the request.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$url the URL to make the request to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$paramList the parameters to use for the POST body </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>integer</em>&nbsp;</td><td>$curl optional initialized curl handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string the response text </dd></dl>

<p><p>Disable the 'Expect: 100-continue' behaviour. This causes CURL to wait for 2 seconds if the server does not support this header.</p>
</p>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00615">615</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( ! $curl ) $curl = curl_init();

        $_options = self::$_CURL_OPTS;

        <span class="keywordflow">if</span> ( $this-&gt;_fileUploadSupport )
            $_options[CURLOPT_POSTFIELDS] = $paramList;
        <span class="keywordflow">else</span>
            $_options[CURLOPT_POSTFIELDS] = http_build_query( $paramList, null, <span class="charliteral">&#39;&amp;&#39;</span> );

        $_options[CURLOPT_URL] = $url;

        <span class="keywordflow">if</span> ( ! isset( $_options[CURLOPT_HTTPHEADER] ) )
            $_options[CURLOPT_HTTPHEADER] = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>( <span class="stringliteral">&#39;Expect:&#39;</span> );
        <span class="keywordflow">else</span>
        {
            $_headers = $opts[CURLOPT_HTTPHEADER];
            $_headers[] = <span class="stringliteral">&#39;Expect:&#39;</span>;
            $_options[CURLOPT_HTTPHEADER] = $_headers;
        }

        curl_setopt_array( $curl, $_options );

        $_result = curl_exec( $curl );

        <span class="keywordflow">if</span> ( <span class="keyword">false</span> === $_result )
        {
            $_ex = <span class="keyword">new</span> <a class="code" href="classCPSFacebookApiException.html">CPSFacebookApiException</a>(
                <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
                    <span class="stringliteral">&#39;error_code&#39;</span> =&gt; curl_errno( $curl ),
                    <span class="stringliteral">&#39;error&#39;</span> =&gt; <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
                        <span class="stringliteral">&#39;message&#39;</span> =&gt; curl_error( $curl ),
                        <span class="stringliteral">&#39;type&#39;</span> =&gt; <span class="stringliteral">&#39;CurlException&#39;</span>,
                    ),
                )
            );

            curl_close( $curl );

            <span class="keywordflow">throw</span> $_ex;
        }

        curl_close( $curl );
        <span class="keywordflow">return</span> $_result;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_ae101534735ff109fc2b6ce694033e42e_icgraph.png" border="0" usemap="#classCPSFacebook_ae101534735ff109fc2b6ce694033e42e_icgraph" alt=""/></div>
<map name="classCPSFacebook_ae101534735ff109fc2b6ce694033e42e_icgraph" id="classCPSFacebook_ae101534735ff109fc2b6ce694033e42e_icgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a0519e81c281afecdca2d58dd75d164f0" title="_oauthRequest" alt="" coords="171,32,288,61"/><area shape="rect" id="node5" href="classCPSFacebook.html#a3fc1ae91766eca08b5a6fc48a6c6ebe2" title="_graph" alt="" coords="351,5,417,35"/><area shape="rect" id="node7" href="classCPSFacebook.html#a896336f5000bed98a0e59b3b38b8b8e1" title="_restserver" alt="" coords="337,59,431,88"/><area shape="rect" id="node9" href="classCPSFacebook.html#aa238fcc5cb30759876aa89cd2e0711c1" title="api" alt="" coords="481,59,521,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0519e81c281afecdca2d58dd75d164f0"></a><!-- doxytag: member="CPSFacebook::_oauthRequest" ref="a0519e81c281afecdca2d58dd75d164f0" args="($url, $paramList)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_oauthRequest </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>paramList</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Make a OAuth Request</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$path the path (required) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$paramList the query/post data </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the decoded response object </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classCPSFacebookApiException.html">CPSFacebookApiException</a></em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00590">590</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( ! isset( $paramList[<span class="stringliteral">&#39;access_token&#39;</span>] ) )
            $paramList[<span class="stringliteral">&#39;access_token&#39;</span>] = $this-&gt;<a class="code" href="classCPSFacebook.html#a5d251c70a3f9f9daaff7f00ec5f894c0">getAccessToken</a>();

        <span class="comment">//  json_encode all params values that are not strings</span>
        <span class="keywordflow">foreach</span> ( $paramList as $_key =&gt; $_value )
        {
            <span class="keywordflow">if</span> ( ! is_string( $_value ) )
                $paramList[$_key] = json_encode( $_value );
        }

        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classCPSFacebook.html#ae101534735ff109fc2b6ce694033e42e">_makeRequest</a>( $url, $paramList );
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a0519e81c281afecdca2d58dd75d164f0_cgraph.png" border="0" usemap="#classCPSFacebook_a0519e81c281afecdca2d58dd75d164f0_cgraph" alt=""/></div>
<map name="classCPSFacebook_a0519e81c281afecdca2d58dd75d164f0_cgraph" id="classCPSFacebook_a0519e81c281afecdca2d58dd75d164f0_cgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#ae101534735ff109fc2b6ce694033e42e" title="_makeRequest" alt="" coords="176,85,291,115"/><area shape="rect" id="node5" href="classCPSFacebook.html#a5d251c70a3f9f9daaff7f00ec5f894c0" title="getAccessToken" alt="" coords="172,139,295,168"/><area shape="rect" id="node7" href="classCPSFacebook.html#aefa4c5bd150e2a7d525576d7959c6911" title="getSession" alt="" coords="344,139,437,168"/><area shape="rect" id="node9" href="classCPSFacebook.html#ad095f729036d48a23d321839f3ea7853" title="_createSessionFromSignedRequest" alt="" coords="695,5,940,35"/><area shape="rect" id="node13" href="classCPSFacebook.html#a69c13b5e61215433a48b9a6742f16660" title="_getSessionCookieName" alt="" coords="991,165,1172,195"/><area shape="rect" id="node15" href="classCPSFacebook.html#ad8d438fe02fb781abe815fd5972795ff" title="_getUnsignedSession" alt="" coords="485,269,645,299"/><area shape="rect" id="node17" href="classCPSFacebook.html#a7dd3fb0ddff204e195f91b8719104a61" title="_validateSessionObject" alt="" coords="732,59,903,88"/><area shape="rect" id="node28" href="classCPSFacebook.html#aa89cc38937ab8f8f132f3712c49c6e37" title="getSignedRequest" alt="" coords="496,216,635,245"/><area shape="rect" id="node38" href="classCPSFacebook.html#a83fd4ea8255385abd72c27a762691e2d" title="setSession" alt="" coords="520,112,611,141"/><area shape="rect" id="node11" href="classCPSFacebook.html#a9a1bb3c0a4009df8453e84cb39506723" title="_generateSignature" alt="" coords="1007,5,1156,35"/><area shape="rect" id="node20" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11" title="CPSLog::error" alt="" coords="1027,59,1136,88"/><area shape="rect" id="node22" href="classCPSLog.html#a4c3be4120dc6dee2c97a6dde9428ac76" title="CPSLog::log" alt="" coords="1221,165,1320,195"/><area shape="rect" id="node24" href="classCPSLog.html#a66291d27410fbf7ba4978f513c13e6f0" title="CPSLog::_getCallingMethod" alt="" coords="1368,139,1565,168"/><area shape="rect" id="node26" href="classCPSLog.html#a8471574061e9457cc6e5be7c151b9cfb" title="CPSLog::_processMessage" alt="" coords="1371,192,1563,221"/><area shape="rect" id="node30" href="classCPSFacebook.html#a2b963de2da5e5d03684f94c360f948ea" title="_parseSignedRequest" alt="" coords="737,217,897,247"/><area shape="rect" id="node32" href="classCPSFacebook.html#a7cc54c00b8b799176e515bd2d26a6868" title="_base64UrlDecode" alt="" coords="1011,219,1152,248"/><area shape="rect" id="node35" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955" title="CPSLog::trace" alt="" coords="1025,272,1137,301"/><area shape="rect" id="node40" href="classCPSFacebook.html#a818b7c88630a9f0a6318aecb55160c38" title="_setCookieFromSession" alt="" coords="731,112,904,141"/><area shape="rect" id="node44" href="classCPSFacebook.html#ab0b9668fe081b3b7eb36307bcb7688e8" title="getBaseDomain" alt="" coords="1019,112,1144,141"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a0519e81c281afecdca2d58dd75d164f0_icgraph.png" border="0" usemap="#classCPSFacebook_a0519e81c281afecdca2d58dd75d164f0_icgraph" alt=""/></div>
<map name="classCPSFacebook_a0519e81c281afecdca2d58dd75d164f0_icgraph" id="classCPSFacebook_a0519e81c281afecdca2d58dd75d164f0_icgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a3fc1ae91766eca08b5a6fc48a6c6ebe2" title="_graph" alt="" coords="185,5,252,35"/><area shape="rect" id="node5" href="classCPSFacebook.html#a896336f5000bed98a0e59b3b38b8b8e1" title="_restserver" alt="" coords="172,59,265,88"/><area shape="rect" id="node7" href="classCPSFacebook.html#aa238fcc5cb30759876aa89cd2e0711c1" title="api" alt="" coords="316,59,356,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2b963de2da5e5d03684f94c360f948ea"></a><!-- doxytag: member="CPSFacebook::_parseSignedRequest" ref="a2b963de2da5e5d03684f94c360f948ea" args="($_signedRequest)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_parseSignedRequest </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>_signedRequest</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Parses a signed_request and validates the signature. Then saves it in $this-&gt;signed_data</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>String</em>&nbsp;</td><td>A signed token </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Boolean</em>&nbsp;</td><td>Should we remove the parts of the payload that are used by the algorithm? </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Array the payload inside it or null if the sig is wrong </dd></dl>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00793">793</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        list( $_encodedSignature, <a class="code" href="classCPSApiComponent.html#a01bc135256923b2605138f01e3f81d76">$_payload</a> ) = explode( <span class="charliteral">&#39;.&#39;</span>, <a class="code" href="classCPSFacebook.html#a6b432430b58baf6351a7507208363d80">$_signedRequest</a>, 2 );

        <span class="comment">//  decode the data</span>
        $_signature = <a class="code" href="classCPSFacebook.html#a7cc54c00b8b799176e515bd2d26a6868">self::_base64UrlDecode</a>( $_encodedSignature );
        $data = json_decode( self::_base64UrlDecode( <a class="code" href="classCPSApiComponent.html#a01bc135256923b2605138f01e3f81d76">$_payload</a> ), <span class="keyword">true</span> );

        <span class="keywordflow">if</span> ( <span class="stringliteral">&#39;HMAC-SHA256&#39;</span> !== strtoupper( $data[<span class="stringliteral">&#39;algorithm&#39;</span>] ) )
        {
            <span class="comment">//  Disable error log if we are running in a CLI environment</span>
            <span class="comment">//  @codeCoverageIgnoreStart</span>
            <span class="keywordflow">if</span> ( php_sapi_name() != <span class="stringliteral">&#39;cli&#39;</span> )
                <a class="code" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11">CPSLog::error</a>( __METHOD__, <span class="stringliteral">&#39;Unknown algorithm. Expected HMAC-SHA256&#39;</span> );
            <span class="comment">// @codeCoverageIgnoreEnd</span>
            <span class="keywordflow">return</span> null;
        }

        <span class="comment">//  Check signature</span>
        $_expectedSignature = hash_hmac( <span class="stringliteral">&#39;sha256&#39;</span>, <a class="code" href="classCPSApiComponent.html#a01bc135256923b2605138f01e3f81d76">$_payload</a>, $this-&gt;_apiSecretKey, <span class="keyword">true</span> );

        <span class="keywordflow">if</span> ( defined( <span class="stringliteral">&#39;PYE_TRACE_LEVEL&#39;</span> ) &amp;&amp; PYE_TRACE_LEVEL &gt; 3 )
            <a class="code" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955">CPSLog::trace</a>( __METHOD__, <span class="stringliteral">&#39;Sig:[&#39;</span> . $_signature . <span class="stringliteral">&#39;] expect:[&#39;</span> . $_expectedSignature . <span class="charliteral">&#39;]&#39;</span> );

        <span class="keywordflow">if</span> ( $_signature !== $_expectedSignature )
        {
            <span class="comment">//  Disable error log if we are running in a CLI environment</span>
            <span class="comment">//  @codeCoverageIgnoreStart</span>
            <span class="keywordflow">if</span> ( php_sapi_name() != <span class="stringliteral">&#39;cli&#39;</span> )
                <a class="code" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11">CPSLog::error</a>( __METHOD__, <span class="stringliteral">&#39;Bad Signed JSON signature!&#39;</span> );
            <span class="comment">// @codeCoverageIgnoreEnd</span>
            <span class="keywordflow">return</span> null;
        }

        <span class="keywordflow">return</span> $data;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a2b963de2da5e5d03684f94c360f948ea_cgraph.png" border="0" usemap="#classCPSFacebook_a2b963de2da5e5d03684f94c360f948ea_cgraph" alt=""/></div>
<map name="classCPSFacebook_a2b963de2da5e5d03684f94c360f948ea_cgraph" id="classCPSFacebook_a2b963de2da5e5d03684f94c360f948ea_cgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a7cc54c00b8b799176e515bd2d26a6868" title="_base64UrlDecode" alt="" coords="215,5,356,35"/><area shape="rect" id="node5" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11" title="CPSLog::error" alt="" coords="231,59,340,88"/><area shape="rect" id="node13" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955" title="CPSLog::trace" alt="" coords="229,112,341,141"/><area shape="rect" id="node7" href="classCPSLog.html#a4c3be4120dc6dee2c97a6dde9428ac76" title="CPSLog::log" alt="" coords="405,85,504,115"/><area shape="rect" id="node9" href="classCPSLog.html#a66291d27410fbf7ba4978f513c13e6f0" title="CPSLog::_getCallingMethod" alt="" coords="552,59,749,88"/><area shape="rect" id="node11" href="classCPSLog.html#a8471574061e9457cc6e5be7c151b9cfb" title="CPSLog::_processMessage" alt="" coords="555,112,747,141"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a2b963de2da5e5d03684f94c360f948ea_icgraph.png" border="0" usemap="#classCPSFacebook_a2b963de2da5e5d03684f94c360f948ea_icgraph" alt=""/></div>
<map name="classCPSFacebook_a2b963de2da5e5d03684f94c360f948ea_icgraph" id="classCPSFacebook_a2b963de2da5e5d03684f94c360f948ea_icgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#aa89cc38937ab8f8f132f3712c49c6e37" title="getSignedRequest" alt="" coords="213,85,352,115"/><area shape="rect" id="node5" href="classCPSFacebook.html#aefa4c5bd150e2a7d525576d7959c6911" title="getSession" alt="" coords="400,85,493,115"/><area shape="rect" id="node7" href="classCPSFacebook.html#a5d251c70a3f9f9daaff7f00ec5f894c0" title="getAccessToken" alt="" coords="543,33,665,63"/><area shape="rect" id="node17" href="classCPSFacebook.html#ade0c69c82aebca82fd8bd98ad74439f2" title="getLogoutUrl" alt="" coords="721,85,825,115"/><area shape="rect" id="node20" href="classCPSFacebook.html#ae81b7186fb97a7c6457edcc68c9aa2ef" title="getUser" alt="" coords="568,137,640,167"/><area shape="rect" id="node9" href="classCPSFacebook.html#a0519e81c281afecdca2d58dd75d164f0" title="_oauthRequest" alt="" coords="715,32,832,61"/><area shape="rect" id="node11" href="classCPSFacebook.html#a3fc1ae91766eca08b5a6fc48a6c6ebe2" title="_graph" alt="" coords="895,5,961,35"/><area shape="rect" id="node13" href="classCPSFacebook.html#a896336f5000bed98a0e59b3b38b8b8e1" title="_restserver" alt="" coords="881,59,975,88"/><area shape="rect" id="node15" href="classCPSFacebook.html#aa238fcc5cb30759876aa89cd2e0711c1" title="api" alt="" coords="1025,59,1065,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a896336f5000bed98a0e59b3b38b8b8e1"></a><!-- doxytag: member="CPSFacebook::_restserver" ref="a896336f5000bed98a0e59b3b38b8b8e1" args="($paramList)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_restserver </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>paramList</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Invoke the old restserver.php endpoint.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$paramList method call object </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the decoded response object </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classCPSFacebookApiException.html">CPSFacebookApiException</a></em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00525">525</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="comment">//  Generic application level parameters</span>
        $paramList[<span class="stringliteral">&#39;api_key&#39;</span>] = $this-&gt;_appId;
        $paramList[<span class="stringliteral">&#39;format&#39;</span>] = <span class="stringliteral">&#39;json-strings&#39;</span>;

        $_result = json_decode( $this-&gt;<a class="code" href="classCPSFacebook.html#a0519e81c281afecdca2d58dd75d164f0">_oauthRequest</a>( $this-&gt;<a class="code" href="classCPSFacebook.html#a0e0a4234900c6b099259f0fc0ab65a67">_getApiUrl</a>( PS::o( $paramList, <span class="stringliteral">&#39;method&#39;</span> ) ), $paramList ), <span class="keyword">true</span> );

        <span class="comment">//  Results are returned, errors are thrown</span>
        <span class="keywordflow">if</span> ( PS::o( $_result, <span class="stringliteral">&#39;error_code&#39;</span> ) )
            <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classCPSFacebookApiException.html">CPSFacebookApiException</a>( $_result );

        <span class="keywordflow">return</span> $_result;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a896336f5000bed98a0e59b3b38b8b8e1_cgraph.png" border="0" usemap="#classCPSFacebook_a896336f5000bed98a0e59b3b38b8b8e1_cgraph" alt=""/></div>
<map name="classCPSFacebook_a896336f5000bed98a0e59b3b38b8b8e1_cgraph" id="classCPSFacebook_a896336f5000bed98a0e59b3b38b8b8e1_cgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a0e0a4234900c6b099259f0fc0ab65a67" title="_getApiUrl" alt="" coords="164,32,252,61"/><area shape="rect" id="node7" href="classCPSFacebook.html#a0519e81c281afecdca2d58dd75d164f0" title="_oauthRequest" alt="" coords="149,85,267,115"/><area shape="rect" id="node5" href="classCPSFacebook.html#a719203fb2a7e839997705e75e0bcc9a1" title="_getUrl" alt="" coords="344,32,411,61"/><area shape="rect" id="node9" href="classCPSFacebook.html#ae101534735ff109fc2b6ce694033e42e" title="_makeRequest" alt="" coords="320,85,435,115"/><area shape="rect" id="node11" href="classCPSFacebook.html#a5d251c70a3f9f9daaff7f00ec5f894c0" title="getAccessToken" alt="" coords="316,139,439,168"/><area shape="rect" id="node13" href="classCPSFacebook.html#aefa4c5bd150e2a7d525576d7959c6911" title="getSession" alt="" coords="488,139,581,168"/><area shape="rect" id="node15" href="classCPSFacebook.html#ad095f729036d48a23d321839f3ea7853" title="_createSessionFromSignedRequest" alt="" coords="839,5,1084,35"/><area shape="rect" id="node19" href="classCPSFacebook.html#a69c13b5e61215433a48b9a6742f16660" title="_getSessionCookieName" alt="" coords="1135,165,1316,195"/><area shape="rect" id="node21" href="classCPSFacebook.html#ad8d438fe02fb781abe815fd5972795ff" title="_getUnsignedSession" alt="" coords="629,269,789,299"/><area shape="rect" id="node23" href="classCPSFacebook.html#a7dd3fb0ddff204e195f91b8719104a61" title="_validateSessionObject" alt="" coords="876,59,1047,88"/><area shape="rect" id="node34" href="classCPSFacebook.html#aa89cc38937ab8f8f132f3712c49c6e37" title="getSignedRequest" alt="" coords="640,216,779,245"/><area shape="rect" id="node44" href="classCPSFacebook.html#a83fd4ea8255385abd72c27a762691e2d" title="setSession" alt="" coords="664,112,755,141"/><area shape="rect" id="node17" href="classCPSFacebook.html#a9a1bb3c0a4009df8453e84cb39506723" title="_generateSignature" alt="" coords="1151,5,1300,35"/><area shape="rect" id="node26" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11" title="CPSLog::error" alt="" coords="1171,59,1280,88"/><area shape="rect" id="node28" href="classCPSLog.html#a4c3be4120dc6dee2c97a6dde9428ac76" title="CPSLog::log" alt="" coords="1365,165,1464,195"/><area shape="rect" id="node30" href="classCPSLog.html#a66291d27410fbf7ba4978f513c13e6f0" title="CPSLog::_getCallingMethod" alt="" coords="1512,139,1709,168"/><area shape="rect" id="node32" href="classCPSLog.html#a8471574061e9457cc6e5be7c151b9cfb" title="CPSLog::_processMessage" alt="" coords="1515,192,1707,221"/><area shape="rect" id="node36" href="classCPSFacebook.html#a2b963de2da5e5d03684f94c360f948ea" title="_parseSignedRequest" alt="" coords="881,217,1041,247"/><area shape="rect" id="node38" href="classCPSFacebook.html#a7cc54c00b8b799176e515bd2d26a6868" title="_base64UrlDecode" alt="" coords="1155,219,1296,248"/><area shape="rect" id="node41" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955" title="CPSLog::trace" alt="" coords="1169,272,1281,301"/><area shape="rect" id="node46" href="classCPSFacebook.html#a818b7c88630a9f0a6318aecb55160c38" title="_setCookieFromSession" alt="" coords="875,112,1048,141"/><area shape="rect" id="node50" href="classCPSFacebook.html#ab0b9668fe081b3b7eb36307bcb7688e8" title="getBaseDomain" alt="" coords="1163,112,1288,141"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a896336f5000bed98a0e59b3b38b8b8e1_icgraph.png" border="0" usemap="#classCPSFacebook_a896336f5000bed98a0e59b3b38b8b8e1_icgraph" alt=""/></div>
<map name="classCPSFacebook_a896336f5000bed98a0e59b3b38b8b8e1_icgraph" id="classCPSFacebook_a896336f5000bed98a0e59b3b38b8b8e1_icgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#aa238fcc5cb30759876aa89cd2e0711c1" title="api" alt="" coords="151,5,191,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a818b7c88630a9f0a6318aecb55160c38"></a><!-- doxytag: member="CPSFacebook::_setCookieFromSession" ref="a818b7c88630a9f0a6318aecb55160c38" args="($session=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_setCookieFromSession </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>session</em> = <code>null</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set a JS cookie based on the _passed in_ session. It does not use the currently stored session -- you need to explicitly pass it in.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$session the session to use for setting the cookie </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00672">672</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( ! $this-&gt;_enableCookieSupport )
            <span class="keywordflow">return</span>;

        $_cookieName = $this-&gt;<a class="code" href="classCPSFacebook.html#a69c13b5e61215433a48b9a6742f16660">_getSessionCookieName</a>();
        $_value = <span class="stringliteral">&#39;deleted&#39;</span>;
        $_expires = time() - 3600;

        $_domain = $this-&gt;<a class="code" href="classCPSFacebook.html#ab0b9668fe081b3b7eb36307bcb7688e8">getBaseDomain</a>();

        <span class="keywordflow">if</span> ( $session )
        {
            $_value = <span class="charliteral">&#39;&quot;&#39;</span> . http_build_query( $session, null, <span class="charliteral">&#39;&amp;&#39;</span> ) . <span class="charliteral">&#39;&quot;&#39;</span>;

            <span class="keywordflow">if</span> ( isset( $session[<span class="stringliteral">&#39;base_domain&#39;</span>] ) )
                $_domain = $session[<span class="stringliteral">&#39;base_domain&#39;</span>];

            $_expires = $session[<span class="stringliteral">&#39;expires&#39;</span>];
        }

        <span class="comment">//  prepend dot if a domain is found</span>
        <span class="keywordflow">if</span> ( $_domain ) $_domain = <span class="charliteral">&#39;.&#39;</span> . $_domain;

        <span class="comment">//  if an existing cookie is not set, we dont need to delete it</span>
        <span class="keywordflow">if</span> ( $_value == <span class="stringliteral">&#39;deleted&#39;</span> &amp;&amp; empty( $_COOKIE[$_cookieName] ) )
            <span class="keywordflow">return</span>;

        <span class="keywordflow">if</span> ( headers_sent() )
        {
            <span class="comment">// disable error log if we are running in a CLI environment</span>
            <span class="comment">// @codeCoverageIgnoreStart</span>
            <span class="keywordflow">if</span> ( php_sapi_name() != <span class="stringliteral">&#39;cli&#39;</span> )
                <a class="code" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11">CPSLog::error</a>( __METHOD__, <span class="stringliteral">&#39;Could not set cookie. Headers already sent.&#39;</span> );
            <span class="comment">// @codeCoverageIgnoreEnd</span>

        <span class="comment">// ignore for code coverage as we will never be able to setcookie in a CLI</span>
        <span class="comment">// environment</span>
        <span class="comment">// @codeCoverageIgnoreStart</span>
        }
        <span class="keywordflow">else</span>
        {
            setcookie( $_cookieName, $_value, $_expires, <span class="charliteral">&#39;/&#39;</span>, $_domain );
        }
        <span class="comment">// @codeCoverageIgnoreEnd</span>
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a818b7c88630a9f0a6318aecb55160c38_cgraph.png" border="0" usemap="#classCPSFacebook_a818b7c88630a9f0a6318aecb55160c38_cgraph" alt=""/></div>
<map name="classCPSFacebook_a818b7c88630a9f0a6318aecb55160c38_cgraph" id="classCPSFacebook_a818b7c88630a9f0a6318aecb55160c38_cgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a69c13b5e61215433a48b9a6742f16660" title="_getSessionCookieName" alt="" coords="231,5,412,35"/><area shape="rect" id="node5" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11" title="CPSLog::error" alt="" coords="267,59,376,88"/><area shape="rect" id="node13" href="classCPSFacebook.html#ab0b9668fe081b3b7eb36307bcb7688e8" title="getBaseDomain" alt="" coords="259,112,384,141"/><area shape="rect" id="node7" href="classCPSLog.html#a4c3be4120dc6dee2c97a6dde9428ac76" title="CPSLog::log" alt="" coords="461,59,560,88"/><area shape="rect" id="node9" href="classCPSLog.html#a66291d27410fbf7ba4978f513c13e6f0" title="CPSLog::_getCallingMethod" alt="" coords="608,32,805,61"/><area shape="rect" id="node11" href="classCPSLog.html#a8471574061e9457cc6e5be7c151b9cfb" title="CPSLog::_processMessage" alt="" coords="611,85,803,115"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a818b7c88630a9f0a6318aecb55160c38_icgraph.png" border="0" usemap="#classCPSFacebook_a818b7c88630a9f0a6318aecb55160c38_icgraph" alt=""/></div>
<map name="classCPSFacebook_a818b7c88630a9f0a6318aecb55160c38_icgraph" id="classCPSFacebook_a818b7c88630a9f0a6318aecb55160c38_icgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a83fd4ea8255385abd72c27a762691e2d" title="setSession" alt="" coords="231,32,321,61"/><area shape="rect" id="node5" href="classCPSFacebook.html#a3fc1ae91766eca08b5a6fc48a6c6ebe2" title="_graph" alt="" coords="865,5,932,35"/><area shape="rect" id="node7" href="classCPSFacebook.html#aefa4c5bd150e2a7d525576d7959c6911" title="getSession" alt="" coords="371,84,464,113"/><area shape="rect" id="node9" href="classCPSFacebook.html#a5d251c70a3f9f9daaff7f00ec5f894c0" title="getAccessToken" alt="" coords="513,57,636,87"/><area shape="rect" id="node18" href="classCPSFacebook.html#ade0c69c82aebca82fd8bd98ad74439f2" title="getLogoutUrl" alt="" coords="692,111,796,140"/><area shape="rect" id="node21" href="classCPSFacebook.html#ae81b7186fb97a7c6457edcc68c9aa2ef" title="getUser" alt="" coords="539,161,611,191"/><area shape="rect" id="node11" href="classCPSFacebook.html#a0519e81c281afecdca2d58dd75d164f0" title="_oauthRequest" alt="" coords="685,57,803,87"/><area shape="rect" id="node14" href="classCPSFacebook.html#a896336f5000bed98a0e59b3b38b8b8e1" title="_restserver" alt="" coords="852,59,945,88"/><area shape="rect" id="node16" href="classCPSFacebook.html#aa238fcc5cb30759876aa89cd2e0711c1" title="api" alt="" coords="996,59,1036,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7dd3fb0ddff204e195f91b8719104a61"></a><!-- doxytag: member="CPSFacebook::_validateSessionObject" ref="a7dd3fb0ddff204e195f91b8719104a61" args="($session)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_validateSessionObject </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>session</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Validates a session_version=3 style session object.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$session the session object </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array the session object if it validates, null otherwise </dd></dl>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00725">725</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> = null;

        <span class="comment">//  Make sure some essential fields exist</span>
        <span class="keywordflow">if</span> ( is_array( $session ) &amp;&amp; isset( $session[<span class="stringliteral">&#39;uid&#39;</span>], $session[<span class="stringliteral">&#39;access_token&#39;</span>], $session[<span class="stringliteral">&#39;sig&#39;</span>] ) )
        {
            <span class="comment">//  Validate the signature</span>
            $_noSigSession = $session;
            unset( $_noSigSession[<span class="stringliteral">&#39;sig&#39;</span>] );

            $_expectedSig = <a class="code" href="classCPSFacebook.html#a9a1bb3c0a4009df8453e84cb39506723">self::_generateSignature</a>(
                $_noSigSession,
                $this-&gt;_apiSecretKey
            );

            <span class="keywordflow">if</span> ( $session[<span class="stringliteral">&#39;sig&#39;</span>] != $_expectedSig )
            {
                <span class="comment">//  Disable error log if we are running in a CLI environment</span>
                <span class="comment">//  @codeCoverageIgnoreStart</span>
                <span class="keywordflow">if</span> ( php_sapi_name() != <span class="stringliteral">&#39;cli&#39;</span> )
                    <a class="code" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11">CPSLog::error</a>( __METHOD__, <span class="stringliteral">&#39;Got invalid session signature in cookie.&#39;</span> );
                <span class="comment">// @codeCoverageIgnoreEnd</span>
                $session = null;
            }

            <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> = $session;
        }

        <span class="keywordflow">return</span> <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a>;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a7dd3fb0ddff204e195f91b8719104a61_cgraph.png" border="0" usemap="#classCPSFacebook_a7dd3fb0ddff204e195f91b8719104a61_cgraph" alt=""/></div>
<map name="classCPSFacebook_a7dd3fb0ddff204e195f91b8719104a61_cgraph" id="classCPSFacebook_a7dd3fb0ddff204e195f91b8719104a61_cgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a9a1bb3c0a4009df8453e84cb39506723" title="_generateSignature" alt="" coords="224,5,373,35"/><area shape="rect" id="node5" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11" title="CPSLog::error" alt="" coords="244,59,353,88"/><area shape="rect" id="node7" href="classCPSLog.html#a4c3be4120dc6dee2c97a6dde9428ac76" title="CPSLog::log" alt="" coords="421,59,520,88"/><area shape="rect" id="node9" href="classCPSLog.html#a66291d27410fbf7ba4978f513c13e6f0" title="CPSLog::_getCallingMethod" alt="" coords="568,32,765,61"/><area shape="rect" id="node11" href="classCPSLog.html#a8471574061e9457cc6e5be7c151b9cfb" title="CPSLog::_processMessage" alt="" coords="571,85,763,115"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a7dd3fb0ddff204e195f91b8719104a61_icgraph.png" border="0" usemap="#classCPSFacebook_a7dd3fb0ddff204e195f91b8719104a61_icgraph" alt=""/></div>
<map name="classCPSFacebook_a7dd3fb0ddff204e195f91b8719104a61_icgraph" id="classCPSFacebook_a7dd3fb0ddff204e195f91b8719104a61_icgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#aefa4c5bd150e2a7d525576d7959c6911" title="getSession" alt="" coords="365,84,459,113"/><area shape="rect" id="node20" href="classCPSFacebook.html#a83fd4ea8255385abd72c27a762691e2d" title="setSession" alt="" coords="225,136,316,165"/><area shape="rect" id="node5" href="classCPSFacebook.html#a5d251c70a3f9f9daaff7f00ec5f894c0" title="getAccessToken" alt="" coords="508,5,631,35"/><area shape="rect" id="node15" href="classCPSFacebook.html#ade0c69c82aebca82fd8bd98ad74439f2" title="getLogoutUrl" alt="" coords="687,59,791,88"/><area shape="rect" id="node18" href="classCPSFacebook.html#ae81b7186fb97a7c6457edcc68c9aa2ef" title="getUser" alt="" coords="533,109,605,139"/><area shape="rect" id="node7" href="classCPSFacebook.html#a0519e81c281afecdca2d58dd75d164f0" title="_oauthRequest" alt="" coords="680,5,797,35"/><area shape="rect" id="node9" href="classCPSFacebook.html#a3fc1ae91766eca08b5a6fc48a6c6ebe2" title="_graph" alt="" coords="860,109,927,139"/><area shape="rect" id="node11" href="classCPSFacebook.html#a896336f5000bed98a0e59b3b38b8b8e1" title="_restserver" alt="" coords="847,5,940,35"/><area shape="rect" id="node13" href="classCPSFacebook.html#aa238fcc5cb30759876aa89cd2e0711c1" title="api" alt="" coords="991,5,1031,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa238fcc5cb30759876aa89cd2e0711c1"></a><!-- doxytag: member="CPSFacebook::api" ref="aa238fcc5cb30759876aa89cd2e0711c1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">api </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Make an API call.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$paramList the API call parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the decoded response </dd></dl>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00495">495</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        $_args = func_get_args();

        <span class="keywordflow">if</span> ( is_array( $_args ) &amp;&amp; count( $_args ) &amp;&amp; is_array( $_args[0] ) )
            <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classCPSFacebook.html#a896336f5000bed98a0e59b3b38b8b8e1">_restserver</a>( $_args[0] );

        <span class="keywordflow">return</span> call_user_func_array( <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>( &amp;$this, <span class="stringliteral">&#39;_graph&#39;</span> ), $_args );
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_aa238fcc5cb30759876aa89cd2e0711c1_cgraph.png" border="0" usemap="#classCPSFacebook_aa238fcc5cb30759876aa89cd2e0711c1_cgraph" alt=""/></div>
<map name="classCPSFacebook_aa238fcc5cb30759876aa89cd2e0711c1_cgraph" id="classCPSFacebook_aa238fcc5cb30759876aa89cd2e0711c1_cgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a896336f5000bed98a0e59b3b38b8b8e1" title="_restserver" alt="" coords="97,59,191,88"/><area shape="rect" id="node5" href="classCPSFacebook.html#a0e0a4234900c6b099259f0fc0ab65a67" title="_getApiUrl" alt="" coords="255,32,343,61"/><area shape="rect" id="node9" href="classCPSFacebook.html#a0519e81c281afecdca2d58dd75d164f0" title="_oauthRequest" alt="" coords="240,85,357,115"/><area shape="rect" id="node7" href="classCPSFacebook.html#a719203fb2a7e839997705e75e0bcc9a1" title="_getUrl" alt="" coords="435,32,501,61"/><area shape="rect" id="node11" href="classCPSFacebook.html#ae101534735ff109fc2b6ce694033e42e" title="_makeRequest" alt="" coords="411,85,525,115"/><area shape="rect" id="node13" href="classCPSFacebook.html#a5d251c70a3f9f9daaff7f00ec5f894c0" title="getAccessToken" alt="" coords="407,139,529,168"/><area shape="rect" id="node15" href="classCPSFacebook.html#aefa4c5bd150e2a7d525576d7959c6911" title="getSession" alt="" coords="579,139,672,168"/><area shape="rect" id="node17" href="classCPSFacebook.html#ad095f729036d48a23d321839f3ea7853" title="_createSessionFromSignedRequest" alt="" coords="929,5,1175,35"/><area shape="rect" id="node21" href="classCPSFacebook.html#a69c13b5e61215433a48b9a6742f16660" title="_getSessionCookieName" alt="" coords="1225,165,1407,195"/><area shape="rect" id="node23" href="classCPSFacebook.html#ad8d438fe02fb781abe815fd5972795ff" title="_getUnsignedSession" alt="" coords="720,269,880,299"/><area shape="rect" id="node25" href="classCPSFacebook.html#a7dd3fb0ddff204e195f91b8719104a61" title="_validateSessionObject" alt="" coords="967,59,1137,88"/><area shape="rect" id="node36" href="classCPSFacebook.html#aa89cc38937ab8f8f132f3712c49c6e37" title="getSignedRequest" alt="" coords="731,216,869,245"/><area shape="rect" id="node46" href="classCPSFacebook.html#a83fd4ea8255385abd72c27a762691e2d" title="setSession" alt="" coords="755,112,845,141"/><area shape="rect" id="node19" href="classCPSFacebook.html#a9a1bb3c0a4009df8453e84cb39506723" title="_generateSignature" alt="" coords="1241,5,1391,35"/><area shape="rect" id="node28" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11" title="CPSLog::error" alt="" coords="1261,59,1371,88"/><area shape="rect" id="node30" href="classCPSLog.html#a4c3be4120dc6dee2c97a6dde9428ac76" title="CPSLog::log" alt="" coords="1456,165,1555,195"/><area shape="rect" id="node32" href="classCPSLog.html#a66291d27410fbf7ba4978f513c13e6f0" title="CPSLog::_getCallingMethod" alt="" coords="1603,139,1800,168"/><area shape="rect" id="node34" href="classCPSLog.html#a8471574061e9457cc6e5be7c151b9cfb" title="CPSLog::_processMessage" alt="" coords="1605,192,1797,221"/><area shape="rect" id="node38" href="classCPSFacebook.html#a2b963de2da5e5d03684f94c360f948ea" title="_parseSignedRequest" alt="" coords="972,217,1132,247"/><area shape="rect" id="node40" href="classCPSFacebook.html#a7cc54c00b8b799176e515bd2d26a6868" title="_base64UrlDecode" alt="" coords="1245,219,1387,248"/><area shape="rect" id="node43" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955" title="CPSLog::trace" alt="" coords="1260,272,1372,301"/><area shape="rect" id="node48" href="classCPSFacebook.html#a818b7c88630a9f0a6318aecb55160c38" title="_setCookieFromSession" alt="" coords="965,112,1139,141"/><area shape="rect" id="node52" href="classCPSFacebook.html#ab0b9668fe081b3b7eb36307bcb7688e8" title="getBaseDomain" alt="" coords="1253,112,1379,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5d251c70a3f9f9daaff7f00ec5f894c0"></a><!-- doxytag: member="CPSFacebook::getAccessToken" ref="a5d251c70a3f9f9daaff7f00ec5f894c0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getAccessToken </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets a OAuth access token.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>string the access token </dd></dl>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00395">395</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> = $this-&gt;<a class="code" href="classCPSFacebook.html#aefa4c5bd150e2a7d525576d7959c6911">getSession</a>();

        <span class="comment">//  Either user session signed, or app signed</span>
        <span class="keywordflow">if</span> ( <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> )
            <span class="keywordflow">return</span> PS::o( <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a>, <span class="stringliteral">&#39;access_token&#39;</span> );

        <span class="keywordflow">return</span> $this-&gt;_appId . <span class="charliteral">&#39;|&#39;</span> . $this-&gt;_apiSecretKey;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a5d251c70a3f9f9daaff7f00ec5f894c0_cgraph.png" border="0" usemap="#classCPSFacebook_a5d251c70a3f9f9daaff7f00ec5f894c0_cgraph" alt=""/></div>
<map name="classCPSFacebook_a5d251c70a3f9f9daaff7f00ec5f894c0_cgraph" id="classCPSFacebook_a5d251c70a3f9f9daaff7f00ec5f894c0_cgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#aefa4c5bd150e2a7d525576d7959c6911" title="getSession" alt="" coords="179,139,272,168"/><area shape="rect" id="node5" href="classCPSFacebook.html#ad095f729036d48a23d321839f3ea7853" title="_createSessionFromSignedRequest" alt="" coords="529,5,775,35"/><area shape="rect" id="node9" href="classCPSFacebook.html#a69c13b5e61215433a48b9a6742f16660" title="_getSessionCookieName" alt="" coords="825,165,1007,195"/><area shape="rect" id="node11" href="classCPSFacebook.html#ad8d438fe02fb781abe815fd5972795ff" title="_getUnsignedSession" alt="" coords="320,269,480,299"/><area shape="rect" id="node13" href="classCPSFacebook.html#a7dd3fb0ddff204e195f91b8719104a61" title="_validateSessionObject" alt="" coords="567,59,737,88"/><area shape="rect" id="node24" href="classCPSFacebook.html#aa89cc38937ab8f8f132f3712c49c6e37" title="getSignedRequest" alt="" coords="331,216,469,245"/><area shape="rect" id="node34" href="classCPSFacebook.html#a83fd4ea8255385abd72c27a762691e2d" title="setSession" alt="" coords="355,112,445,141"/><area shape="rect" id="node7" href="classCPSFacebook.html#a9a1bb3c0a4009df8453e84cb39506723" title="_generateSignature" alt="" coords="841,5,991,35"/><area shape="rect" id="node16" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11" title="CPSLog::error" alt="" coords="861,59,971,88"/><area shape="rect" id="node18" href="classCPSLog.html#a4c3be4120dc6dee2c97a6dde9428ac76" title="CPSLog::log" alt="" coords="1056,165,1155,195"/><area shape="rect" id="node20" href="classCPSLog.html#a66291d27410fbf7ba4978f513c13e6f0" title="CPSLog::_getCallingMethod" alt="" coords="1203,139,1400,168"/><area shape="rect" id="node22" href="classCPSLog.html#a8471574061e9457cc6e5be7c151b9cfb" title="CPSLog::_processMessage" alt="" coords="1205,192,1397,221"/><area shape="rect" id="node26" href="classCPSFacebook.html#a2b963de2da5e5d03684f94c360f948ea" title="_parseSignedRequest" alt="" coords="572,217,732,247"/><area shape="rect" id="node28" href="classCPSFacebook.html#a7cc54c00b8b799176e515bd2d26a6868" title="_base64UrlDecode" alt="" coords="845,219,987,248"/><area shape="rect" id="node31" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955" title="CPSLog::trace" alt="" coords="860,272,972,301"/><area shape="rect" id="node36" href="classCPSFacebook.html#a818b7c88630a9f0a6318aecb55160c38" title="_setCookieFromSession" alt="" coords="565,112,739,141"/><area shape="rect" id="node40" href="classCPSFacebook.html#ab0b9668fe081b3b7eb36307bcb7688e8" title="getBaseDomain" alt="" coords="853,112,979,141"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a5d251c70a3f9f9daaff7f00ec5f894c0_icgraph.png" border="0" usemap="#classCPSFacebook_a5d251c70a3f9f9daaff7f00ec5f894c0_icgraph" alt=""/></div>
<map name="classCPSFacebook_a5d251c70a3f9f9daaff7f00ec5f894c0_icgraph" id="classCPSFacebook_a5d251c70a3f9f9daaff7f00ec5f894c0_icgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a0519e81c281afecdca2d58dd75d164f0" title="_oauthRequest" alt="" coords="179,32,296,61"/><area shape="rect" id="node11" href="classCPSFacebook.html#ade0c69c82aebca82fd8bd98ad74439f2" title="getLogoutUrl" alt="" coords="185,85,289,115"/><area shape="rect" id="node5" href="classCPSFacebook.html#a3fc1ae91766eca08b5a6fc48a6c6ebe2" title="_graph" alt="" coords="359,5,425,35"/><area shape="rect" id="node7" href="classCPSFacebook.html#a896336f5000bed98a0e59b3b38b8b8e1" title="_restserver" alt="" coords="345,59,439,88"/><area shape="rect" id="node9" href="classCPSFacebook.html#aa238fcc5cb30759876aa89cd2e0711c1" title="api" alt="" coords="489,59,529,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aca0af56a33a1d36ef2c9c3283d842d9c"></a><!-- doxytag: member="CPSFacebook::getApiCallbackUrl" ref="aca0af56a33a1d36ef2c9c3283d842d9c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getApiCallbackUrl </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00194">194</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_apiCallbackUrl; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="afdd5b6b54737f556694975ca3d93d773"></a><!-- doxytag: member="CPSFacebook::getApiKey" ref="afdd5b6b54737f556694975ca3d93d773" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getApiKey </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classCPSApiComponent.html#afdd5b6b54737f556694975ca3d93d773">CPSApiComponent</a>.</p>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00180">180</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_apiKey; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac01814ac1bd26175f55f538e3a4752cc"></a><!-- doxytag: member="CPSFacebook::getApiSecretKey" ref="ac01814ac1bd26175f55f538e3a4752cc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getApiSecretKey </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00187">187</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_apiSecretKey; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3686abfe34c828287edc1d6a8f77367d"></a><!-- doxytag: member="CPSFacebook::getAppId" ref="a3686abfe34c828287edc1d6a8f77367d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getAppId </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00152">152</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_appId; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a36da26e368f80dfa10ab2fcedde8b12b"></a><!-- doxytag: member="CPSFacebook::getAppName" ref="a36da26e368f80dfa10ab2fcedde8b12b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getAppName </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00159">159</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_appName; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9784c3b68605f689b41f10aa28fffcca"></a><!-- doxytag: member="CPSFacebook::getAppPermissions" ref="a9784c3b68605f689b41f10aa28fffcca" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getAppPermissions </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00173">173</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_appPermissions; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aec474172017ccece67a1c46e1a5a3460"></a><!-- doxytag: member="CPSFacebook::getAppUrl" ref="aec474172017ccece67a1c46e1a5a3460" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getAppUrl </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00166">166</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_appUrl; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab0b9668fe081b3b7eb36307bcb7688e8"></a><!-- doxytag: member="CPSFacebook::getBaseDomain" ref="ab0b9668fe081b3b7eb36307bcb7688e8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getBaseDomain </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00231">231</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_baseDomain; }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_ab0b9668fe081b3b7eb36307bcb7688e8_icgraph.png" border="0" usemap="#classCPSFacebook_ab0b9668fe081b3b7eb36307bcb7688e8_icgraph" alt=""/></div>
<map name="classCPSFacebook_ab0b9668fe081b3b7eb36307bcb7688e8_icgraph" id="classCPSFacebook_ab0b9668fe081b3b7eb36307bcb7688e8_icgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a818b7c88630a9f0a6318aecb55160c38" title="_setCookieFromSession" alt="" coords="180,32,353,61"/><area shape="rect" id="node5" href="classCPSFacebook.html#a83fd4ea8255385abd72c27a762691e2d" title="setSession" alt="" coords="404,32,495,61"/><area shape="rect" id="node7" href="classCPSFacebook.html#a3fc1ae91766eca08b5a6fc48a6c6ebe2" title="_graph" alt="" coords="1039,5,1105,35"/><area shape="rect" id="node9" href="classCPSFacebook.html#aefa4c5bd150e2a7d525576d7959c6911" title="getSession" alt="" coords="544,84,637,113"/><area shape="rect" id="node11" href="classCPSFacebook.html#a5d251c70a3f9f9daaff7f00ec5f894c0" title="getAccessToken" alt="" coords="687,57,809,87"/><area shape="rect" id="node20" href="classCPSFacebook.html#ade0c69c82aebca82fd8bd98ad74439f2" title="getLogoutUrl" alt="" coords="865,111,969,140"/><area shape="rect" id="node23" href="classCPSFacebook.html#ae81b7186fb97a7c6457edcc68c9aa2ef" title="getUser" alt="" coords="712,161,784,191"/><area shape="rect" id="node13" href="classCPSFacebook.html#a0519e81c281afecdca2d58dd75d164f0" title="_oauthRequest" alt="" coords="859,57,976,87"/><area shape="rect" id="node16" href="classCPSFacebook.html#a896336f5000bed98a0e59b3b38b8b8e1" title="_restserver" alt="" coords="1025,59,1119,88"/><area shape="rect" id="node18" href="classCPSFacebook.html#aa238fcc5cb30759876aa89cd2e0711c1" title="api" alt="" coords="1169,59,1209,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab002401bbd20f1d945afc24377102294"></a><!-- doxytag: member="CPSFacebook::getEnableCookieSupport" ref="ab002401bbd20f1d945afc24377102294" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getEnableCookieSupport </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00224">224</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_enableCookieSupport; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a11a2fe55342959e85616440f6287f24a"></a><!-- doxytag: member="CPSFacebook::getFileUploadSupport" ref="a11a2fe55342959e85616440f6287f24a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getFileUploadSupport </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00238">238</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_fileUploadSupport; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac6277cff127391498ddceffc115a6f94"></a><!-- doxytag: member="CPSFacebook::getLoginStatusUrl" ref="ac6277cff127391498ddceffc115a6f94" args="($paramList=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getLoginStatusUrl </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>paramList</em> = <code><a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>()</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a login status URL to fetch the status from facebook.</p>
<p>The parameters:</p>
<ul>
<li>ok_session: the URL to go to if a session is found</li>
<li>no_session: the URL to go to if the user is not connected</li>
<li>no_user: the URL to go to if the user is not signed into facebook</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$paramList provide custom parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string the URL for the logout flow </dd></dl>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00474">474</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classCPSFacebook.html#a719203fb2a7e839997705e75e0bcc9a1">_getUrl</a>(
            <span class="stringliteral">&#39;www&#39;</span>,
            <span class="stringliteral">&#39;extern/login_status.php&#39;</span>,
            array_merge( <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
                <span class="stringliteral">&#39;api_key&#39;</span> =&gt; $this-&gt;_appId,
                <span class="stringliteral">&#39;no_session&#39;</span> =&gt; $this-&gt;<a class="code" href="classCPSFacebook.html#a1d2b68391ad44fe79ecef5ecd09feec3">_getCurrentUrl</a>(),
                <span class="stringliteral">&#39;no_user&#39;</span> =&gt; $this-&gt;<a class="code" href="classCPSFacebook.html#a1d2b68391ad44fe79ecef5ecd09feec3">_getCurrentUrl</a>(),
                <span class="stringliteral">&#39;ok_session&#39;</span> =&gt; $this-&gt;<a class="code" href="classCPSFacebook.html#a1d2b68391ad44fe79ecef5ecd09feec3">_getCurrentUrl</a>(),
                <span class="stringliteral">&#39;session_version&#39;</span> =&gt; 3,
            ), $paramList )
        );
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_ac6277cff127391498ddceffc115a6f94_cgraph.png" border="0" usemap="#classCPSFacebook_ac6277cff127391498ddceffc115a6f94_cgraph" alt=""/></div>
<map name="classCPSFacebook_ac6277cff127391498ddceffc115a6f94_cgraph" id="classCPSFacebook_ac6277cff127391498ddceffc115a6f94_cgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a1d2b68391ad44fe79ecef5ecd09feec3" title="_getCurrentUrl" alt="" coords="193,5,308,35"/><area shape="rect" id="node5" href="classCPSFacebook.html#a719203fb2a7e839997705e75e0bcc9a1" title="_getUrl" alt="" coords="217,59,284,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3fc2a3b447d666e9f8607da999a1ea2d"></a><!-- doxytag: member="CPSFacebook::getLoginUrl" ref="a3fc2a3b447d666e9f8607da999a1ea2d" args="($paramList=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getLoginUrl </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>paramList</em> = <code><a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>()</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a Login URL for use with redirects. By default, full page redirect is assumed. If you are using the generated URL with a window.open() call in JavaScript, you can pass in display=popup as part of the $paramList.</p>
<p>The parameters:</p>
<ul>
<li>next: the url to go to after a successful login</li>
<li>cancel_url: the url to go to after the user cancels</li>
<li>req_perms: comma separated list of requested extended perms</li>
<li>display: can be "page" (default, full page) or "popup"</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Array</em>&nbsp;</td><td>$paramList provide custom parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>String the URL for the login flow </dd></dl>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00420">420</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        $_currentUrl = $this-&gt;<a class="code" href="classCPSFacebook.html#a1d2b68391ad44fe79ecef5ecd09feec3">_getCurrentUrl</a>();

        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classCPSFacebook.html#a719203fb2a7e839997705e75e0bcc9a1">_getUrl</a>(
            <span class="stringliteral">&#39;www&#39;</span>,
            <span class="stringliteral">&#39;login.php&#39;</span>,
            array_merge( <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
                <span class="stringliteral">&#39;api_key&#39;</span> =&gt; $this-&gt;_appId,
                <span class="stringliteral">&#39;cancel_url&#39;</span> =&gt; $_currentUrl,
                <span class="stringliteral">&#39;display&#39;</span> =&gt; <span class="stringliteral">&#39;page&#39;</span>,
                <span class="stringliteral">&#39;fbconnect&#39;</span> =&gt; 1,
                <span class="stringliteral">&#39;next&#39;</span> =&gt; $_currentUrl,
                <span class="stringliteral">&#39;return_session&#39;</span> =&gt; 1,
                <span class="stringliteral">&#39;session_version&#39;</span> =&gt; 3,
                <span class="charliteral">&#39;v&#39;</span> =&gt; <span class="stringliteral">&#39;1.0&#39;</span>,
            ), $paramList )
        );
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a3fc2a3b447d666e9f8607da999a1ea2d_cgraph.png" border="0" usemap="#classCPSFacebook_a3fc2a3b447d666e9f8607da999a1ea2d_cgraph" alt=""/></div>
<map name="classCPSFacebook_a3fc2a3b447d666e9f8607da999a1ea2d_cgraph" id="classCPSFacebook_a3fc2a3b447d666e9f8607da999a1ea2d_cgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a1d2b68391ad44fe79ecef5ecd09feec3" title="_getCurrentUrl" alt="" coords="151,5,265,35"/><area shape="rect" id="node5" href="classCPSFacebook.html#a719203fb2a7e839997705e75e0bcc9a1" title="_getUrl" alt="" coords="175,59,241,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ade0c69c82aebca82fd8bd98ad74439f2"></a><!-- doxytag: member="CPSFacebook::getLogoutUrl" ref="ade0c69c82aebca82fd8bd98ad74439f2" args="($paramList=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getLogoutUrl </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>paramList</em> = <code><a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>()</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a Logout URL suitable for use with redirects.</p>
<p>The parameters:</p>
<ul>
<li>next: the url to go to after a successful logout</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$paramList provide custom parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string the URL for the logout flow </dd></dl>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00449">449</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> = $this-&gt;<a class="code" href="classCPSFacebook.html#aefa4c5bd150e2a7d525576d7959c6911">getSession</a>();

        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classCPSFacebook.html#a719203fb2a7e839997705e75e0bcc9a1">_getUrl</a>(
            <span class="stringliteral">&#39;www&#39;</span>,
            <span class="stringliteral">&#39;logout.php&#39;</span>,
            array_merge( <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
                <span class="stringliteral">&#39;next&#39;</span> =&gt; $this-&gt;<a class="code" href="classCPSFacebook.html#a1d2b68391ad44fe79ecef5ecd09feec3">_getCurrentUrl</a>(),
                <span class="stringliteral">&#39;access_token&#39;</span> =&gt; $this-&gt;<a class="code" href="classCPSFacebook.html#a5d251c70a3f9f9daaff7f00ec5f894c0">getAccessToken</a>(),
            ), $paramList )
        );
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_ade0c69c82aebca82fd8bd98ad74439f2_cgraph.png" border="0" usemap="#classCPSFacebook_ade0c69c82aebca82fd8bd98ad74439f2_cgraph" alt=""/></div>
<map name="classCPSFacebook_ade0c69c82aebca82fd8bd98ad74439f2_cgraph" id="classCPSFacebook_ade0c69c82aebca82fd8bd98ad74439f2_cgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a1d2b68391ad44fe79ecef5ecd09feec3" title="_getCurrentUrl" alt="" coords="165,7,280,36"/><area shape="rect" id="node5" href="classCPSFacebook.html#a719203fb2a7e839997705e75e0bcc9a1" title="_getUrl" alt="" coords="189,60,256,89"/><area shape="rect" id="node7" href="classCPSFacebook.html#a5d251c70a3f9f9daaff7f00ec5f894c0" title="getAccessToken" alt="" coords="161,164,284,193"/><area shape="rect" id="node9" href="classCPSFacebook.html#aefa4c5bd150e2a7d525576d7959c6911" title="getSession" alt="" coords="333,139,427,168"/><area shape="rect" id="node11" href="classCPSFacebook.html#ad095f729036d48a23d321839f3ea7853" title="_createSessionFromSignedRequest" alt="" coords="684,5,929,35"/><area shape="rect" id="node15" href="classCPSFacebook.html#a69c13b5e61215433a48b9a6742f16660" title="_getSessionCookieName" alt="" coords="980,165,1161,195"/><area shape="rect" id="node17" href="classCPSFacebook.html#ad8d438fe02fb781abe815fd5972795ff" title="_getUnsignedSession" alt="" coords="475,269,635,299"/><area shape="rect" id="node19" href="classCPSFacebook.html#a7dd3fb0ddff204e195f91b8719104a61" title="_validateSessionObject" alt="" coords="721,59,892,88"/><area shape="rect" id="node30" href="classCPSFacebook.html#aa89cc38937ab8f8f132f3712c49c6e37" title="getSignedRequest" alt="" coords="485,216,624,245"/><area shape="rect" id="node40" href="classCPSFacebook.html#a83fd4ea8255385abd72c27a762691e2d" title="setSession" alt="" coords="509,112,600,141"/><area shape="rect" id="node13" href="classCPSFacebook.html#a9a1bb3c0a4009df8453e84cb39506723" title="_generateSignature" alt="" coords="996,5,1145,35"/><area shape="rect" id="node22" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11" title="CPSLog::error" alt="" coords="1016,59,1125,88"/><area shape="rect" id="node24" href="classCPSLog.html#a4c3be4120dc6dee2c97a6dde9428ac76" title="CPSLog::log" alt="" coords="1211,165,1309,195"/><area shape="rect" id="node26" href="classCPSLog.html#a66291d27410fbf7ba4978f513c13e6f0" title="CPSLog::_getCallingMethod" alt="" coords="1357,139,1555,168"/><area shape="rect" id="node28" href="classCPSLog.html#a8471574061e9457cc6e5be7c151b9cfb" title="CPSLog::_processMessage" alt="" coords="1360,192,1552,221"/><area shape="rect" id="node32" href="classCPSFacebook.html#a2b963de2da5e5d03684f94c360f948ea" title="_parseSignedRequest" alt="" coords="727,217,887,247"/><area shape="rect" id="node34" href="classCPSFacebook.html#a7cc54c00b8b799176e515bd2d26a6868" title="_base64UrlDecode" alt="" coords="1000,219,1141,248"/><area shape="rect" id="node37" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955" title="CPSLog::trace" alt="" coords="1015,272,1127,301"/><area shape="rect" id="node42" href="classCPSFacebook.html#a818b7c88630a9f0a6318aecb55160c38" title="_setCookieFromSession" alt="" coords="720,112,893,141"/><area shape="rect" id="node46" href="classCPSFacebook.html#ab0b9668fe081b3b7eb36307bcb7688e8" title="getBaseDomain" alt="" coords="1008,112,1133,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab3989d2377763fb40cb29086ef272f6e"></a><!-- doxytag: member="CPSFacebook::getPhotoList" ref="ab3989d2377763fb40cb29086ef272f6e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getPhotoList </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00252">252</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> self::$_photoList; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af338297425aef1a6322e4f096b0b8a34"></a><!-- doxytag: member="CPSFacebook::getRedirectToLoginUrl" ref="af338297425aef1a6322e4f096b0b8a34" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getRedirectToLoginUrl </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00245">245</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_redirectToLoginUrl; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aefa4c5bd150e2a7d525576d7959c6911"></a><!-- doxytag: member="CPSFacebook::getSession" ref="aefa4c5bd150e2a7d525576d7959c6911" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getSession </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the session object. This will automatically look for a signed session sent via the Cookie or Query Parameters if needed.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>array the session </dd></dl>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00331">331</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( ! $this-&gt;_sessionLoaded )
        {
            <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> = null;
            $_writeCookie = <span class="keyword">true</span>;

            <span class="comment">//  Try loading session from signed_request in $_REQUEST</span>
            <span class="keywordflow">if</span> ( <a class="code" href="classCPSFacebook.html#a6b432430b58baf6351a7507208363d80">$_signedRequest</a> = $this-&gt;<a class="code" href="classCPSFacebook.html#aa89cc38937ab8f8f132f3712c49c6e37">getSignedRequest</a>() )
                <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> = $this-&gt;<a class="code" href="classCPSFacebook.html#ad095f729036d48a23d321839f3ea7853">_createSessionFromSignedRequest</a>( <a class="code" href="classCPSFacebook.html#a6b432430b58baf6351a7507208363d80">$_signedRequest</a> );

            <span class="comment">//  Try loading session from $_REQUEST</span>
            <span class="keywordflow">if</span> ( ! <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> &amp;&amp; <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> = PS::o( $_REQUEST, <span class="stringliteral">&#39;session&#39;</span> ) )
            {
                <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> = json_decode( get_magic_quotes_gpc() ? stripslashes( <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> ) : <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a>, <span class="keyword">true</span> );
                <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> = $this-&gt;<a class="code" href="classCPSFacebook.html#a7dd3fb0ddff204e195f91b8719104a61">_validateSessionObject</a>( <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> );
            }

            <span class="comment">//  Try getting unsigned fb_sig request...</span>
            <span class="keywordflow">if</span> ( ! <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> )
            {
                <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> = $this-&gt;<a class="code" href="classCPSFacebook.html#ad8d438fe02fb781abe815fd5972795ff">_getUnsignedSession</a>();
                <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> = $this-&gt;<a class="code" href="classCPSFacebook.html#a7dd3fb0ddff204e195f91b8719104a61">_validateSessionObject</a>( <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> );
            }

            <span class="comment">//  Try loading session from cookie if necessary</span>
            <span class="keywordflow">if</span> ( ! <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> &amp;&amp; $this-&gt;_enableCookieSupport )
            {
                $_name = $this-&gt;<a class="code" href="classCPSFacebook.html#a69c13b5e61215433a48b9a6742f16660">_getSessionCookieName</a>();

                <span class="keywordflow">if</span> ( $_cookie = PS::o( $_COOKIE, $_name ) )
                {
                    <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();
                    parse_str( trim( get_magic_quotes_gpc() ? stripslashes( $_cookie ) : $_cookie, <span class="charliteral">&#39;&quot;&#39;</span> ), <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> );
                    <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> = $this-&gt;<a class="code" href="classCPSFacebook.html#a7dd3fb0ddff204e195f91b8719104a61">_validateSessionObject</a>( <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> );

                    <span class="comment">//  Write only if we need to delete a invalid session cookie</span>
                    $_writeCookie = empty( <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> );
                }
            }

            $this-&gt;<a class="code" href="classCPSFacebook.html#a83fd4ea8255385abd72c27a762691e2d">setSession</a>( <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a>, $_writeCookie );
        }

        <span class="keywordflow">return</span> $this-&gt;_session;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_aefa4c5bd150e2a7d525576d7959c6911_cgraph.png" border="0" usemap="#classCPSFacebook_aefa4c5bd150e2a7d525576d7959c6911_cgraph" alt=""/></div>
<map name="classCPSFacebook_aefa4c5bd150e2a7d525576d7959c6911_cgraph" id="classCPSFacebook_aefa4c5bd150e2a7d525576d7959c6911_cgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#ad095f729036d48a23d321839f3ea7853" title="_createSessionFromSignedRequest" alt="" coords="356,5,601,35"/><area shape="rect" id="node7" href="classCPSFacebook.html#a69c13b5e61215433a48b9a6742f16660" title="_getSessionCookieName" alt="" coords="652,165,833,195"/><area shape="rect" id="node9" href="classCPSFacebook.html#ad8d438fe02fb781abe815fd5972795ff" title="_getUnsignedSession" alt="" coords="147,269,307,299"/><area shape="rect" id="node11" href="classCPSFacebook.html#a7dd3fb0ddff204e195f91b8719104a61" title="_validateSessionObject" alt="" coords="393,59,564,88"/><area shape="rect" id="node22" href="classCPSFacebook.html#aa89cc38937ab8f8f132f3712c49c6e37" title="getSignedRequest" alt="" coords="157,216,296,245"/><area shape="rect" id="node32" href="classCPSFacebook.html#a83fd4ea8255385abd72c27a762691e2d" title="setSession" alt="" coords="181,112,272,141"/><area shape="rect" id="node5" href="classCPSFacebook.html#a9a1bb3c0a4009df8453e84cb39506723" title="_generateSignature" alt="" coords="668,5,817,35"/><area shape="rect" id="node14" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11" title="CPSLog::error" alt="" coords="688,59,797,88"/><area shape="rect" id="node16" href="classCPSLog.html#a4c3be4120dc6dee2c97a6dde9428ac76" title="CPSLog::log" alt="" coords="883,165,981,195"/><area shape="rect" id="node18" href="classCPSLog.html#a66291d27410fbf7ba4978f513c13e6f0" title="CPSLog::_getCallingMethod" alt="" coords="1029,139,1227,168"/><area shape="rect" id="node20" href="classCPSLog.html#a8471574061e9457cc6e5be7c151b9cfb" title="CPSLog::_processMessage" alt="" coords="1032,192,1224,221"/><area shape="rect" id="node24" href="classCPSFacebook.html#a2b963de2da5e5d03684f94c360f948ea" title="_parseSignedRequest" alt="" coords="399,217,559,247"/><area shape="rect" id="node26" href="classCPSFacebook.html#a7cc54c00b8b799176e515bd2d26a6868" title="_base64UrlDecode" alt="" coords="672,219,813,248"/><area shape="rect" id="node29" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955" title="CPSLog::trace" alt="" coords="687,272,799,301"/><area shape="rect" id="node34" href="classCPSFacebook.html#a818b7c88630a9f0a6318aecb55160c38" title="_setCookieFromSession" alt="" coords="392,112,565,141"/><area shape="rect" id="node38" href="classCPSFacebook.html#ab0b9668fe081b3b7eb36307bcb7688e8" title="getBaseDomain" alt="" coords="680,112,805,141"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_aefa4c5bd150e2a7d525576d7959c6911_icgraph.png" border="0" usemap="#classCPSFacebook_aefa4c5bd150e2a7d525576d7959c6911_icgraph" alt=""/></div>
<map name="classCPSFacebook_aefa4c5bd150e2a7d525576d7959c6911_icgraph" id="classCPSFacebook_aefa4c5bd150e2a7d525576d7959c6911_icgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a5d251c70a3f9f9daaff7f00ec5f894c0" title="getAccessToken" alt="" coords="148,33,271,63"/><area shape="rect" id="node13" href="classCPSFacebook.html#ade0c69c82aebca82fd8bd98ad74439f2" title="getLogoutUrl" alt="" coords="327,85,431,115"/><area shape="rect" id="node16" href="classCPSFacebook.html#ae81b7186fb97a7c6457edcc68c9aa2ef" title="getUser" alt="" coords="173,137,245,167"/><area shape="rect" id="node5" href="classCPSFacebook.html#a0519e81c281afecdca2d58dd75d164f0" title="_oauthRequest" alt="" coords="320,32,437,61"/><area shape="rect" id="node7" href="classCPSFacebook.html#a3fc1ae91766eca08b5a6fc48a6c6ebe2" title="_graph" alt="" coords="500,5,567,35"/><area shape="rect" id="node9" href="classCPSFacebook.html#a896336f5000bed98a0e59b3b38b8b8e1" title="_restserver" alt="" coords="487,59,580,88"/><area shape="rect" id="node11" href="classCPSFacebook.html#aa238fcc5cb30759876aa89cd2e0711c1" title="api" alt="" coords="631,59,671,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abd67157f9e772183733ad7a9112c822b"></a><!-- doxytag: member="CPSFacebook::getSessionLoaded" ref="abd67157f9e772183733ad7a9112c822b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getSessionLoaded </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00201">201</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_sessionLoaded; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa89cc38937ab8f8f132f3712c49c6e37"></a><!-- doxytag: member="CPSFacebook::getSignedRequest" ref="aa89cc38937ab8f8f132f3712c49c6e37" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getSignedRequest </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00208">208</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( ! $this-&gt;_signedRequest )
        {
            <span class="keywordflow">if</span> ( null !== ( $_request = PS::o( $_REQUEST, <span class="stringliteral">&#39;signed_request&#39;</span> ) ) )
                $this-&gt;_signedRequest = $this-&gt;<a class="code" href="classCPSFacebook.html#a2b963de2da5e5d03684f94c360f948ea">_parseSignedRequest</a>( $_request );
        }

        <span class="keywordflow">return</span> $this-&gt;_signedRequest;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_aa89cc38937ab8f8f132f3712c49c6e37_cgraph.png" border="0" usemap="#classCPSFacebook_aa89cc38937ab8f8f132f3712c49c6e37_cgraph" alt=""/></div>
<map name="classCPSFacebook_aa89cc38937ab8f8f132f3712c49c6e37_cgraph" id="classCPSFacebook_aa89cc38937ab8f8f132f3712c49c6e37_cgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a2b963de2da5e5d03684f94c360f948ea" title="_parseSignedRequest" alt="" coords="192,59,352,88"/><area shape="rect" id="node5" href="classCPSFacebook.html#a7cc54c00b8b799176e515bd2d26a6868" title="_base64UrlDecode" alt="" coords="401,5,543,35"/><area shape="rect" id="node7" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11" title="CPSLog::error" alt="" coords="417,59,527,88"/><area shape="rect" id="node15" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955" title="CPSLog::trace" alt="" coords="416,112,528,141"/><area shape="rect" id="node9" href="classCPSLog.html#a4c3be4120dc6dee2c97a6dde9428ac76" title="CPSLog::log" alt="" coords="592,85,691,115"/><area shape="rect" id="node11" href="classCPSLog.html#a66291d27410fbf7ba4978f513c13e6f0" title="CPSLog::_getCallingMethod" alt="" coords="739,59,936,88"/><area shape="rect" id="node13" href="classCPSLog.html#a8471574061e9457cc6e5be7c151b9cfb" title="CPSLog::_processMessage" alt="" coords="741,112,933,141"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_aa89cc38937ab8f8f132f3712c49c6e37_icgraph.png" border="0" usemap="#classCPSFacebook_aa89cc38937ab8f8f132f3712c49c6e37_icgraph" alt=""/></div>
<map name="classCPSFacebook_aa89cc38937ab8f8f132f3712c49c6e37_icgraph" id="classCPSFacebook_aa89cc38937ab8f8f132f3712c49c6e37_icgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#aefa4c5bd150e2a7d525576d7959c6911" title="getSession" alt="" coords="192,85,285,115"/><area shape="rect" id="node5" href="classCPSFacebook.html#a5d251c70a3f9f9daaff7f00ec5f894c0" title="getAccessToken" alt="" coords="335,33,457,63"/><area shape="rect" id="node15" href="classCPSFacebook.html#ade0c69c82aebca82fd8bd98ad74439f2" title="getLogoutUrl" alt="" coords="513,85,617,115"/><area shape="rect" id="node18" href="classCPSFacebook.html#ae81b7186fb97a7c6457edcc68c9aa2ef" title="getUser" alt="" coords="360,137,432,167"/><area shape="rect" id="node7" href="classCPSFacebook.html#a0519e81c281afecdca2d58dd75d164f0" title="_oauthRequest" alt="" coords="507,32,624,61"/><area shape="rect" id="node9" href="classCPSFacebook.html#a3fc1ae91766eca08b5a6fc48a6c6ebe2" title="_graph" alt="" coords="687,5,753,35"/><area shape="rect" id="node11" href="classCPSFacebook.html#a896336f5000bed98a0e59b3b38b8b8e1" title="_restserver" alt="" coords="673,59,767,88"/><area shape="rect" id="node13" href="classCPSFacebook.html#aa238fcc5cb30759876aa89cd2e0711c1" title="api" alt="" coords="817,59,857,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae81b7186fb97a7c6457edcc68c9aa2ef"></a><!-- doxytag: member="CPSFacebook::getUser" ref="ae81b7186fb97a7c6457edcc68c9aa2ef" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getUser </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the UID from the session. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>string the UID if available </dd></dl>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00382">382</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a> = $this-&gt;<a class="code" href="classCPSFacebook.html#aefa4c5bd150e2a7d525576d7959c6911">getSession</a>() )
            <span class="keywordflow">return</span> PS::o( <a class="code" href="classCPSFacebook.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a>, <span class="stringliteral">&#39;uid&#39;</span> );

        <span class="keywordflow">return</span> null;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_ae81b7186fb97a7c6457edcc68c9aa2ef_cgraph.png" border="0" usemap="#classCPSFacebook_ae81b7186fb97a7c6457edcc68c9aa2ef_cgraph" alt=""/></div>
<map name="classCPSFacebook_ae81b7186fb97a7c6457edcc68c9aa2ef_cgraph" id="classCPSFacebook_ae81b7186fb97a7c6457edcc68c9aa2ef_cgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#aefa4c5bd150e2a7d525576d7959c6911" title="getSession" alt="" coords="128,139,221,168"/><area shape="rect" id="node5" href="classCPSFacebook.html#ad095f729036d48a23d321839f3ea7853" title="_createSessionFromSignedRequest" alt="" coords="479,5,724,35"/><area shape="rect" id="node9" href="classCPSFacebook.html#a69c13b5e61215433a48b9a6742f16660" title="_getSessionCookieName" alt="" coords="775,165,956,195"/><area shape="rect" id="node11" href="classCPSFacebook.html#ad8d438fe02fb781abe815fd5972795ff" title="_getUnsignedSession" alt="" coords="269,269,429,299"/><area shape="rect" id="node13" href="classCPSFacebook.html#a7dd3fb0ddff204e195f91b8719104a61" title="_validateSessionObject" alt="" coords="516,59,687,88"/><area shape="rect" id="node24" href="classCPSFacebook.html#aa89cc38937ab8f8f132f3712c49c6e37" title="getSignedRequest" alt="" coords="280,216,419,245"/><area shape="rect" id="node34" href="classCPSFacebook.html#a83fd4ea8255385abd72c27a762691e2d" title="setSession" alt="" coords="304,112,395,141"/><area shape="rect" id="node7" href="classCPSFacebook.html#a9a1bb3c0a4009df8453e84cb39506723" title="_generateSignature" alt="" coords="791,5,940,35"/><area shape="rect" id="node16" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11" title="CPSLog::error" alt="" coords="811,59,920,88"/><area shape="rect" id="node18" href="classCPSLog.html#a4c3be4120dc6dee2c97a6dde9428ac76" title="CPSLog::log" alt="" coords="1005,165,1104,195"/><area shape="rect" id="node20" href="classCPSLog.html#a66291d27410fbf7ba4978f513c13e6f0" title="CPSLog::_getCallingMethod" alt="" coords="1152,139,1349,168"/><area shape="rect" id="node22" href="classCPSLog.html#a8471574061e9457cc6e5be7c151b9cfb" title="CPSLog::_processMessage" alt="" coords="1155,192,1347,221"/><area shape="rect" id="node26" href="classCPSFacebook.html#a2b963de2da5e5d03684f94c360f948ea" title="_parseSignedRequest" alt="" coords="521,217,681,247"/><area shape="rect" id="node28" href="classCPSFacebook.html#a7cc54c00b8b799176e515bd2d26a6868" title="_base64UrlDecode" alt="" coords="795,219,936,248"/><area shape="rect" id="node31" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955" title="CPSLog::trace" alt="" coords="809,272,921,301"/><area shape="rect" id="node36" href="classCPSFacebook.html#a818b7c88630a9f0a6318aecb55160c38" title="_setCookieFromSession" alt="" coords="515,112,688,141"/><area shape="rect" id="node40" href="classCPSFacebook.html#ab0b9668fe081b3b7eb36307bcb7688e8" title="getBaseDomain" alt="" coords="803,112,928,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4be4055f3361d4800e16bc2e2e38cda6"></a><!-- doxytag: member="CPSFacebook::init" ref="a4be4055f3361d4800e16bc2e2e38cda6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">init </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize </p>

<p>Reimplemented from <a class="el" href="classCPSApiComponent.html#a4be4055f3361d4800e16bc2e2e38cda6">CPSApiComponent</a>.</p>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00294">294</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <a class="code" href="classCPSFacebook.html#a4be4055f3361d4800e16bc2e2e38cda6">parent::init</a>();
        self::$_photoList = PS::_gs( self::PHOTO_CACHE );
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aecbe7fa989ff4870e8284982d2b4908b"></a><!-- doxytag: member="CPSFacebook::setApiCallbackUrl" ref="aecbe7fa989ff4870e8284982d2b4908b" args="($newValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setApiCallbackUrl </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>newValue</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00195">195</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ $this-&gt;_apiCallbackUrl = $newValue; <span class="keywordflow">return</span> $this; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5459ba27b6f139cf3f10bab4aec9b6e4"></a><!-- doxytag: member="CPSFacebook::setApiKey" ref="a5459ba27b6f139cf3f10bab4aec9b6e4" args="($newValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setApiKey </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>newValue</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classCPSApiComponent.html#a418ebc2194526fe95a66e1cd6f808fe3">CPSApiComponent</a>.</p>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00181">181</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ $this-&gt;_apiKey = $newValue; <span class="keywordflow">return</span> $this; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8b556659e1d182ba42b528f47f1f217c"></a><!-- doxytag: member="CPSFacebook::setApiSecretKey" ref="a8b556659e1d182ba42b528f47f1f217c" args="($newValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setApiSecretKey </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>newValue</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00188">188</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ $this-&gt;_apiSecretKey = $newValue; <span class="keywordflow">return</span> $this; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5d184a71ba30a0fedb1006f15df66177"></a><!-- doxytag: member="CPSFacebook::setAppId" ref="a5d184a71ba30a0fedb1006f15df66177" args="($newValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setAppId </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>newValue</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00153">153</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ $this-&gt;_appId = $newValue; <span class="keywordflow">return</span> $this; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad9727261836418005a302bf42802a84f"></a><!-- doxytag: member="CPSFacebook::setAppName" ref="ad9727261836418005a302bf42802a84f" args="($newValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setAppName </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>newValue</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00160">160</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ $this-&gt;_appName = $newValue; <span class="keywordflow">return</span> $this; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a466f4d1985a506c8e3be3d9929e4111e"></a><!-- doxytag: member="CPSFacebook::setAppPermissions" ref="a466f4d1985a506c8e3be3d9929e4111e" args="($newValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setAppPermissions </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>newValue</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00174">174</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ $this-&gt;_appPermissions = $newValue; <span class="keywordflow">return</span> $this; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab759f3978697fbd0d6de43c959c69664"></a><!-- doxytag: member="CPSFacebook::setAppUrl" ref="ab759f3978697fbd0d6de43c959c69664" args="($newValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setAppUrl </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>newValue</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00167">167</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ $this-&gt;_appUrl = $newValue; <span class="keywordflow">return</span> $this; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5438481a4c2c43b1ccf2dc5c8de9b7b7"></a><!-- doxytag: member="CPSFacebook::setbaseDomain" ref="a5438481a4c2c43b1ccf2dc5c8de9b7b7" args="($newValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setbaseDomain </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>newValue</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00232">232</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ $this-&gt;_baseDomain = $newValue; <span class="keywordflow">return</span> $this; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a38dc6e2f0ac551d3ec16ab03fa9d725b"></a><!-- doxytag: member="CPSFacebook::setEnableCookieSupport" ref="a38dc6e2f0ac551d3ec16ab03fa9d725b" args="($newValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setEnableCookieSupport </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>newValue</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00225">225</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ $this-&gt;_enableCookieSupport = $newValue; <span class="keywordflow">return</span> $this; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af19c4491f0d526c7b4194ca9217fc966"></a><!-- doxytag: member="CPSFacebook::setFileUploadSupport" ref="af19c4491f0d526c7b4194ca9217fc966" args="($newValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setFileUploadSupport </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>newValue</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00239">239</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ $this-&gt;_fileUploadSupport = $newValue; <span class="keywordflow">return</span> $this; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad35e44440b0eff84cccdfd1db697c639"></a><!-- doxytag: member="CPSFacebook::setPhotoList" ref="ad35e44440b0eff84cccdfd1db697c639" args="($_value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static setPhotoList </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>_value</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00253">253</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ self::$_photoList = $_value; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a38575b53e5d51921b89d693e88bacaa9"></a><!-- doxytag: member="CPSFacebook::setRedirectToLoginUrl" ref="a38575b53e5d51921b89d693e88bacaa9" args="($newValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setRedirectToLoginUrl </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>newValue</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00246">246</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ $this-&gt;_redirectToLoginUrl = $newValue; <span class="keywordflow">return</span> $this; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a83fd4ea8255385abd72c27a762691e2d"></a><!-- doxytag: member="CPSFacebook::setSession" ref="a83fd4ea8255385abd72c27a762691e2d" args="($session=null, $writeCookie=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setSession </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>session</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>writeCookie</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the session.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$session the session </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>boolean</em>&nbsp;</td><td>$writeCookie indicate if a cookie should be written. this value is ignored if cookie support has been disabled. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00315">315</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        $this-&gt;_session = $this-&gt;<a class="code" href="classCPSFacebook.html#a7dd3fb0ddff204e195f91b8719104a61">_validateSessionObject</a>( $session );
        $this-&gt;_sessionLoaded = <span class="keyword">true</span>;

        <span class="keywordflow">if</span> ( $writeCookie ) $this-&gt;<a class="code" href="classCPSFacebook.html#a818b7c88630a9f0a6318aecb55160c38">_setCookieFromSession</a>( $this-&gt;_session );

        <span class="keywordflow">return</span> $this;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a83fd4ea8255385abd72c27a762691e2d_cgraph.png" border="0" usemap="#classCPSFacebook_a83fd4ea8255385abd72c27a762691e2d_cgraph" alt=""/></div>
<map name="classCPSFacebook_a83fd4ea8255385abd72c27a762691e2d_cgraph" id="classCPSFacebook_a83fd4ea8255385abd72c27a762691e2d_cgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a818b7c88630a9f0a6318aecb55160c38" title="_setCookieFromSession" alt="" coords="148,59,321,88"/><area shape="rect" id="node17" href="classCPSFacebook.html#a7dd3fb0ddff204e195f91b8719104a61" title="_validateSessionObject" alt="" coords="149,112,320,141"/><area shape="rect" id="node5" href="classCPSFacebook.html#a69c13b5e61215433a48b9a6742f16660" title="_getSessionCookieName" alt="" coords="372,5,553,35"/><area shape="rect" id="node7" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11" title="CPSLog::error" alt="" coords="408,112,517,141"/><area shape="rect" id="node15" href="classCPSFacebook.html#ab0b9668fe081b3b7eb36307bcb7688e8" title="getBaseDomain" alt="" coords="400,59,525,88"/><area shape="rect" id="node9" href="classCPSLog.html#a4c3be4120dc6dee2c97a6dde9428ac76" title="CPSLog::log" alt="" coords="603,112,701,141"/><area shape="rect" id="node11" href="classCPSLog.html#a66291d27410fbf7ba4978f513c13e6f0" title="CPSLog::_getCallingMethod" alt="" coords="749,85,947,115"/><area shape="rect" id="node13" href="classCPSLog.html#a8471574061e9457cc6e5be7c151b9cfb" title="CPSLog::_processMessage" alt="" coords="752,139,944,168"/><area shape="rect" id="node19" href="classCPSFacebook.html#a9a1bb3c0a4009df8453e84cb39506723" title="_generateSignature" alt="" coords="388,165,537,195"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebook_a83fd4ea8255385abd72c27a762691e2d_icgraph.png" border="0" usemap="#classCPSFacebook_a83fd4ea8255385abd72c27a762691e2d_icgraph" alt=""/></div>
<map name="classCPSFacebook_a83fd4ea8255385abd72c27a762691e2d_icgraph" id="classCPSFacebook_a83fd4ea8255385abd72c27a762691e2d_icgraph">
<area shape="rect" id="node3" href="classCPSFacebook.html#a3fc1ae91766eca08b5a6fc48a6c6ebe2" title="_graph" alt="" coords="641,5,708,35"/><area shape="rect" id="node5" href="classCPSFacebook.html#aefa4c5bd150e2a7d525576d7959c6911" title="getSession" alt="" coords="147,84,240,113"/><area shape="rect" id="node7" href="classCPSFacebook.html#a5d251c70a3f9f9daaff7f00ec5f894c0" title="getAccessToken" alt="" coords="289,57,412,87"/><area shape="rect" id="node16" href="classCPSFacebook.html#ade0c69c82aebca82fd8bd98ad74439f2" title="getLogoutUrl" alt="" coords="468,111,572,140"/><area shape="rect" id="node19" href="classCPSFacebook.html#ae81b7186fb97a7c6457edcc68c9aa2ef" title="getUser" alt="" coords="315,161,387,191"/><area shape="rect" id="node9" href="classCPSFacebook.html#a0519e81c281afecdca2d58dd75d164f0" title="_oauthRequest" alt="" coords="461,57,579,87"/><area shape="rect" id="node12" href="classCPSFacebook.html#a896336f5000bed98a0e59b3b38b8b8e1" title="_restserver" alt="" coords="628,59,721,88"/><area shape="rect" id="node14" href="classCPSFacebook.html#aa238fcc5cb30759876aa89cd2e0711c1" title="api" alt="" coords="772,59,812,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad4202dd31fb79a9d1e1f4031fffd8623"></a><!-- doxytag: member="CPSFacebook::setSessionLoaded" ref="ad4202dd31fb79a9d1e1f4031fffd8623" args="($newValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setSessionLoaded </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>newValue</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00202">202</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ $this-&gt;_sessionLoaded = $newValue; <span class="keywordflow">return</span> $this; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0d55959bc29df7526c0dfcd1c87e750d"></a><!-- doxytag: member="CPSFacebook::setSignedRequest" ref="a0d55959bc29df7526c0dfcd1c87e750d" args="($newValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setSignedRequest </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>newValue</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00218">218</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ $this-&gt;_signedRequest = $newValue; <span class="keywordflow">return</span> $this; }
</pre></div></p>

</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="a98f1263247e46ae35ef0b714c702d0bd"></a><!-- doxytag: member="CPSFacebook::$_apiCallbackUrl" ref="a98f1263247e46ae35ef0b714c702d0bd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_apiCallbackUrl<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00193">193</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

</div>
</div>
<a class="anchor" id="a30d859488ed1921f08a7e8191363d9a4"></a><!-- doxytag: member="CPSFacebook::$_apiKey" ref="a30d859488ed1921f08a7e8191363d9a4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_apiKey<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classCPSApiComponent.html#a30d859488ed1921f08a7e8191363d9a4">CPSApiComponent</a>.</p>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00179">179</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae5bcbc03d954a2feca80ddd77054501d"></a><!-- doxytag: member="CPSFacebook::$_apiSecretKey" ref="ae5bcbc03d954a2feca80ddd77054501d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_apiSecretKey<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00186">186</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

</div>
</div>
<a class="anchor" id="a26f5b0452f151ceda4f18979a5eb1058"></a><!-- doxytag: member="CPSFacebook::$_appId" ref="a26f5b0452f151ceda4f18979a5eb1058" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_appId<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00151">151</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

</div>
</div>
<a class="anchor" id="ab1025f24b9ab01061327e23b10552116"></a><!-- doxytag: member="CPSFacebook::$_appName" ref="ab1025f24b9ab01061327e23b10552116" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_appName<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00158">158</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

</div>
</div>
<a class="anchor" id="a6adcddc9592544d2e65aed888e2bfdfa"></a><!-- doxytag: member="CPSFacebook::$_appPermissions" ref="a6adcddc9592544d2e65aed888e2bfdfa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_appPermissions = 'publish_stream'<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00172">172</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

</div>
</div>
<a class="anchor" id="a4416500680a7b92e95184727c36eec91"></a><!-- doxytag: member="CPSFacebook::$_appUrl" ref="a4416500680a7b92e95184727c36eec91" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_appUrl<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00165">165</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac054a508d06da60c6ffc3aab3fd7b3e7"></a><!-- doxytag: member="CPSFacebook::$_baseDomain" ref="ac054a508d06da60c6ffc3aab3fd7b3e7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_baseDomain = ''<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00230">230</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

</div>
</div>
<a class="anchor" id="a386bcc77c2c57c89359cc7632ac521ad"></a><!-- doxytag: member="CPSFacebook::$_CURL_OPTS" ref="a386bcc77c2c57c89359cc7632ac521ad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_CURL_OPTS<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
        CURLOPT_CONNECTTIMEOUT =&gt; 10,
        CURLOPT_RETURNTRANSFER =&gt; <span class="keyword">true</span>,
        CURLOPT_TIMEOUT =&gt; 60,
        CURLOPT_USERAGENT =&gt; self::USER_AGENT,
    )
</pre></div><p>array Default options for curl. </p>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00053">53</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

</div>
</div>
<a class="anchor" id="af39417a7550a728b1f3486fd0a9d3f55"></a><!-- doxytag: member="CPSFacebook::$_DOMAIN_MAP" ref="af39417a7550a728b1f3486fd0a9d3f55" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_DOMAIN_MAP<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
        <span class="stringliteral">&#39;api&#39;</span> =&gt; <span class="stringliteral">&#39;https://api.facebook.com/&#39;</span>,
        <span class="stringliteral">&#39;api_read&#39;</span> =&gt; <span class="stringliteral">&#39;https://api-read.facebook.com/&#39;</span>,
        <span class="stringliteral">&#39;graph&#39;</span> =&gt; <span class="stringliteral">&#39;https://graph.facebook.com/&#39;</span>,
        <span class="stringliteral">&#39;www&#39;</span> =&gt; <span class="stringliteral">&#39;https://www.facebook.com/&#39;</span>,
    )
</pre></div><p>array Maps aliases to Facebook domains. </p>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00071">71</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

</div>
</div>
<a class="anchor" id="aced13da18a88b032dcdbe41db9c09ed3"></a><!-- doxytag: member="CPSFacebook::$_DROP_QUERY_PARAMS" ref="aced13da18a88b032dcdbe41db9c09ed3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_DROP_QUERY_PARAMS<code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
        <span class="stringliteral">&#39;session&#39;</span>,
        <span class="stringliteral">&#39;signed_request&#39;</span>,
    )
</pre></div><p>array List of query parameters that get automatically dropped when rebuilding the current URL. </p>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00063">63</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

</div>
</div>
<a class="anchor" id="a6302bfba02d83c085b22d2aea1fc3bd6"></a><!-- doxytag: member="CPSFacebook::$_enableCookieSupport" ref="a6302bfba02d83c085b22d2aea1fc3bd6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_enableCookieSupport = false<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00223">223</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

</div>
</div>
<a class="anchor" id="a851bf23affeafd6281b06ff919d23a7f"></a><!-- doxytag: member="CPSFacebook::$_fileUploadSupport" ref="a851bf23affeafd6281b06ff919d23a7f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_fileUploadSupport = false<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00237">237</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

</div>
</div>
<a class="anchor" id="a7e2b66c375158928ec4cfa9de801ac0b"></a><!-- doxytag: member="CPSFacebook::$_photoList" ref="a7e2b66c375158928ec4cfa9de801ac0b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_photoList = null<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00251">251</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

</div>
</div>
<a class="anchor" id="a26d05a26685e4c898e34328911b708d3"></a><!-- doxytag: member="CPSFacebook::$_redirectToLoginUrl" ref="a26d05a26685e4c898e34328911b708d3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_redirectToLoginUrl = true<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00244">244</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad0641deaf4d314f034a134efaa6fbff0"></a><!-- doxytag: member="CPSFacebook::$_session" ref="ad0641deaf4d314f034a134efaa6fbff0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_session<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00258">258</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

</div>
</div>
<a class="anchor" id="aee8e9816087942dab4fb8bd62f413cd6"></a><!-- doxytag: member="CPSFacebook::$_sessionLoaded" ref="aee8e9816087942dab4fb8bd62f413cd6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_sessionLoaded = false<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00200">200</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

</div>
</div>
<a class="anchor" id="a6b432430b58baf6351a7507208363d80"></a><!-- doxytag: member="CPSFacebook::$_signedRequest" ref="a6b432430b58baf6351a7507208363d80" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_signedRequest<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00207">207</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae5e971be39413de8adc0e47624dbee86"></a><!-- doxytag: member="CPSFacebook::$READ_ONLY_CALLS" ref="ae5e971be39413de8adc0e47624dbee86" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$READ_ONLY_CALLS<code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>array A list of read-only API calls </p>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00081">81</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

</div>
</div>
<a class="anchor" id="afba99abd768bc1f4376bbd82d153d50b"></a><!-- doxytag: member="CPSFacebook::PHOTO_CACHE" ref="afba99abd768bc1f4376bbd82d153d50b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classCPSFacebook.html#afba99abd768bc1f4376bbd82d153d50b">PHOTO_CACHE</a> = '_photoListCache'</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Cache constants </p>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00044">44</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

</div>
</div>
<a class="anchor" id="aad50057168703fbd6bcab2c2c6e4d628"></a><!-- doxytag: member="CPSFacebook::USER_AGENT" ref="aad50057168703fbd6bcab2c2c6e4d628" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classCPSFacebook.html#aad50057168703fbd6bcab2c2c6e4d628">USER_AGENT</a> = 'pYe-facebook-php-2.1.2'</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00039">39</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

</div>
</div>
<a class="anchor" id="af71005841ce53adac00581ab0ba24c1f"></a><!-- doxytag: member="CPSFacebook::VERSION" ref="af71005841ce53adac00581ab0ba24c1f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classCPSFacebook.html#af71005841ce53adac00581ab0ba24c1f">VERSION</a> = '2.1.2'</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Version of this class </p>

<p>Definition at line <a class="el" href="CPSFacebook_8php_source.html#l00038">38</a> of file <a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/usr/local/yiixl/lib/original/components/facebook/<a class="el" href="CPSFacebook_8php_source.html">CPSFacebook.php</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Mar 24 2011 20:11:40 for "The Yii Extension Library Of Doom!" by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
