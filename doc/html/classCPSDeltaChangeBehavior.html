<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>&quot;The Yii Extension Library Of Doom!&quot;: CPSDeltaChangeBehavior Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>CPSDeltaChangeBehavior Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="CPSDeltaChangeBehavior" --><!-- doxytag: inherits="CPSBaseActiveRecordBehavior" --><div class="dynheader">
Inheritance diagram for CPSDeltaChangeBehavior:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSDeltaChangeBehavior__inherit__graph.png" border="0" usemap="#CPSDeltaChangeBehavior_inherit__map" alt="Inheritance graph"/></div>
<map name="CPSDeltaChangeBehavior_inherit__map" id="CPSDeltaChangeBehavior_inherit__map">
<area shape="rect" id="node2" href="classCPSBaseActiveRecordBehavior.html" title="CPSBaseActiveRecordBehavior" alt="" coords="5,237,224,267"/><area shape="rect" id="node4" href="interfaceIPSBehavior.html" title="IPSBehavior" alt="" coords="65,160,164,189"/><area shape="rect" id="node6" href="interfaceIPSComponent.html" title="IPSComponent" alt="" coords="56,83,173,112"/><area shape="rect" id="node8" href="interfaceIPSBase.html" title="IPSBase" alt="" coords="77,5,152,35"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for CPSDeltaChangeBehavior:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSDeltaChangeBehavior__coll__graph.png" border="0" usemap="#CPSDeltaChangeBehavior_coll__map" alt="Collaboration graph"/></div>
<map name="CPSDeltaChangeBehavior_coll__map" id="CPSDeltaChangeBehavior_coll__map">
<area shape="rect" id="node2" href="classCPSBaseActiveRecordBehavior.html" title="CPSBaseActiveRecordBehavior" alt="" coords="5,237,224,267"/><area shape="rect" id="node4" href="interfaceIPSBehavior.html" title="IPSBehavior" alt="" coords="65,160,164,189"/><area shape="rect" id="node6" href="interfaceIPSComponent.html" title="IPSComponent" alt="" coords="56,83,173,112"/><area shape="rect" id="node8" href="interfaceIPSBase.html" title="IPSBase" alt="" coords="77,5,152,35"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDeltaChangeBehavior.html#a8e3ecf06c1d27a09a323e06269bb63a6">getLastAttributes</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDeltaChangeBehavior.html#a1c2c686604b1f1efb3677252be1b8733">getLastAttribute</a> ($oWhich)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDeltaChangeBehavior.html#a8a514c6bfa4a35f07eabf5d8d97a0381">getCaseInsensitive</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDeltaChangeBehavior.html#aae8889c137f252aaab829aeb937d5745">setCaseInsensitive</a> ($bValue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDeltaChangeBehavior.html#a22e09b2ab52592b5294616c1c6dc8f97">afterFind</a> ($oEvent)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDeltaChangeBehavior.html#aef7ee24ff92508fe06889e486940f753">afterSave</a> ($oEvent)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDeltaChangeBehavior.html#a07ea4bfe78bf9bfa2b9d832d5f7189ba">revert</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDeltaChangeBehavior.html#abfaf3d0327b6956525bb041380b0b939">getChangedSet</a> ($arAttributes=<a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>(), $bReturnChanges=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDeltaChangeBehavior.html#a9dc74e0ca5d3d8445a1e885ba84ae2fa">didChange</a> ($oAttributes)</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDeltaChangeBehavior.html#a8d728243619642ee44cfbc3f0e797db2">checkAttributeChange</a> ($sAttribute, $bReturnChanges=false, $bQuickCheck=false)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDeltaChangeBehavior.html#ad842cf610c9bdd9e1ec9235f3f4ccb88">$m_arLastAttributes</a> = <a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDeltaChangeBehavior.html#a8aece4f3a3d397467cae1e8dc6613454">$m_bCaseInsensitive</a> = true</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDeltaChangeBehavior.html#a9edb581e40571436a736bfdfbc9c0a75">$m_bIsDirty</a> = false</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="CPSDeltaChangeBehavior_8php_source.html#l00025">25</a> of file <a class="el" href="CPSDeltaChangeBehavior_8php_source.html">CPSDeltaChangeBehavior.php</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a22e09b2ab52592b5294616c1c6dc8f97"></a><!-- doxytag: member="CPSDeltaChangeBehavior::afterFind" ref="a22e09b2ab52592b5294616c1c6dc8f97" args="($oEvent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">afterFind </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>oEvent</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>After a row is pulled from the database... </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>CEvent</em>&nbsp;</td><td>$oEvent </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSDeltaChangeBehavior_8php_source.html#l00061">61</a> of file <a class="el" href="CPSDeltaChangeBehavior_8php_source.html">CPSDeltaChangeBehavior.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
<span class="comment">//      CPSLog::trace( __METHOD__, &#39;afterFind event raised&#39; );</span>

        <span class="comment">//  Get fresh values</span>
        $this-&gt;m_arLastAttributes = $oEvent-&gt;sender-&gt;getAttributes();
        $this-&gt;m_bIsDirty = <span class="keyword">false</span>;
        
        <span class="comment">//  Let parents have a go...</span>
        <span class="keywordflow">return</span> <a class="code" href="classCPSDeltaChangeBehavior.html#a22e09b2ab52592b5294616c1c6dc8f97">parent::afterFind</a>( $oEvent );
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aef7ee24ff92508fe06889e486940f753"></a><!-- doxytag: member="CPSDeltaChangeBehavior::afterSave" ref="aef7ee24ff92508fe06889e486940f753" args="($oEvent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">afterSave </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>oEvent</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>After a row is saved to the database... </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>CEvent</em>&nbsp;</td><td>$oEvent </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSDeltaChangeBehavior_8php_source.html#l00077">77</a> of file <a class="el" href="CPSDeltaChangeBehavior_8php_source.html">CPSDeltaChangeBehavior.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
<span class="comment">//      CPSLog::trace( __METHOD__, &#39;afterSave event raised&#39; );</span>

        <span class="comment">//  Get fresh values</span>
        $this-&gt;m_arLastAttributes = $oEvent-&gt;sender-&gt;getAttributes();
        $this-&gt;m_bIsDirty = <span class="keyword">false</span>;

        <span class="comment">//  Let parents have a go...</span>
        <span class="keywordflow">return</span> <a class="code" href="classCPSDeltaChangeBehavior.html#aef7ee24ff92508fe06889e486940f753">parent::afterSave</a>( $oEvent );
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8d728243619642ee44cfbc3f0e797db2"></a><!-- doxytag: member="CPSDeltaChangeBehavior::checkAttributeChange" ref="a8d728243619642ee44cfbc3f0e797db2" args="($sAttribute, $bReturnChanges=false, $bQuickCheck=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">checkAttributeChange </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>sAttribute</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>bReturnChanges</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>bQuickCheck</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>If attribute has changed, returns array of old/new values.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$sAttribute </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array </dd></dl>

<p>Definition at line <a class="el" href="CPSDeltaChangeBehavior_8php_source.html#l00166">166</a> of file <a class="el" href="CPSDeltaChangeBehavior_8php_source.html">CPSDeltaChangeBehavior.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        $_arOut = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();
        $_bChanged = <span class="keyword">false</span>;
        $_arSchema = ( $this-&gt;owner instanceof <a class="code" href="classCPSModel.html">CPSModel</a> ) ? $this-&gt;owner-&gt;getSchema() : $this-&gt;owner-&gt;getMetaData()-&gt;columns;

        <span class="comment">//  Get old and new values</span>
        $_oNewValue = <a class="code" href="classCPSHelperBase.html#a666bf0c7e9a3320e2e1ca2d9b65301e6">CPSHelperBase::nvl</a>( $this-&gt;owner-&gt;getAttribute( $sAttribute ), <span class="stringliteral">&#39;NULL&#39;</span> );
        $_oOldValue = <a class="code" href="classCPSHelperBase.html#a666bf0c7e9a3320e2e1ca2d9b65301e6">CPSHelperBase::nvl</a>( $this-&gt;<a class="code" href="classCPSDeltaChangeBehavior.html#a1c2c686604b1f1efb3677252be1b8733">getLastAttribute</a>( $sAttribute ), <span class="stringliteral">&#39;NULL&#39;</span> );

        <span class="comment">//  Make dates look the same for string comparison</span>
        <span class="keywordflow">if</span> ( isset( $_arSchema[ $sAttribute ] ) &amp;&amp; ( $_arSchema[ $sAttribute ]-&gt;dbType == <span class="stringliteral">&#39;date&#39;</span> || $_arSchema[ $sAttribute ]-&gt;dbType == <span class="stringliteral">&#39;datetime&#39;</span> ) )
            $_bChanged = ( strtotime( $_oOldValue ) != strtotime( $_oNewValue ) );
        <span class="keywordflow">else</span>
            $_bChanged = ( $this-&gt;m_bCaseInsensitive ) ? ( 0 != strcasecmp( $_oOldValue, $_oNewValue ) ) : ( 0 != strcmp( $_sOldValue, $_sNewValue ) );

        <span class="comment">//  Record the change...</span>
        <span class="keywordflow">if</span> ( $_bChanged ) 
        {
            <span class="comment">//  Set our global dirty flag</span>
            <span class="keywordflow">if</span> ( ! $this-&gt;m_bIsDirty ) $this-&gt;m_bIsDirty = <span class="keyword">true</span>;
            
            <span class="comment">//  Just wanna know?</span>
            <span class="keywordflow">if</span> ( $bQuickCheck ) <span class="keywordflow">return</span> <span class="keyword">true</span>;
                
            <span class="comment">//  Store info</span>
            $_arOut[ $sAttribute ] = $bReturnChanges ? <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>( $_oOldValue, $_oNewValue ) : $_oOldValue;
        }
        
        <span class="comment">//  Return</span>
        <span class="keywordflow">return</span> empty( $_arOut ) ? ( $bQuickCheck ? <span class="keyword">false</span> : null ) : $_arOut;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSDeltaChangeBehavior_a8d728243619642ee44cfbc3f0e797db2_cgraph.png" border="0" usemap="#classCPSDeltaChangeBehavior_a8d728243619642ee44cfbc3f0e797db2_cgraph" alt=""/></div>
<map name="classCPSDeltaChangeBehavior_a8d728243619642ee44cfbc3f0e797db2_cgraph" id="classCPSDeltaChangeBehavior_a8d728243619642ee44cfbc3f0e797db2_cgraph">
<area shape="rect" id="node3" href="classCPSDeltaChangeBehavior.html#a1c2c686604b1f1efb3677252be1b8733" title="getLastAttribute" alt="" coords="231,5,356,35"/><area shape="rect" id="node7" href="classCPSHelperBase.html#a666bf0c7e9a3320e2e1ca2d9b65301e6" title="CPSHelperBase::nvl" alt="" coords="220,59,367,88"/><area shape="rect" id="node5" href="classCPSHelperBase.html#a557243d020090bff2b3cb6cdb03d31aa" title="CPSHelperBase::o" alt="" coords="416,5,555,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSDeltaChangeBehavior_a8d728243619642ee44cfbc3f0e797db2_icgraph.png" border="0" usemap="#classCPSDeltaChangeBehavior_a8d728243619642ee44cfbc3f0e797db2_icgraph" alt=""/></div>
<map name="classCPSDeltaChangeBehavior_a8d728243619642ee44cfbc3f0e797db2_icgraph" id="classCPSDeltaChangeBehavior_a8d728243619642ee44cfbc3f0e797db2_icgraph">
<area shape="rect" id="node3" href="classCPSDeltaChangeBehavior.html#a9dc74e0ca5d3d8445a1e885ba84ae2fa" title="didChange" alt="" coords="235,5,325,35"/><area shape="rect" id="node5" href="classCPSDeltaChangeBehavior.html#abfaf3d0327b6956525bb041380b0b939" title="getChangedSet" alt="" coords="219,59,341,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9dc74e0ca5d3d8445a1e885ba84ae2fa"></a><!-- doxytag: member="CPSDeltaChangeBehavior::didChange" ref="a9dc74e0ca5d3d8445a1e885ba84ae2fa" args="($oAttributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">didChange </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>oAttributes</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns true if the attribute(s) changed since save</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string|array</em>&nbsp;</td><td>$oAttributes You may pass in a single attribute or an array of attributes to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classCPSDeltaChangeBehavior.html#abfaf3d0327b6956525bb041380b0b939">getChangedSet</a> </dd></dl>

<p>Definition at line <a class="el" href="CPSDeltaChangeBehavior_8php_source.html#l00135">135</a> of file <a class="el" href="CPSDeltaChangeBehavior_8php_source.html">CPSDeltaChangeBehavior.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( ! $this-&gt;m_bIsDirty )
        {
            $_arCheck = $oAttributes;
            <span class="keywordflow">if</span> ( ! is_array( $_arCheck ) ) $_arCheck = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>( $_arCheck );

            <span class="keywordflow">foreach</span> ( $_arCheck as $_sKey =&gt; $_oValue )
            {
                <span class="keywordflow">if</span> ( $this-&gt;<a class="code" href="classCPSDeltaChangeBehavior.html#a8d728243619642ee44cfbc3f0e797db2">checkAttributeChange</a>( $_sKey ) )
                {
                    $this-&gt;m_bIsDirty = <span class="keyword">true</span>;
                    <span class="keywordflow">break</span>;
                }
            }
        }
            
        <span class="comment">//  Return</span>
        <span class="keywordflow">return</span> $this-&gt;m_bIsDirty;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSDeltaChangeBehavior_a9dc74e0ca5d3d8445a1e885ba84ae2fa_cgraph.png" border="0" usemap="#classCPSDeltaChangeBehavior_a9dc74e0ca5d3d8445a1e885ba84ae2fa_cgraph" alt=""/></div>
<map name="classCPSDeltaChangeBehavior_a9dc74e0ca5d3d8445a1e885ba84ae2fa_cgraph" id="classCPSDeltaChangeBehavior_a9dc74e0ca5d3d8445a1e885ba84ae2fa_cgraph">
<area shape="rect" id="node3" href="classCPSDeltaChangeBehavior.html#a8d728243619642ee44cfbc3f0e797db2" title="checkAttributeChange" alt="" coords="145,32,308,61"/><area shape="rect" id="node5" href="classCPSDeltaChangeBehavior.html#a1c2c686604b1f1efb3677252be1b8733" title="getLastAttribute" alt="" coords="369,5,495,35"/><area shape="rect" id="node9" href="classCPSHelperBase.html#a666bf0c7e9a3320e2e1ca2d9b65301e6" title="CPSHelperBase::nvl" alt="" coords="359,59,505,88"/><area shape="rect" id="node7" href="classCPSHelperBase.html#a557243d020090bff2b3cb6cdb03d31aa" title="CPSHelperBase::o" alt="" coords="555,5,693,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8a514c6bfa4a35f07eabf5d8d97a0381"></a><!-- doxytag: member="CPSDeltaChangeBehavior::getCaseInsensitive" ref="a8a514c6bfa4a35f07eabf5d8d97a0381" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getCaseInsensitive </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSDeltaChangeBehavior_8php_source.html#l00044">44</a> of file <a class="el" href="CPSDeltaChangeBehavior_8php_source.html">CPSDeltaChangeBehavior.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;m_bCaseInsensitive; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="abfaf3d0327b6956525bb041380b0b939"></a><!-- doxytag: member="CPSDeltaChangeBehavior::getChangedSet" ref="abfaf3d0327b6956525bb041380b0b939" args="($arAttributes=array(), $bReturnChanges=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getChangedSet </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>arAttributes</em> = <code><a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>bReturnChanges</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns an array of changed attributes since last save. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>array The changed set of attributes or an empty array. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classCPSDeltaChangeBehavior.html#a9dc74e0ca5d3d8445a1e885ba84ae2fa">didChange</a> </dd></dl>

<p>Definition at line <a class="el" href="CPSDeltaChangeBehavior_8php_source.html#l00107">107</a> of file <a class="el" href="CPSDeltaChangeBehavior_8php_source.html">CPSDeltaChangeBehavior.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        $_arOut = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();

        <span class="keywordflow">if</span> ( $this-&gt;m_bIsDirty )
        {       
            <span class="keywordflow">foreach</span> ( $this-&gt;m_arLastAttributes as $_sKey =&gt; $_sValue )
            {
                <span class="comment">//  Only return asked for attributes</span>
                <span class="keywordflow">if</span> ( ! empty( $arAttributes ) &amp;&amp; ! in_array( $_sKey, $arAttributes ) )
                    <span class="keywordflow">continue</span>;
                    
                <span class="comment">//  This value changed...</span>
                <span class="keywordflow">if</span> ( $_arTemp = $this-&gt;<a class="code" href="classCPSDeltaChangeBehavior.html#a8d728243619642ee44cfbc3f0e797db2">checkAttributeChange</a>( $_sKey, $bReturnChanges ) )
                    $_arOut = array_merge( $_arOut, $_arTemp );
            }
        }
    
        <span class="keywordflow">return</span> $_arOut;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSDeltaChangeBehavior_abfaf3d0327b6956525bb041380b0b939_cgraph.png" border="0" usemap="#classCPSDeltaChangeBehavior_abfaf3d0327b6956525bb041380b0b939_cgraph" alt=""/></div>
<map name="classCPSDeltaChangeBehavior_abfaf3d0327b6956525bb041380b0b939_cgraph" id="classCPSDeltaChangeBehavior_abfaf3d0327b6956525bb041380b0b939_cgraph">
<area shape="rect" id="node3" href="classCPSDeltaChangeBehavior.html#a8d728243619642ee44cfbc3f0e797db2" title="checkAttributeChange" alt="" coords="177,32,340,61"/><area shape="rect" id="node5" href="classCPSDeltaChangeBehavior.html#a1c2c686604b1f1efb3677252be1b8733" title="getLastAttribute" alt="" coords="401,5,527,35"/><area shape="rect" id="node9" href="classCPSHelperBase.html#a666bf0c7e9a3320e2e1ca2d9b65301e6" title="CPSHelperBase::nvl" alt="" coords="391,59,537,88"/><area shape="rect" id="node7" href="classCPSHelperBase.html#a557243d020090bff2b3cb6cdb03d31aa" title="CPSHelperBase::o" alt="" coords="587,5,725,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1c2c686604b1f1efb3677252be1b8733"></a><!-- doxytag: member="CPSDeltaChangeBehavior::getLastAttribute" ref="a1c2c686604b1f1efb3677252be1b8733" args="($oWhich)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getLastAttribute </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>oWhich</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSDeltaChangeBehavior_8php_source.html#l00037">37</a> of file <a class="el" href="CPSDeltaChangeBehavior_8php_source.html">CPSDeltaChangeBehavior.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#a557243d020090bff2b3cb6cdb03d31aa">CPSHelperBase::o</a>( $this-&gt;m_arLastAttributes, $oWhich ); }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSDeltaChangeBehavior_a1c2c686604b1f1efb3677252be1b8733_cgraph.png" border="0" usemap="#classCPSDeltaChangeBehavior_a1c2c686604b1f1efb3677252be1b8733_cgraph" alt=""/></div>
<map name="classCPSDeltaChangeBehavior_a1c2c686604b1f1efb3677252be1b8733_cgraph" id="classCPSDeltaChangeBehavior_a1c2c686604b1f1efb3677252be1b8733_cgraph">
<area shape="rect" id="node3" href="classCPSHelperBase.html#a557243d020090bff2b3cb6cdb03d31aa" title="CPSHelperBase::o" alt="" coords="181,5,320,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSDeltaChangeBehavior_a1c2c686604b1f1efb3677252be1b8733_icgraph.png" border="0" usemap="#classCPSDeltaChangeBehavior_a1c2c686604b1f1efb3677252be1b8733_icgraph" alt=""/></div>
<map name="classCPSDeltaChangeBehavior_a1c2c686604b1f1efb3677252be1b8733_icgraph" id="classCPSDeltaChangeBehavior_a1c2c686604b1f1efb3677252be1b8733_icgraph">
<area shape="rect" id="node3" href="classCPSDeltaChangeBehavior.html#a8d728243619642ee44cfbc3f0e797db2" title="checkAttributeChange" alt="" coords="183,32,345,61"/><area shape="rect" id="node5" href="classCPSDeltaChangeBehavior.html#a9dc74e0ca5d3d8445a1e885ba84ae2fa" title="didChange" alt="" coords="411,5,501,35"/><area shape="rect" id="node7" href="classCPSDeltaChangeBehavior.html#abfaf3d0327b6956525bb041380b0b939" title="getChangedSet" alt="" coords="395,59,517,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8e3ecf06c1d27a09a323e06269bb63a6"></a><!-- doxytag: member="CPSDeltaChangeBehavior::getLastAttributes" ref="a8e3ecf06c1d27a09a323e06269bb63a6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getLastAttributes </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSDeltaChangeBehavior_8php_source.html#l00036">36</a> of file <a class="el" href="CPSDeltaChangeBehavior_8php_source.html">CPSDeltaChangeBehavior.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;m_arLastAttributes; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a07ea4bfe78bf9bfa2b9d832d5f7189ba"></a><!-- doxytag: member="CPSDeltaChangeBehavior::revert" ref="a07ea4bfe78bf9bfa2b9d832d5f7189ba" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">revert </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reverts a model back to its state before changes were made. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean True if reverted. </dd></dl>

<p>Definition at line <a class="el" href="CPSDeltaChangeBehavior_8php_source.html#l00097">97</a> of file <a class="el" href="CPSDeltaChangeBehavior_8php_source.html">CPSDeltaChangeBehavior.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        $this-&gt;owner-&gt;setAttributes( $this-&gt;m_arLastAttributes );
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aae8889c137f252aaab829aeb937d5745"></a><!-- doxytag: member="CPSDeltaChangeBehavior::setCaseInsensitive" ref="aae8889c137f252aaab829aeb937d5745" args="($bValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setCaseInsensitive </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>bValue</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSDeltaChangeBehavior_8php_source.html#l00045">45</a> of file <a class="el" href="CPSDeltaChangeBehavior_8php_source.html">CPSDeltaChangeBehavior.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ $this-&gt;m_bCaseInsensitive = $bValue; }
</pre></div></p>

</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="ad842cf610c9bdd9e1ec9235f3f4ccb88"></a><!-- doxytag: member="CPSDeltaChangeBehavior::$m_arLastAttributes" ref="ad842cf610c9bdd9e1ec9235f3f4ccb88" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$m_arLastAttributes = <a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a>()<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSDeltaChangeBehavior_8php_source.html#l00035">35</a> of file <a class="el" href="CPSDeltaChangeBehavior_8php_source.html">CPSDeltaChangeBehavior.php</a>.</p>

</div>
</div>
<a class="anchor" id="a8aece4f3a3d397467cae1e8dc6613454"></a><!-- doxytag: member="CPSDeltaChangeBehavior::$m_bCaseInsensitive" ref="a8aece4f3a3d397467cae1e8dc6613454" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$m_bCaseInsensitive = true<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSDeltaChangeBehavior_8php_source.html#l00043">43</a> of file <a class="el" href="CPSDeltaChangeBehavior_8php_source.html">CPSDeltaChangeBehavior.php</a>.</p>

</div>
</div>
<a class="anchor" id="a9edb581e40571436a736bfdfbc9c0a75"></a><!-- doxytag: member="CPSDeltaChangeBehavior::$m_bIsDirty" ref="a9edb581e40571436a736bfdfbc9c0a75" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$m_bIsDirty = false<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSDeltaChangeBehavior_8php_source.html#l00051">51</a> of file <a class="el" href="CPSDeltaChangeBehavior_8php_source.html">CPSDeltaChangeBehavior.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/usr/local/yiixl/lib/original/behaviors/<a class="el" href="CPSDeltaChangeBehavior_8php_source.html">CPSDeltaChangeBehavior.php</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Mar 24 2011 20:11:40 for "The Yii Extension Library Of Doom!" by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
