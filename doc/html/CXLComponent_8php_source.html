<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>YiiXL -- The Yii Extension Library Of Doom!: CXLComponent.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="dir_1ec655711e29b55f31ff264c2bb65c33.html">usr</a>      </li>
      <li><a class="el" href="dir_6bb76cc6f95ff18987242ff417c6ce46.html">local</a>      </li>
      <li><a class="el" href="dir_c5bf51a4bce5f6288acec49aaf0c7f09.html">yiixl</a>      </li>
      <li><a class="el" href="dir_61700af67871dcbdf05fae1643014cc7.html">lib</a>      </li>
      <li><a class="el" href="dir_1fe0dc3b670ebeef3b7eceb42bf96cab.html">core</a>      </li>
      <li><a class="el" href="dir_64b2814019680923e742fa9c5e2693bd.html">components</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>CXLComponent.php</h1>  </div>
</div>
<div class="contents">
<a href="CXLComponent_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00029"></a><a class="code" href="classCXLComponent.html">00029</a> <span class="keyword">class </span><a class="code" href="classCXLComponent.html">CXLComponent</a> <span class="keyword">extends</span> CApplicationComponent implements <a class="code" href="interfaceIXLComponent.html">IXLComponent</a>
<a name="l00030"></a>00030 {
<a name="l00031"></a>00031   <span class="comment">//********************************************************************************</span>
<a name="l00032"></a>00032   <span class="comment">//* Constants</span>
<a name="l00033"></a>00033   <span class="comment">//********************************************************************************</span>
<a name="l00034"></a>00034 
<a name="l00038"></a><a class="code" href="classCXLComponent.html#aa607ab5e557e6ebb60b85c5a20ad067f">00038</a>   <span class="keyword">const</span> <a class="code" href="classCXLComponent.html#aa607ab5e557e6ebb60b85c5a20ad067f" title="Our logging tag.">CLASS_LOG_TAG</a> = <span class="stringliteral">&#39;yiixl.core.components.CXLComponent&#39;</span>;
<a name="l00039"></a>00039 
<a name="l00040"></a>00040   <span class="comment">//********************************************************************************</span>
<a name="l00041"></a>00041   <span class="comment">//* Properties</span>
<a name="l00042"></a>00042   <span class="comment">//********************************************************************************</span>
<a name="l00043"></a>00043 
<a name="l00047"></a><a class="code" href="classCXLComponent.html#a6c76d7fa9253beae006eaaf4e3038ce9">00047</a>   <span class="keyword">protected</span> <a class="code" href="classCXLComponent.html#a6c76d7fa9253beae006eaaf4e3038ce9">$_debugLevel</a> = <span class="keyword">false</span>;
<a name="l00048"></a>00048 
<a name="l00052"></a><a class="code" href="classCXLComponent.html#a1bebdc689c84eee59ad24c77e5531762">00052</a>   <span class="keyword">protected</span> <a class="code" href="classCXLComponent.html#a1bebdc689c84eee59ad24c77e5531762">$_options</a>;
<a name="l00053"></a>00053 
<a name="l00057"></a><a class="code" href="classCXLComponent.html#ac1d32c0491955b7c0648ab9a304c45c0">00057</a>   <span class="keyword">protected</span> <a class="code" href="classCXLComponent.html#ac1d32c0491955b7c0648ab9a304c45c0">$_behaviorMethods</a>;
<a name="l00058"></a>00058 
<a name="l00059"></a>00059   <span class="comment">//********************************************************************************</span>
<a name="l00060"></a>00060   <span class="comment">//* Property Accessors</span>
<a name="l00061"></a>00061   <span class="comment">//********************************************************************************</span>
<a name="l00062"></a>00062 
<a name="l00067"></a><a class="code" href="classCXLComponent.html#a122db96cedfc221cf187ce4328f992f7">00067</a>   <span class="keyword">public</span> function <a class="code" href="classCXLComponent.html#a122db96cedfc221cf187ce4328f992f7" title="Gets the debug level.">getDebugLevel</a>()
<a name="l00068"></a>00068   {
<a name="l00069"></a>00069     <span class="keywordflow">return</span> $this-&gt;_debugLevel;
<a name="l00070"></a>00070   }
<a name="l00071"></a>00071 
<a name="l00076"></a><a class="code" href="classCXLComponent.html#a91ba7d911e2c3852a048f4022c45ec9e">00076</a>   <span class="keyword">public</span> function <a class="code" href="classCXLComponent.html#a91ba7d911e2c3852a048f4022c45ec9e" title="Sets the debug level.">setDebugLevel</a>( $value = <span class="keyword">false</span> )
<a name="l00077"></a>00077   {
<a name="l00078"></a>00078     $this-&gt;_debugLevel = $value;
<a name="l00079"></a>00079   }
<a name="l00080"></a>00080 
<a name="l00085"></a><a class="code" href="classCXLComponent.html#a1a49b8dded6e91a52e2fd07195d334da">00085</a>   <span class="keyword">public</span> function <a class="code" href="classCXLComponent.html#a1a49b8dded6e91a52e2fd07195d334da" title="Gets the configuration options.">getOptions</a>()
<a name="l00086"></a>00086   {
<a name="l00087"></a>00087     <span class="keywordflow">return</span> $this-&gt;_options;
<a name="l00088"></a>00088   }
<a name="l00089"></a>00089 
<a name="l00094"></a><a class="code" href="classCXLComponent.html#a50138660370da467322f8f3965008b14">00094</a>   <span class="keyword">public</span> function <a class="code" href="classCXLComponent.html#a50138660370da467322f8f3965008b14" title="Gets the list of registered behavior methods.">getBehaviorMethods</a>()
<a name="l00095"></a>00095   {
<a name="l00096"></a>00096     <span class="keywordflow">return</span> $this-&gt;_behaviorMethods;
<a name="l00097"></a>00097   }
<a name="l00098"></a>00098 
<a name="l00104"></a><a class="code" href="classCXLComponent.html#ad51d235c20d44a485f9f00f2c86a5ea9">00104</a>   <span class="keyword">public</span> function <a class="code" href="classCXLComponent.html#ad51d235c20d44a485f9f00f2c86a5ea9" title="Loads the configuration options.">loadOptions</a>( $options = array() )
<a name="l00105"></a>00105   {
<a name="l00106"></a>00106     $this-&gt;_options = $options;
<a name="l00107"></a>00107     <span class="keywordflow">return</span> $this;
<a name="l00108"></a>00108   }
<a name="l00109"></a>00109 
<a name="l00110"></a>00110   <span class="comment">//********************************************************************************</span>
<a name="l00111"></a>00111   <span class="comment">//* Public Methods</span>
<a name="l00112"></a>00112   <span class="comment">//********************************************************************************</span>
<a name="l00113"></a>00113 
<a name="l00119"></a><a class="code" href="classCXLComponent.html#aa7f5a18682ecb8e0dc450e26cebfaa37">00119</a>   <span class="keyword">public</span> function <a class="code" href="classCXLComponent.html#aa7f5a18682ecb8e0dc450e26cebfaa37" title="Constructs a component.">__construct</a>( $options = array() )
<a name="l00120"></a>00120   {
<a name="l00121"></a>00121     <span class="comment">//  Initialize...</span>
<a name="l00122"></a>00122     $this-&gt;_options = $this-&gt;_behaviorMethods = array();
<a name="l00123"></a>00123 
<a name="l00124"></a>00124     <span class="comment">//  Set any properties via standard config array</span>
<a name="l00125"></a>00125     <a class="code" href="classCXLOptions.html#ac60142407cbd4e84b84ef377481d0d3a" title="Loads an array into properties if they exist.">CXLOptions::loadConfiguration</a>( $this, $options );
<a name="l00126"></a>00126   }
<a name="l00127"></a>00127 
<a name="l00132"></a><a class="code" href="classCXLComponent.html#ad1145e067eca389073867be1a9d5d57e">00132</a>   <span class="keyword">public</span> function <a class="code" href="classCXLComponent.html#ad1145e067eca389073867be1a9d5d57e" title="Gets a single configuration option.">getOption</a>( $key, $defaultValue = null, $unsetAfter = <span class="keyword">false</span> )
<a name="l00133"></a>00133   {
<a name="l00134"></a>00134     $_value = <a class="code" href="classYiiXLBase.html#abba281d4c1813d0fb984cbca6784930a" title="Retrieves an option from the given array.">XL::o</a>( $this-&gt;_options, $key, $defaultValue, $unsetAfter );
<a name="l00135"></a>00135     <span class="keywordflow">return</span> $_value;
<a name="l00136"></a>00136   }
<a name="l00137"></a>00137 
<a name="l00147"></a><a class="code" href="classCXLComponent.html#ad93e793964a65dfac40131c7cf7fe901">00147</a>   <span class="keyword">public</span> function <a class="code" href="classCXLComponent.html#ad93e793964a65dfac40131c7cf7fe901" title="Attaches a behavior to this component.">attachBehavior</a>( $name, $behavior )
<a name="l00148"></a>00148   {
<a name="l00149"></a>00149     <span class="keywordflow">if</span> ( null !== ( $_behavior = parent::attachBehavior( $name, $behavior ) ) )
<a name="l00150"></a>00150     {
<a name="l00151"></a>00151       <span class="comment">//  Import the behavior methods</span>
<a name="l00152"></a>00152       $_class = get_class( $_behavior );
<a name="l00153"></a>00153       $_methods = get_class_methods( $_behavior );
<a name="l00154"></a>00154 
<a name="l00155"></a>00155       array_push(
<a name="l00156"></a>00156         $this-&gt;_behaviors,
<a name="l00157"></a>00157         array(
<a name="l00158"></a>00158           $_class,
<a name="l00159"></a>00159           $_behavior
<a name="l00160"></a>00160         )
<a name="l00161"></a>00161       );
<a name="l00162"></a>00162 
<a name="l00163"></a>00163       <span class="keywordflow">foreach</span> ( $_methods as $_method )
<a name="l00164"></a>00164         $this-&gt;_behaviorMethods[ $_method] = &amp;$_behavior;
<a name="l00165"></a>00165     }
<a name="l00166"></a>00166   }
<a name="l00167"></a>00167 
<a name="l00176"></a><a class="code" href="classCXLComponent.html#a568bb8ef71e4cc61fd38a4c6140cb8e6">00176</a>   <span class="keyword">public</span> function <a class="code" href="classCXLComponent.html#a568bb8ef71e4cc61fd38a4c6140cb8e6" title="Detaches a behavior from the component.">detachBehavior</a>( $name )
<a name="l00177"></a>00177   {
<a name="l00178"></a>00178     <span class="keywordflow">if</span> ( null !== ( $_behavior = parent::detachBehavior( $name ) ) )
<a name="l00179"></a>00179     {
<a name="l00180"></a>00180       <span class="comment">//  Unimport...</span>
<a name="l00181"></a>00181     }
<a name="l00182"></a>00182   }
<a name="l00183"></a>00183 
<a name="l00190"></a><a class="code" href="classCXLComponent.html#ae3c1612573015dbb405087f657944fe6">00190</a>   <span class="keyword">public</span> function <a class="code" href="classCXLComponent.html#ae3c1612573015dbb405087f657944fe6">__call</a>( $name, $parameters )
<a name="l00191"></a>00191   {
<a name="l00192"></a>00192     <span class="keywordflow">try</span>
<a name="l00193"></a>00193     {
<a name="l00194"></a>00194       <a class="code" href="classYiiXLBase.html#a738b26d91bc5e75ef095583e5977c291" title="This is a standardized magic method &amp;quot;helper&amp;quot;.">XL::smartCall</a>( $this, $name, $parameters );
<a name="l00195"></a>00195     }
<a name="l00196"></a>00196     <span class="keywordflow">catch</span> ( <a class="code" href="classCXLMethodNotFoundException.html">CXLMethodNotFoundException</a> $_ex )
<a name="l00197"></a>00197     {
<a name="l00198"></a>00198       <span class="comment">//  Kick it back up the chain in this case</span>
<a name="l00199"></a>00199       <span class="keywordflow">return</span> <a class="code" href="classCXLComponent.html#ae3c1612573015dbb405087f657944fe6">parent::__call</a>( $name, $parameters );
<a name="l00200"></a>00200     }
<a name="l00201"></a>00201 
<a name="l00202"></a>00202     <span class="comment">//  Any other exceptions bubble up</span>
<a name="l00203"></a>00203   }
<a name="l00204"></a>00204 
<a name="l00205"></a>00205   <span class="comment">//********************************************************************************</span>
<a name="l00206"></a>00206   <span class="comment">//* Private Methods</span>
<a name="l00207"></a>00207   <span class="comment">//********************************************************************************</span>
<a name="l00208"></a>00208 
<a name="l00213"></a><a class="code" href="classCXLComponent.html#a18dc38882c1e91ddb65892e4fad6d68f">00213</a>   <span class="keyword">protected</span> <span class="keyword">static</span> function <a class="code" href="classCXLComponent.html#a18dc38882c1e91ddb65892e4fad6d68f" title="Walks the backtrace to find the calling object.">_getCallerObject</a>( $instanceFilter = null )
<a name="l00214"></a>00214   {
<a name="l00215"></a>00215     $_stack = debug_backtrace( <span class="keyword">true</span> );
<a name="l00216"></a>00216 
<a name="l00217"></a>00217     <span class="keywordflow">for</span> ( $_i = 0, $_count = count( $_stack ); $_i &lt; $_count; $_i++ )
<a name="l00218"></a>00218     {
<a name="l00219"></a>00219       <span class="keywordflow">if</span> ( null !== ( $_caller = <a class="code" href="classYiiXLBase.html#abba281d4c1813d0fb984cbca6784930a" title="Retrieves an option from the given array.">XL::o</a>( $_stack[$_i], <span class="stringliteral">&#39;object&#39;</span> ) ) )
<a name="l00220"></a>00220       {
<a name="l00221"></a>00221         <span class="keywordflow">if</span> ( null !== $instanceFilter )
<a name="l00222"></a>00222         {
<a name="l00223"></a>00223           <span class="keywordflow">if</span> ( $_caller instanceof $instanceFilter )
<a name="l00224"></a>00224             <span class="keywordflow">return</span> $_caller;
<a name="l00225"></a>00225 
<a name="l00226"></a>00226           <span class="keywordflow">continue</span>;
<a name="l00227"></a>00227         }
<a name="l00228"></a>00228 
<a name="l00229"></a>00229         <span class="keywordflow">return</span> $_caller;
<a name="l00230"></a>00230       }
<a name="l00231"></a>00231     }
<a name="l00232"></a>00232 
<a name="l00233"></a>00233     <span class="keywordflow">return</span> null;
<a name="l00234"></a>00234   }
<a name="l00235"></a>00235 
<a name="l00236"></a>00236 }
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Mar 25 2011 21:10:39 for YiiXL -- The Yii Extension Library Of Doom! by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
