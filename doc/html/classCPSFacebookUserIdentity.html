<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>&quot;The Yii Extension Library Of Doom!&quot;: CPSFacebookUserIdentity Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>CPSFacebookUserIdentity Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="CPSFacebookUserIdentity" --><table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a12251d0c022e9e21c137a105ff683f13">getId</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#aa664eee45a9eb336b581131cb0ac667d">setId</a> ($value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a0b280ce1a525781c8943e5101471a6c0">getUserModelClass</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#ae0af15a6b8117c8e984beae8e585fcd2">setUserModelClass</a> ($value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a5d251c70a3f9f9daaff7f00ec5f894c0">getAccessToken</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a37af09a26efc969d1381851b8c379808">getLoginUrl</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#aefa4c5bd150e2a7d525576d7959c6911">getSession</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a0ef2f4b4ea68bcd957152a5b46a6612e">getFBUserId</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a6bc057a9b0c03f8147a4294936b2494b">getMe</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#ace5f32fc99c7c5989f7576755fc60972">getFirstName</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#ae81b7186fb97a7c6457edcc68c9aa2ef">getUser</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a2e112e7f214a9ffbc1948685a46fc1ee">getFriendList</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#abcda3e499f474b2b46474d47161154a2">getAppFriendList</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#ae401a06f8319a26a012457db1d3908ce">getCacheAppFriends</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a3f665b8d4df7bb1952cb8fc3f5b75561">setCacheAppFriends</a> ($value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a74a2e7cb200195c32d0b9552a331445a">getAutoLoadPictures</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#af4ec9526210829eed07fbf8bcd74f784">setAutoLoadPictures</a> ($value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#aed530f3943074ab9826563b51db5420a">getInviteAfterInstall</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#acb332c6546b31eabe02618a7ccc2732c">setInviteAfterInstall</a> ($value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a966f0f14413b21e8d4e8cf5180cdf627">getIsConnected</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a7bfb59fe7d249a66abbd2c1ea8b9b8ec">__construct</a> (<a class="el" href="classCPSFacebook.html">CPSFacebook</a> $facebookApi, $loginUrl, $userModelClass= 'User')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#aa238fcc5cb30759876aa89cd2e0711c1">api</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a750c93a7dfab5314f2bf662a407bc5a6">authenticate</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#aa4239198c895a9c8c1ea86753ed49095">_initialize</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a21df9dbf22cd606881c65d284208c90c">getAlbums</a> ($id=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a11900d7eee85bed9fda1a24827c1c5bf">getPhotos</a> ($aid, $id=null, $limit=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a0e6ee11d30fc9d158e8464759e64c1f8">onLoginFailure</a> (<a class="el" href="classCPSAuthenticationEvent.html">CPSAuthenticationEvent</a> $event)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#acad8b3c7359a6bd26c2399d8d5819b2b">onLoginSuccess</a> (<a class="el" href="classCPSAuthenticationEvent.html">CPSAuthenticationEvent</a> $event)</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a617a5b82b3ed6584e34461d71febb2cf">_loadUser</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a5a06de218ff8a267b61639c319862fa8">_getAllFriends</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#ad0e0d1a30e4654cb79ddcd1b759f956b">_getAppFriends</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a8db1c87ff7cf16af4110476a303ca342">_forceLogin</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a64da16c4a1c7b2dc6784f6ef26341ed7">$_id</a> = null</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a86b918c4cc90bae631b0f42b136d3a3c">$_userModelClass</a> = null</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a4baf52b9d7a98e5d1354c0184a030233">$_accessToken</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#ad0039d9d92917bd2c7e46c93d8562b8b">$_loginUrl</a> = ''</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#ad0641deaf4d314f034a134efaa6fbff0">$_session</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a19e04e69bd6cde6129a45de979954cfa">$_fbUserId</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a45e53d351918dc7cad7136ff44e1724b">$_me</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#ae47bb90ba7f0f5de161e554290d3b5b8">$_firstName</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a> = null</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a93380830cda99a4927d3507251a12e32">$_friendList</a> = null</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a69ad1b664bbcbc06fbaeb07133568469">$_appFriendList</a> = null</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a1ef3e76667a47cb12fabf1c9c79f17ff">$_cacheAppFriends</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#acbda478de6e55a60d9716bd3d101e40d">$_autoLoadPictures</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a06deb2baf54257cacaf8cbc83f9bf1a1">$_inviteAfterInstall</a> = true</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a3fb00b079c40b68e2ce79a0c27aad663">$_isConnected</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a2f481ea63815c4c7e8c6dad8b4d839ec">$_facebookApi</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSFacebookUserIdentity.html#a425e3b02d08adda9a06498d8e0f5714c">$_inForceLogin</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00021">21</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7bfb59fe7d249a66abbd2c1ea8b9b8ec"></a><!-- doxytag: member="CPSFacebookUserIdentity::__construct" ref="a7bfb59fe7d249a66abbd2c1ea8b9b8ec" args="(CPSFacebook $facebookApi, $loginUrl, $userModelClass= 'User')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCPSFacebook.html">CPSFacebook</a> $&nbsp;</td>
          <td class="paramname"> <em>facebookApi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>loginUrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>userModelClass</em> = <code>'User'</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classCPSFacebook.html">CPSFacebook</a></em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>password </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00149">149</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <a class="code" href="classCPSFacebookUserIdentity.html#a7bfb59fe7d249a66abbd2c1ea8b9b8ec">parent::__construct</a>( null, null );

        $this-&gt;_facebookApi = $facebookApi;
        $this-&gt;_loginUrl = $loginUrl;
        $this-&gt;_userModelClass = $userModelClass;

        Yii::import( <span class="stringliteral">&#39;pogostick.events.CPSAuthenticationEvent&#39;</span> );

        $this-&gt;<a class="code" href="classCPSFacebookUserIdentity.html#aa4239198c895a9c8c1ea86753ed49095">_initialize</a>();
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebookUserIdentity_a7bfb59fe7d249a66abbd2c1ea8b9b8ec_cgraph.png" border="0" usemap="#classCPSFacebookUserIdentity_a7bfb59fe7d249a66abbd2c1ea8b9b8ec_cgraph" alt=""/></div>
<map name="classCPSFacebookUserIdentity_a7bfb59fe7d249a66abbd2c1ea8b9b8ec_cgraph" id="classCPSFacebookUserIdentity_a7bfb59fe7d249a66abbd2c1ea8b9b8ec_cgraph">
<area shape="rect" id="node3" href="classCPSFacebookUserIdentity.html#aa4239198c895a9c8c1ea86753ed49095" title="_initialize" alt="" coords="149,161,229,191"/><area shape="rect" id="node5" href="classCPSFacebookUserIdentity.html#a8db1c87ff7cf16af4110476a303ca342" title="_forceLogin" alt="" coords="360,161,453,191"/><area shape="rect" id="node7" href="classCPSFacebookUserIdentity.html#a617a5b82b3ed6584e34461d71febb2cf" title="_loadUser" alt="" coords="593,109,679,139"/><area shape="rect" id="node12" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11" title="CPSLog::error" alt="" coords="905,132,1015,161"/><area shape="rect" id="node29" href="classCPSFacebookUser.html#aff132084818e40b18cc758c1bf7bf905" title="CPSFacebookUser::authenticateUser" alt="" coords="279,315,535,344"/><area shape="rect" id="node32" href="classCPSFacebookUserIdentity.html#a21df9dbf22cd606881c65d284208c90c" title="getAlbums" alt="" coords="751,264,841,293"/><area shape="rect" id="node20" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955" title="CPSLog::trace" alt="" coords="904,197,1016,227"/><area shape="rect" id="node24" href="classCPSLog.html#a377d71c5d7e04b1098ec85533d165ec4" title="CPSLog::info" alt="" coords="585,5,687,35"/><area shape="rect" id="node9" href="classCPSFacebookUserIdentity.html#ad0e0d1a30e4654cb79ddcd1b759f956b" title="_getAppFriends" alt="" coords="736,160,856,189"/><area shape="rect" id="node14" href="classCPSLog.html#a4c3be4120dc6dee2c97a6dde9428ac76" title="CPSLog::log" alt="" coords="1064,132,1163,161"/><area shape="rect" id="node16" href="classCPSLog.html#a66291d27410fbf7ba4978f513c13e6f0" title="CPSLog::_getCallingMethod" alt="" coords="1211,105,1408,135"/><area shape="rect" id="node18" href="classCPSLog.html#a8471574061e9457cc6e5be7c151b9cfb" title="CPSLog::_processMessage" alt="" coords="1213,159,1405,188"/><area shape="rect" id="node35" href="classCPSFacebookUserIdentity.html#a11900d7eee85bed9fda1a24827c1c5bf" title="getPhotos" alt="" coords="917,264,1003,293"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a8db1c87ff7cf16af4110476a303ca342"></a><!-- doxytag: member="CPSFacebookUserIdentity::_forceLogin" ref="a8db1c87ff7cf16af4110476a303ca342" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_forceLogin </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Forces a redirect to the Facebook login url... </p>

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00545">545</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="comment">//  If this is a deauth, clean up the database...</span>
        <span class="keywordflow">if</span> ( <span class="keyword">false</span> !== strpos( $_SERVER[<span class="stringliteral">&#39;REQUEST_URI&#39;</span>], <span class="stringliteral">&#39;app/deauthorize&#39;</span> ) )
        {
            <span class="keywordflow">if</span> ( $this-&gt;<a class="code" href="classCPSFacebookUserIdentity.html#a617a5b82b3ed6584e34461d71febb2cf">_loadUser</a>() )
                Yii::app()-&gt;getRequest()-&gt;redirect( <span class="stringliteral">&#39;deauthorize&#39;</span>, <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>( <span class="stringliteral">&#39;id&#39;</span> =&gt; $this-&gt;_user-&gt;id ) );
        }

        error_log( <span class="stringliteral">&#39;Force logging out user, no session found.&#39;</span> );
        <a class="code" href="classCPSLog.html#a377d71c5d7e04b1098ec85533d165ec4">CPSLog::info</a>( __METHOD__, <span class="stringliteral">&#39;Force logging out user, no session found.&#39;</span> );

        <span class="comment">//  Logout user...</span>
        PS::_gu()-&gt;logout();

        <a class="code" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955">CPSLog::trace</a>( __METHOD__, <span class="stringliteral">&#39;Facebook login redirect: &#39;</span> . $this-&gt;_loginUrl );

        echo <span class="stringliteral">&#39;&lt;script type=&quot;text/javascript&quot;&gt;window.top.location.href = &quot;&#39;</span> . $this-&gt;_loginUrl . <span class="stringliteral">&#39;&quot;;&lt;/script&gt;&#39;</span>;
        flush();
        exit;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebookUserIdentity_a8db1c87ff7cf16af4110476a303ca342_cgraph.png" border="0" usemap="#classCPSFacebookUserIdentity_a8db1c87ff7cf16af4110476a303ca342_cgraph" alt=""/></div>
<map name="classCPSFacebookUserIdentity_a8db1c87ff7cf16af4110476a303ca342_cgraph" id="classCPSFacebookUserIdentity_a8db1c87ff7cf16af4110476a303ca342_cgraph">
<area shape="rect" id="node3" href="classCPSFacebookUserIdentity.html#a617a5b82b3ed6584e34461d71febb2cf" title="_loadUser" alt="" coords="151,5,236,35"/><area shape="rect" id="node16" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955" title="CPSLog::trace" alt="" coords="453,108,565,137"/><area shape="rect" id="node20" href="classCPSLog.html#a377d71c5d7e04b1098ec85533d165ec4" title="CPSLog::info" alt="" coords="295,160,396,189"/><area shape="rect" id="node5" href="classCPSFacebookUserIdentity.html#ad0e0d1a30e4654cb79ddcd1b759f956b" title="_getAppFriends" alt="" coords="285,56,405,85"/><area shape="rect" id="node8" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11" title="CPSLog::error" alt="" coords="455,55,564,84"/><area shape="rect" id="node10" href="classCPSLog.html#a4c3be4120dc6dee2c97a6dde9428ac76" title="CPSLog::log" alt="" coords="613,108,712,137"/><area shape="rect" id="node12" href="classCPSLog.html#a66291d27410fbf7ba4978f513c13e6f0" title="CPSLog::_getCallingMethod" alt="" coords="760,81,957,111"/><area shape="rect" id="node14" href="classCPSLog.html#a8471574061e9457cc6e5be7c151b9cfb" title="CPSLog::_processMessage" alt="" coords="763,135,955,164"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebookUserIdentity_a8db1c87ff7cf16af4110476a303ca342_icgraph.png" border="0" usemap="#classCPSFacebookUserIdentity_a8db1c87ff7cf16af4110476a303ca342_icgraph" alt=""/></div>
<map name="classCPSFacebookUserIdentity_a8db1c87ff7cf16af4110476a303ca342_icgraph" id="classCPSFacebookUserIdentity_a8db1c87ff7cf16af4110476a303ca342_icgraph">
<area shape="rect" id="node3" href="classCPSFacebookUserIdentity.html#a5a06de218ff8a267b61639c319862fa8" title="_getAllFriends" alt="" coords="155,5,264,35"/><area shape="rect" id="node5" href="classCPSFacebookUserIdentity.html#ad0e0d1a30e4654cb79ddcd1b759f956b" title="_getAppFriends" alt="" coords="149,59,269,88"/><area shape="rect" id="node10" href="classCPSFacebookUserIdentity.html#aa4239198c895a9c8c1ea86753ed49095" title="_initialize" alt="" coords="453,136,533,165"/><area shape="rect" id="node7" href="classCPSFacebookUserIdentity.html#a617a5b82b3ed6584e34461d71febb2cf" title="_loadUser" alt="" coords="319,109,404,139"/><area shape="rect" id="node12" href="classCPSFacebookUserIdentity.html#a7bfb59fe7d249a66abbd2c1ea8b9b8ec" title="__construct" alt="" coords="581,136,677,165"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5a06de218ff8a267b61639c319862fa8"></a><!-- doxytag: member="CPSFacebookUserIdentity::_getAllFriends" ref="a5a06de218ff8a267b61639c319862fa8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_getAllFriends </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get all friend data </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>array </dd></dl>

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00367">367</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        $this-&gt;_friendList = PS::_gs( <a class="code" href="classCPSFacebookAppController.html#a33ac1db1c172ba0f5722c97f00af34d6">CPSFacebookAppController::FRIEND_CACHE</a> );

        <span class="keywordflow">try</span>
        {
            <span class="keywordflow">if</span> ( empty( $this-&gt;_friendList ) )
            {
                $_fql = <span class="stringliteral">&quot;SELECT uid, name, first_name, pic_big, pic_square FROM user WHERE uid IN ( SELECT uid2 FROM friend where uid1 = &#39;{$this-&gt;_fbUserId}&#39; ) order by name&quot;</span>;
                $this-&gt;_friendList = $this-&gt;_facebookApi-&gt;api( <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>( <span class="stringliteral">&#39;method&#39;</span> =&gt; <span class="stringliteral">&#39;fql.query&#39;</span>, <span class="stringliteral">&#39;query&#39;</span> =&gt; $_fql ) );
                PS::_ss( <a class="code" href="classCPSFacebookAppController.html#a33ac1db1c172ba0f5722c97f00af34d6">CPSFacebookAppController::FRIEND_CACHE</a>, $this-&gt;_friendList );
            }
        }
        <span class="keywordflow">catch</span> ( Exception $_ex )
        {
            <a class="code" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11">CPSLog::error</a>( __METHOD__, <span class="stringliteral">&#39;Exception: &#39;</span> . $_ex-&gt;getMessage() );
            error_log( <span class="stringliteral">&#39;Get all friends failed: &#39;</span> . $_ex-&gt;getMessage() );
            $this-&gt;<a class="code" href="classCPSFacebookUserIdentity.html#a8db1c87ff7cf16af4110476a303ca342">_forceLogin</a>();
        }

        <span class="keywordflow">return</span> $this-&gt;_friendList;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebookUserIdentity_a5a06de218ff8a267b61639c319862fa8_cgraph.png" border="0" usemap="#classCPSFacebookUserIdentity_a5a06de218ff8a267b61639c319862fa8_cgraph" alt=""/></div>
<map name="classCPSFacebookUserIdentity_a5a06de218ff8a267b61639c319862fa8_cgraph" id="classCPSFacebookUserIdentity_a5a06de218ff8a267b61639c319862fa8_cgraph">
<area shape="rect" id="node3" href="classCPSFacebookUserIdentity.html#a8db1c87ff7cf16af4110476a303ca342" title="_forceLogin" alt="" coords="167,108,260,137"/><area shape="rect" id="node10" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11" title="CPSLog::error" alt="" coords="615,155,724,184"/><area shape="rect" id="node5" href="classCPSFacebookUserIdentity.html#a617a5b82b3ed6584e34461d71febb2cf" title="_loadUser" alt="" coords="311,160,396,189"/><area shape="rect" id="node18" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955" title="CPSLog::trace" alt="" coords="613,76,725,105"/><area shape="rect" id="node22" href="classCPSLog.html#a377d71c5d7e04b1098ec85533d165ec4" title="CPSLog::info" alt="" coords="455,5,556,35"/><area shape="rect" id="node7" href="classCPSFacebookUserIdentity.html#ad0e0d1a30e4654cb79ddcd1b759f956b" title="_getAppFriends" alt="" coords="445,109,565,139"/><area shape="rect" id="node12" href="classCPSLog.html#a4c3be4120dc6dee2c97a6dde9428ac76" title="CPSLog::log" alt="" coords="773,76,872,105"/><area shape="rect" id="node14" href="classCPSLog.html#a66291d27410fbf7ba4978f513c13e6f0" title="CPSLog::_getCallingMethod" alt="" coords="920,49,1117,79"/><area shape="rect" id="node16" href="classCPSLog.html#a8471574061e9457cc6e5be7c151b9cfb" title="CPSLog::_processMessage" alt="" coords="923,103,1115,132"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad0e0d1a30e4654cb79ddcd1b759f956b"></a><!-- doxytag: member="CPSFacebookUserIdentity::_getAppFriends" ref="ad0e0d1a30e4654cb79ddcd1b759f956b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_getAppFriends </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get friend data who have this app </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>array </dd></dl>

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00394">394</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        $this-&gt;_appFriendList = ( $this-&gt;_cacheAppFriends ? PS::_gs( <a class="code" href="classCPSFacebookAppController.html#a1893848deeea686e915dd2151301e807">CPSFacebookAppController::APP_FRIEND_CACHE</a> ) : null );

        <span class="keywordflow">try</span>
        {
            <span class="keywordflow">if</span> ( empty( $this-&gt;_appFriendList ) )
            {
                $_fql = <span class="stringliteral">&quot;select uid from user where is_app_user = &#39;1&#39; and uid in ( select uid2 from friend where uid1 = &#39;{$this-&gt;_fbUserId}&#39; ) order by name&quot;</span>;
                $_list = $this-&gt;_facebookApi-&gt;api( <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>( <span class="stringliteral">&#39;method&#39;</span> =&gt; <span class="stringliteral">&#39;fql.query&#39;</span>, <span class="stringliteral">&#39;query&#39;</span> =&gt; $_fql ) );

                <span class="keywordflow">if</span> ( defined( <span class="stringliteral">&#39;PYE_TRACE_LEVEL&#39;</span> ) &amp;&amp; PYE_TRACE_LEVEL &gt; 3 )
                    <a class="code" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955">CPSLog::trace</a>( __METHOD__, <span class="stringliteral">&#39;  - App Friend List Retrieved: &#39;</span> . print_r( $_list, <span class="keyword">true</span> ) );

                <span class="comment">//  Make into a list of uids...</span>
                <span class="keywordflow">foreach</span> ( $_list as $_friend )
                {
                    <span class="keywordflow">if</span> ( ! empty( $_friend[<span class="stringliteral">&#39;uid&#39;</span>] ) )
                        $this-&gt;_appFriendList[] = <span class="charliteral">&#39;\&#39;&#39;</span> . $_friend[<span class="stringliteral">&#39;uid&#39;</span>] . <span class="charliteral">&#39;\&#39;&#39;</span>;
                }

                <span class="keywordflow">if</span> ( $this-&gt;_cacheAppFriends )
                    PS::_ss( <a class="code" href="classCPSFacebookAppController.html#a1893848deeea686e915dd2151301e807">CPSFacebookAppController::APP_FRIEND_CACHE</a>, $this-&gt;_appFriendList );
            }
        }
        <span class="keywordflow">catch</span> ( Exception $_ex )
        {
            error_log( <span class="stringliteral">&#39;Get APP friends failed: &#39;</span> . $_ex-&gt;getMessage() );
            <a class="code" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11">CPSLog::error</a>( __METHOD__, <span class="stringliteral">&#39;Exception: &#39;</span> . $_ex-&gt;getMessage() );
            $this-&gt;<a class="code" href="classCPSFacebookUserIdentity.html#a8db1c87ff7cf16af4110476a303ca342">_forceLogin</a>();
        }

        <span class="keywordflow">return</span> $this-&gt;_appFriendList;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebookUserIdentity_ad0e0d1a30e4654cb79ddcd1b759f956b_cgraph.png" border="0" usemap="#classCPSFacebookUserIdentity_ad0e0d1a30e4654cb79ddcd1b759f956b_cgraph" alt=""/></div>
<map name="classCPSFacebookUserIdentity_ad0e0d1a30e4654cb79ddcd1b759f956b_cgraph" id="classCPSFacebookUserIdentity_ad0e0d1a30e4654cb79ddcd1b759f956b_cgraph">
<area shape="rect" id="node3" href="classCPSFacebookUserIdentity.html#a8db1c87ff7cf16af4110476a303ca342" title="_forceLogin" alt="" coords="175,76,268,105"/><area shape="rect" id="node8" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11" title="CPSLog::error" alt="" coords="479,22,588,52"/><area shape="rect" id="node19" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955" title="CPSLog::trace" alt="" coords="317,128,429,157"/><area shape="rect" id="node5" href="classCPSFacebookUserIdentity.html#a617a5b82b3ed6584e34461d71febb2cf" title="_loadUser" alt="" coords="331,24,416,53"/><area shape="rect" id="node16" href="classCPSLog.html#a377d71c5d7e04b1098ec85533d165ec4" title="CPSLog::info" alt="" coords="483,76,584,105"/><area shape="rect" id="node10" href="classCPSLog.html#a4c3be4120dc6dee2c97a6dde9428ac76" title="CPSLog::log" alt="" coords="637,76,736,105"/><area shape="rect" id="node12" href="classCPSLog.html#a66291d27410fbf7ba4978f513c13e6f0" title="CPSLog::_getCallingMethod" alt="" coords="784,49,981,78"/><area shape="rect" id="node14" href="classCPSLog.html#a8471574061e9457cc6e5be7c151b9cfb" title="CPSLog::_processMessage" alt="" coords="787,102,979,132"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebookUserIdentity_ad0e0d1a30e4654cb79ddcd1b759f956b_icgraph.png" border="0" usemap="#classCPSFacebookUserIdentity_ad0e0d1a30e4654cb79ddcd1b759f956b_icgraph" alt=""/></div>
<map name="classCPSFacebookUserIdentity_ad0e0d1a30e4654cb79ddcd1b759f956b_icgraph" id="classCPSFacebookUserIdentity_ad0e0d1a30e4654cb79ddcd1b759f956b_icgraph">
<area shape="rect" id="node3" href="classCPSFacebookUserIdentity.html#a617a5b82b3ed6584e34461d71febb2cf" title="_loadUser" alt="" coords="175,59,260,88"/><area shape="rect" id="node5" href="classCPSFacebookUserIdentity.html#a8db1c87ff7cf16af4110476a303ca342" title="_forceLogin" alt="" coords="311,7,404,36"/><area shape="rect" id="node10" href="classCPSFacebookUserIdentity.html#aa4239198c895a9c8c1ea86753ed49095" title="_initialize" alt="" coords="469,59,549,88"/><area shape="rect" id="node7" href="classCPSFacebookUserIdentity.html#a5a06de218ff8a267b61639c319862fa8" title="_getAllFriends" alt="" coords="455,5,564,35"/><area shape="rect" id="node12" href="classCPSFacebookUserIdentity.html#a7bfb59fe7d249a66abbd2c1ea8b9b8ec" title="__construct" alt="" coords="613,59,709,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa4239198c895a9c8c1ea86753ed49095"></a><!-- doxytag: member="CPSFacebookUserIdentity::_initialize" ref="aa4239198c895a9c8c1ea86753ed49095" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_initialize </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize the Facebook stuff </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd>Come up with a better property placement design </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00211">211</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="comment">//  Ignore second call and standalone...</span>
        <span class="keywordflow">if</span> ( PS::_gs( <span class="stringliteral">&#39;standalone&#39;</span>, <span class="keyword">false</span> ) || $this-&gt;_inForceLogin )
            <span class="keywordflow">return</span>;

        $this-&gt;_session = $this-&gt;_facebookApi-&gt;getSession();

        <span class="keywordflow">if</span> ( ! $this-&gt;_session )
        {
            $this-&gt;_inForceLogin = <span class="keyword">true</span>;
            $this-&gt;<a class="code" href="classCPSFacebookUserIdentity.html#a8db1c87ff7cf16af4110476a303ca342">_forceLogin</a>();
        }

        $this-&gt;_inForceLogin = <span class="keyword">false</span>;

        <span class="keywordflow">try</span>
        {
            <span class="comment">//  Get our info...</span>
            $this-&gt;_me = PS::_gs( <span class="stringliteral">&#39;currentMe&#39;</span> );

            <span class="keywordflow">if</span> ( null === $this-&gt;_me &amp;&amp; ! ( $this-&gt;_me = $this-&gt;_facebookApi-&gt;api( <span class="stringliteral">&#39;/me&#39;</span> ) ) )
                <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception( <span class="stringliteral">&#39;Not really logged in...&#39;</span> );

            <span class="comment">//  Not logged in? Authenticate!</span>
            <span class="keywordflow">if</span> ( PS::_ig() &amp;&amp; ! <a class="code" href="classCPSFacebookUser.html#aff132084818e40b18cc758c1bf7bf905">CPSFacebookUser::authenticateUser</a>( $this-&gt;_facebookApi, $this ) )
                <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception( <span class="stringliteral">&#39;Invalid session&#39;</span> );

            <span class="comment">//  Log into system...</span>
            $this-&gt;_me = $this-&gt;_facebookApi-&gt;api( <span class="stringliteral">&#39;/me&#39;</span> );
            $this-&gt;_fbUserId = $this-&gt;_session[<span class="stringliteral">&#39;uid&#39;</span>];
            $this-&gt;_accessToken = $this-&gt;_session[<span class="stringliteral">&#39;access_token&#39;</span>];
            $this-&gt;_firstName = PS::o( $this-&gt;_me, <span class="stringliteral">&#39;first_name&#39;</span> );
            $this-&gt;<a class="code" href="classCPSFacebookUserIdentity.html#a617a5b82b3ed6584e34461d71febb2cf">_loadUser</a>();

            <span class="keywordflow">if</span> ( $this-&gt;_autoLoadPictures )
            {
                <a class="code" href="classCPSFacebook.html#a7e2b66c375158928ec4cfa9de801ac0b">CPSFacebook::$_photoList</a> = $this-&gt;<a class="code" href="classCPSFacebookUserIdentity.html#a21df9dbf22cd606881c65d284208c90c">getAlbums</a>();

                <span class="keywordflow">if</span> ( empty( <a class="code" href="classCPSFacebook.html#a7e2b66c375158928ec4cfa9de801ac0b">CPSFacebook::$_photoList</a> ) )
                    PS::_rs( <span class="stringliteral">&#39;_psAutoLoadPictures&#39;</span>, <span class="stringliteral">&#39;$(function(){$.get(&quot;/app/photos&quot;,function(){});});&#39;</span>, CClientScript::POS_END );
            }

            <span class="keywordflow">return</span> $this-&gt;_isConnected = <span class="keyword">true</span>;
        }
        <span class="keywordflow">catch</span> ( Exception $_ex )
        {
            <a class="code" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11">CPSLog::error</a>( __METHOD__, <span class="stringliteral">&#39;FB Exception: &#39;</span> . $_ex-&gt;getMessage() );
            error_log( <span class="stringliteral">&#39;init exception: &#39;</span> . $_ex-&gt;getMessage() );
            $this-&gt;<a class="code" href="classCPSFacebookUserIdentity.html#a8db1c87ff7cf16af4110476a303ca342">_forceLogin</a>();
        }

        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebookUserIdentity_aa4239198c895a9c8c1ea86753ed49095_cgraph.png" border="0" usemap="#classCPSFacebookUserIdentity_aa4239198c895a9c8c1ea86753ed49095_cgraph" alt=""/></div>
<map name="classCPSFacebookUserIdentity_aa4239198c895a9c8c1ea86753ed49095_cgraph" id="classCPSFacebookUserIdentity_aa4239198c895a9c8c1ea86753ed49095_cgraph">
<area shape="rect" id="node3" href="classCPSFacebookUserIdentity.html#a8db1c87ff7cf16af4110476a303ca342" title="_forceLogin" alt="" coords="216,161,309,191"/><area shape="rect" id="node5" href="classCPSFacebookUserIdentity.html#a617a5b82b3ed6584e34461d71febb2cf" title="_loadUser" alt="" coords="449,109,535,139"/><area shape="rect" id="node10" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11" title="CPSLog::error" alt="" coords="761,132,871,161"/><area shape="rect" id="node27" href="classCPSFacebookUser.html#aff132084818e40b18cc758c1bf7bf905" title="CPSFacebookUser::authenticateUser" alt="" coords="135,315,391,344"/><area shape="rect" id="node30" href="classCPSFacebookUserIdentity.html#a21df9dbf22cd606881c65d284208c90c" title="getAlbums" alt="" coords="607,264,697,293"/><area shape="rect" id="node18" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955" title="CPSLog::trace" alt="" coords="760,197,872,227"/><area shape="rect" id="node22" href="classCPSLog.html#a377d71c5d7e04b1098ec85533d165ec4" title="CPSLog::info" alt="" coords="441,5,543,35"/><area shape="rect" id="node7" href="classCPSFacebookUserIdentity.html#ad0e0d1a30e4654cb79ddcd1b759f956b" title="_getAppFriends" alt="" coords="592,160,712,189"/><area shape="rect" id="node12" href="classCPSLog.html#a4c3be4120dc6dee2c97a6dde9428ac76" title="CPSLog::log" alt="" coords="920,132,1019,161"/><area shape="rect" id="node14" href="classCPSLog.html#a66291d27410fbf7ba4978f513c13e6f0" title="CPSLog::_getCallingMethod" alt="" coords="1067,105,1264,135"/><area shape="rect" id="node16" href="classCPSLog.html#a8471574061e9457cc6e5be7c151b9cfb" title="CPSLog::_processMessage" alt="" coords="1069,159,1261,188"/><area shape="rect" id="node33" href="classCPSFacebookUserIdentity.html#a11900d7eee85bed9fda1a24827c1c5bf" title="getPhotos" alt="" coords="773,264,859,293"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebookUserIdentity_aa4239198c895a9c8c1ea86753ed49095_icgraph.png" border="0" usemap="#classCPSFacebookUserIdentity_aa4239198c895a9c8c1ea86753ed49095_icgraph" alt=""/></div>
<map name="classCPSFacebookUserIdentity_aa4239198c895a9c8c1ea86753ed49095_icgraph" id="classCPSFacebookUserIdentity_aa4239198c895a9c8c1ea86753ed49095_icgraph">
<area shape="rect" id="node3" href="classCPSFacebookUserIdentity.html#a7bfb59fe7d249a66abbd2c1ea8b9b8ec" title="__construct" alt="" coords="133,5,229,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a617a5b82b3ed6584e34461d71febb2cf"></a><!-- doxytag: member="CPSFacebookUserIdentity::_loadUser" ref="a617a5b82b3ed6584e34461d71febb2cf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_loadUser </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Loads the user from the database. If the user is not found, a new row is added. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00270">270</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a> = null;

        <span class="comment">//  NO user id? Bail!</span>
        <span class="keywordflow">if</span> ( empty( $this-&gt;_fbUserId ) )
        {
            <a class="code" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11">CPSLog::error</a>(__METHOD__,<span class="stringliteral">&#39;FBUID EMPTY!&#39;</span> . $this-&gt;_fbUserId );
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }

        <span class="comment">//  Is this a new app user?</span>
        $_model = call_user_func( <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>( $this-&gt;_userModelClass, <span class="stringliteral">&#39;model&#39;</span> ) );

        <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a> = $_model-&gt;find( <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
            <span class="stringliteral">&#39;condition&#39;</span> =&gt; <span class="stringliteral">&#39;pform_user_id_text = :pform_user_id_text and pform_type_code = :pform_type_code&#39;</span>,
            <span class="stringliteral">&#39;params&#39;</span> =&gt; <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
                <span class="stringliteral">&#39;:pform_user_id_text&#39;</span> =&gt; $this-&gt;_fbUserId,
                <span class="stringliteral">&#39;:pform_type_code&#39;</span> =&gt; 1000,
            )
        ));

        <span class="comment">//  Not found, assume new...</span>
        <span class="keywordflow">if</span> ( ! <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a> )
        {
            <span class="comment">//  New user...</span>
            <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a> = get_class( $_model );
            <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a>-&gt;pform_user_id_text = $this-&gt;_fbUserId;
            <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a>-&gt;pform_type_code = 1000;
            <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a>-&gt;app_add_date = date( <span class="stringliteral">&#39;Y-m-d h:i:s&#39;</span> );
            <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a>-&gt;app_del_date = null;
        }

        <span class="comment">//  Set new stuff</span>
        $_freshness = ( <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a>-&gt;session_key_text != $this-&gt;_accessToken );

        <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a>-&gt;session_key_text = $this-&gt;_accessToken;
        <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a>-&gt;last_visit_date = date( <span class="stringliteral">&#39;Y-m-d h:i:s&#39;</span> );

        <span class="comment">//  User installed app this time?</span>
        <span class="keywordflow">if</span> ( <span class="charliteral">&#39;1&#39;</span> == PS::o( $_REQUEST, <span class="stringliteral">&#39;installed&#39;</span> ) )
        {
            <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a>-&gt;app_add_date = date( <span class="stringliteral">&#39;Y-m-d h:i:s&#39;</span> );
            <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a>-&gt;app_del_date = null;
            <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a>-&gt;app_add_count_nbr += 1;

            <span class="comment">//  Invite friends?</span>
            <span class="keywordflow">if</span> ( $this-&gt;_inviteAfterInstall )
            {
                $this-&gt;redirect( <span class="stringliteral">&#39;inviteFriends&#39;</span>, <span class="keyword">true</span>, 301 );
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
            }
        }

        <span class="keywordflow">if</span> ( $this-&gt;_me )
        {
            PS::_ss( <a class="code" href="classCPSFacebookAppController.html#a3fefc47757aedf92a1e71a894503a9e0">CPSFacebookAppController::ME_CACHE</a>, $this-&gt;_me );
            <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a>-&gt;first_name_text = $this-&gt;_firstName;
            <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a>-&gt;last_name_text = PS::o( $this-&gt;_me, <span class="stringliteral">&#39;last_name&#39;</span> );
            <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a>-&gt;email_addr_text = PS::o( $this-&gt;_me, <span class="stringliteral">&#39;email&#39;</span> );
            <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a>-&gt;full_name_text = $this-&gt;_firstName . <span class="charliteral">&#39; &#39;</span> . strtoupper( substr( PS::o( $this-&gt;_me, <span class="stringliteral">&#39;last_name&#39;</span> ), 0, 1 ) . <span class="charliteral">&#39;.&#39;</span> );
        }

        <span class="comment">//  Clear all the caches</span>
        <span class="keywordflow">if</span> ( $_freshness )
        {
            PS::_ss( <a class="code" href="classCPSFacebookAppController.html#a68a34ece4de56a54f4f82c474c0204d7">CPSFacebookAppController::THUMB_CACHE</a>, null );
            PS::_ss( <a class="code" href="classCPSFacebookAppController.html#a33ac1db1c172ba0f5722c97f00af34d6">CPSFacebookAppController::FRIEND_CACHE</a>, null );
            PS::_ss( <a class="code" href="classCPSFacebookAppController.html#a1893848deeea686e915dd2151301e807">CPSFacebookAppController::APP_FRIEND_CACHE</a>, null );
            PS::_ss( <a class="code" href="classCPSFacebookAppController.html#a566d4822d1e8b1e6a916007a2be84878">CPSFacebookAppController::PROFILE_CACHE</a>, null );
            PS::_ss( <a class="code" href="classCPSFacebookAppController.html#a52c5815c1a32c4d4e554abd7c6071f56">CPSFacebookAppController::FL_CACHE</a>, null );
        }

        <span class="comment">//  Load app friends</span>
        $this-&gt;<a class="code" href="classCPSFacebookUserIdentity.html#ad0e0d1a30e4654cb79ddcd1b759f956b">_getAppFriends</a>();

        <span class="comment">//  Save info...</span>
        <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a>-&gt;save();

        <span class="comment">//  Stow da ting mon</span>
        $this-&gt;_id = <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a>-&gt;id;

        <span class="comment">//  Set our current user...</span>
        PS::_ss( <span class="stringliteral">&#39;currentUser&#39;</span>, $this-&gt;_user = <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a> );
        PS::_ss( <span class="stringliteral">&#39;currentIdentity&#39;</span>, $this );

        <span class="comment">//  Raise the facebook login event in our controller</span>
        <span class="keywordflow">if</span> ( $_freshness )
            PS::_gc()-&gt;onFacebookLogin( <span class="keyword">new</span> CEvent( <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a> ) );

        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebookUserIdentity_a617a5b82b3ed6584e34461d71febb2cf_cgraph.png" border="0" usemap="#classCPSFacebookUserIdentity_a617a5b82b3ed6584e34461d71febb2cf_cgraph" alt=""/></div>
<map name="classCPSFacebookUserIdentity_a617a5b82b3ed6584e34461d71febb2cf_cgraph" id="classCPSFacebookUserIdentity_a617a5b82b3ed6584e34461d71febb2cf_cgraph">
<area shape="rect" id="node3" href="classCPSFacebookUserIdentity.html#ad0e0d1a30e4654cb79ddcd1b759f956b" title="_getAppFriends" alt="" coords="141,59,261,88"/><area shape="rect" id="node19" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11" title="CPSLog::error" alt="" coords="311,111,420,140"/><area shape="rect" id="node5" href="classCPSFacebookUserIdentity.html#a8db1c87ff7cf16af4110476a303ca342" title="_forceLogin" alt="" coords="319,7,412,36"/><area shape="rect" id="node16" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955" title="CPSLog::trace" alt="" coords="469,59,581,88"/><area shape="rect" id="node8" href="classCPSLog.html#a377d71c5d7e04b1098ec85533d165ec4" title="CPSLog::info" alt="" coords="475,5,576,35"/><area shape="rect" id="node10" href="classCPSLog.html#a4c3be4120dc6dee2c97a6dde9428ac76" title="CPSLog::log" alt="" coords="629,59,728,88"/><area shape="rect" id="node12" href="classCPSLog.html#a66291d27410fbf7ba4978f513c13e6f0" title="CPSLog::_getCallingMethod" alt="" coords="776,32,973,61"/><area shape="rect" id="node14" href="classCPSLog.html#a8471574061e9457cc6e5be7c151b9cfb" title="CPSLog::_processMessage" alt="" coords="779,85,971,115"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebookUserIdentity_a617a5b82b3ed6584e34461d71febb2cf_icgraph.png" border="0" usemap="#classCPSFacebookUserIdentity_a617a5b82b3ed6584e34461d71febb2cf_icgraph" alt=""/></div>
<map name="classCPSFacebookUserIdentity_a617a5b82b3ed6584e34461d71febb2cf_icgraph" id="classCPSFacebookUserIdentity_a617a5b82b3ed6584e34461d71febb2cf_icgraph">
<area shape="rect" id="node3" href="classCPSFacebookUserIdentity.html#a8db1c87ff7cf16af4110476a303ca342" title="_forceLogin" alt="" coords="143,59,236,88"/><area shape="rect" id="node10" href="classCPSFacebookUserIdentity.html#aa4239198c895a9c8c1ea86753ed49095" title="_initialize" alt="" coords="305,112,385,141"/><area shape="rect" id="node5" href="classCPSFacebookUserIdentity.html#a5a06de218ff8a267b61639c319862fa8" title="_getAllFriends" alt="" coords="291,59,400,88"/><area shape="rect" id="node7" href="classCPSFacebookUserIdentity.html#ad0e0d1a30e4654cb79ddcd1b759f956b" title="_getAppFriends" alt="" coords="285,5,405,35"/><area shape="rect" id="node12" href="classCPSFacebookUserIdentity.html#a7bfb59fe7d249a66abbd2c1ea8b9b8ec" title="__construct" alt="" coords="453,112,549,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa238fcc5cb30759876aa89cd2e0711c1"></a><!-- doxytag: member="CPSFacebookUserIdentity::api" ref="aa238fcc5cb30759876aa89cd2e0711c1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">api </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Passthrough function to <a class="el" href="classCPSFacebookUserIdentity.html#aa238fcc5cb30759876aa89cd2e0711c1">api()</a> </p>

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00165">165</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        $_arguments = func_get_args();
        <span class="keywordflow">return</span> call_user_func_array( <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>( $this-&gt;_facebookApi, <span class="stringliteral">&#39;api&#39;</span> ), $_arguments );
    }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a750c93a7dfab5314f2bf662a407bc5a6"></a><!-- doxytag: member="CPSFacebookUserIdentity::authenticate" ref="a750c93a7dfab5314f2bf662a407bc5a6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">authenticate </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Authenticates a user based on session validity from Facebook. This method is required by <a class="el" href="">IUserIdentity</a>. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean whether authentication succeeds. </dd></dl>

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00176">176</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        $this-&gt;errorCode = self::ERROR_UNKNOWN_IDENTITY;

        <span class="keywordflow">if</span> ( $this-&gt;_facebookApi )
        {
            $this-&gt;_session = $this-&gt;_facebookApi-&gt;getSession();
            $this-&gt;_me = $this-&gt;_facebookApi-&gt;api( <span class="stringliteral">&#39;/me&#39;</span> );

            <span class="keywordflow">if</span> ( $this-&gt;_session &amp;&amp; $this-&gt;_me )
            {
                $this-&gt;errorCode = self::ERROR_NONE;
                $this-&gt;username = trim( $this-&gt;_me[<span class="stringliteral">&#39;name&#39;</span>] );

                <span class="comment">//  Raise our event</span>
                $this-&gt;<a class="code" href="classCPSFacebookUserIdentity.html#acad8b3c7359a6bd26c2399d8d5819b2b">onLoginSuccess</a>( <span class="keyword">new</span> <a class="code" href="classCPSAuthenticationEvent.html">CPSAuthenticationEvent</a>( $this, $this-&gt;_me, $this ) );

                <span class="keywordflow">return</span> <span class="keyword">true</span>;
            }
        }

        $this-&gt;<a class="code" href="classCPSFacebookUserIdentity.html#a0e6ee11d30fc9d158e8464759e64c1f8">onLoginFailure</a>( <span class="keyword">new</span> <a class="code" href="classCPSAuthenticationEvent.html">CPSAuthenticationEvent</a>( $this, $this-&gt;_me, $this ) );

        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebookUserIdentity_a750c93a7dfab5314f2bf662a407bc5a6_cgraph.png" border="0" usemap="#classCPSFacebookUserIdentity_a750c93a7dfab5314f2bf662a407bc5a6_cgraph" alt=""/></div>
<map name="classCPSFacebookUserIdentity_a750c93a7dfab5314f2bf662a407bc5a6_cgraph" id="classCPSFacebookUserIdentity_a750c93a7dfab5314f2bf662a407bc5a6_cgraph">
<area shape="rect" id="node3" href="classCPSFacebookUserIdentity.html#a0e6ee11d30fc9d158e8464759e64c1f8" title="onLoginFailure" alt="" coords="164,5,276,35"/><area shape="rect" id="node5" href="classCPSFacebookUserIdentity.html#acad8b3c7359a6bd26c2399d8d5819b2b" title="onLoginSuccess" alt="" coords="157,59,283,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5d251c70a3f9f9daaff7f00ec5f894c0"></a><!-- doxytag: member="CPSFacebookUserIdentity::getAccessToken" ref="a5d251c70a3f9f9daaff7f00ec5f894c0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getAccessToken </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00045">45</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_accessToken; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a21df9dbf22cd606881c65d284208c90c"></a><!-- doxytag: member="CPSFacebookUserIdentity::getAlbums" ref="a21df9dbf22cd606881c65d284208c90c" args="($id=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getAlbums </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em> = <code>null</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Fills the album cache </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>The album ID to return, null for all </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00433">433</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keyword">static</span> $_inProgress = <span class="keyword">false</span>;

        $_model = call_user_func( <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>( $this-&gt;_userModelClass, <span class="stringliteral">&#39;model&#39;</span> ) );

        <span class="keywordflow">if</span> ( null !== ( <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a> = $_model-&gt;find( <span class="stringliteral">&#39;:pform_user_id_text = pform_user_id_text&#39;</span>, <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>( <span class="stringliteral">&#39;:pform_user_id_text&#39;</span> =&gt; $this-&gt;_fbUserId ) ) ) )
            <a class="code" href="classCPSFacebook.html#a7e2b66c375158928ec4cfa9de801ac0b">CPSFacebook::$_photoList</a> = json_decode( <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a>-&gt;photo_cache_text, <span class="keyword">true</span> );

        <span class="keywordflow">if</span> ( $_inProgress ) <span class="keywordflow">return</span> <a class="code" href="classCPSFacebook.html#a7e2b66c375158928ec4cfa9de801ac0b">CPSFacebook::$_photoList</a>;

        <span class="keywordflow">if</span> ( empty( <a class="code" href="classCPSFacebook.html#a7e2b66c375158928ec4cfa9de801ac0b">CPSFacebook::$_photoList</a> ) )
        {
            <a class="code" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955">CPSLog::trace</a>( __METHOD__, <span class="stringliteral">&#39;Reloading photo cache...&#39;</span> );
            $_inProgress = <span class="keyword">true</span>;
            <a class="code" href="classCPSFacebook.html#a7e2b66c375158928ec4cfa9de801ac0b">CPSFacebook::$_photoList</a> = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();

            <span class="keywordflow">try</span>
            {
                $_result = $this-&gt;_facebookApi-&gt;api( <span class="stringliteral">&#39;/me/albums&#39;</span> );
                <span class="keywordflow">if</span> ( null != ( <a class="code" href="classCPSFacebook.html#a7e2b66c375158928ec4cfa9de801ac0b">CPSFacebook::$_photoList</a> = PS::o( $_result, <span class="stringliteral">&#39;data&#39;</span> ) ) )
                {
                    $_result = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();

                    <span class="keywordflow">foreach</span> ( <a class="code" href="classCPSFacebook.html#a7e2b66c375158928ec4cfa9de801ac0b">CPSFacebook::$_photoList</a> as $_key =&gt; $_album )
                    {
                        <a class="code" href="classCPSFacebook.html#a7e2b66c375158928ec4cfa9de801ac0b">CPSFacebook::$_photoList</a>[$_key][<span class="stringliteral">&#39;photos&#39;</span>] = $this-&gt;<a class="code" href="classCPSFacebookUserIdentity.html#a11900d7eee85bed9fda1a24827c1c5bf">getPhotos</a>( $_album[<span class="stringliteral">&#39;id&#39;</span>] );

                        <span class="keywordflow">if</span> ( ! empty( <a class="code" href="classCPSFacebook.html#a7e2b66c375158928ec4cfa9de801ac0b">CPSFacebook::$_photoList</a>[$_key][<span class="stringliteral">&#39;photos&#39;</span>] ) )
                        {
                            <span class="keywordflow">foreach</span> ( <a class="code" href="classCPSFacebook.html#a7e2b66c375158928ec4cfa9de801ac0b">CPSFacebook::$_photoList</a>[$_key][<span class="stringliteral">&#39;photos&#39;</span>] as $_photo )
                            {
                                <span class="keywordflow">if</span> ( isset( $_photo[<span class="stringliteral">&#39;picture&#39;</span>] ) )
                                {
                                    <a class="code" href="classCPSFacebook.html#a7e2b66c375158928ec4cfa9de801ac0b">CPSFacebook::$_photoList</a>[$_key][<span class="stringliteral">&#39;picture&#39;</span>] = $_photo[<span class="stringliteral">&#39;picture&#39;</span>];
                                    <span class="keywordflow">break</span>;
                                }
                            }
                        }
                    }

                    <a class="code" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955">CPSLog::trace</a>( __METHOD__, <span class="stringliteral">&#39;Saving photos to user table cache...&#39;</span> );
                    <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a>-&gt;photo_cache_text = json_encode( <a class="code" href="classCPSFacebook.html#a7e2b66c375158928ec4cfa9de801ac0b">CPSFacebook::$_photoList</a> );
                    <a class="code" href="classCPSFacebookUserIdentity.html#a5df5982b9dadc74df05081972cd67fdf">$_user</a>-&gt;update( <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>( <span class="stringliteral">&#39;photo_cache_text&#39;</span> ) );
                }
            }
            <span class="keywordflow">catch</span> ( Exception $_ex )
            {
                <a class="code" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11">CPSLog::error</a>( __METHOD__, <span class="stringliteral">&#39;Exception: &#39;</span> . $_ex-&gt;getMessage() );
            }
        }

        $_inProgress = <span class="keyword">false</span>;
        <span class="keywordflow">return</span> <a class="code" href="classCPSFacebook.html#a7e2b66c375158928ec4cfa9de801ac0b">CPSFacebook::$_photoList</a>;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebookUserIdentity_a21df9dbf22cd606881c65d284208c90c_cgraph.png" border="0" usemap="#classCPSFacebookUserIdentity_a21df9dbf22cd606881c65d284208c90c_cgraph" alt=""/></div>
<map name="classCPSFacebookUserIdentity_a21df9dbf22cd606881c65d284208c90c_cgraph" id="classCPSFacebookUserIdentity_a21df9dbf22cd606881c65d284208c90c_cgraph">
<area shape="rect" id="node3" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11" title="CPSLog::error" alt="" coords="145,5,255,35"/><area shape="rect" id="node11" href="classCPSFacebookUserIdentity.html#a11900d7eee85bed9fda1a24827c1c5bf" title="getPhotos" alt="" coords="157,59,243,88"/><area shape="rect" id="node14" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955" title="CPSLog::trace" alt="" coords="144,112,256,141"/><area shape="rect" id="node5" href="classCPSLog.html#a4c3be4120dc6dee2c97a6dde9428ac76" title="CPSLog::log" alt="" coords="304,59,403,88"/><area shape="rect" id="node7" href="classCPSLog.html#a66291d27410fbf7ba4978f513c13e6f0" title="CPSLog::_getCallingMethod" alt="" coords="451,32,648,61"/><area shape="rect" id="node9" href="classCPSLog.html#a8471574061e9457cc6e5be7c151b9cfb" title="CPSLog::_processMessage" alt="" coords="453,85,645,115"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebookUserIdentity_a21df9dbf22cd606881c65d284208c90c_icgraph.png" border="0" usemap="#classCPSFacebookUserIdentity_a21df9dbf22cd606881c65d284208c90c_icgraph" alt=""/></div>
<map name="classCPSFacebookUserIdentity_a21df9dbf22cd606881c65d284208c90c_icgraph" id="classCPSFacebookUserIdentity_a21df9dbf22cd606881c65d284208c90c_icgraph">
<area shape="rect" id="node3" href="classCPSFacebookUserIdentity.html#aa4239198c895a9c8c1ea86753ed49095" title="_initialize" alt="" coords="148,5,228,35"/><area shape="rect" id="node7" href="classCPSFacebookUserIdentity.html#a11900d7eee85bed9fda1a24827c1c5bf" title="getPhotos" alt="" coords="145,59,231,88"/><area shape="rect" id="node5" href="classCPSFacebookUserIdentity.html#a7bfb59fe7d249a66abbd2c1ea8b9b8ec" title="__construct" alt="" coords="280,5,376,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abcda3e499f474b2b46474d47161154a2"></a><!-- doxytag: member="CPSFacebookUserIdentity::getAppFriendList" ref="abcda3e499f474b2b46474d47161154a2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getAppFriendList </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00095">95</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_appFriendList; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a74a2e7cb200195c32d0b9552a331445a"></a><!-- doxytag: member="CPSFacebookUserIdentity::getAutoLoadPictures" ref="a74a2e7cb200195c32d0b9552a331445a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getAutoLoadPictures </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00109">109</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_autoLoadPictures; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae401a06f8319a26a012457db1d3908ce"></a><!-- doxytag: member="CPSFacebookUserIdentity::getCacheAppFriends" ref="ae401a06f8319a26a012457db1d3908ce" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getCacheAppFriends </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00102">102</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_cacheAppFriends; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0ef2f4b4ea68bcd957152a5b46a6612e"></a><!-- doxytag: member="CPSFacebookUserIdentity::getFBUserId" ref="a0ef2f4b4ea68bcd957152a5b46a6612e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getFBUserId </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00063">63</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_fbUserId; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ace5f32fc99c7c5989f7576755fc60972"></a><!-- doxytag: member="CPSFacebookUserIdentity::getFirstName" ref="ace5f32fc99c7c5989f7576755fc60972" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getFirstName </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00075">75</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_firstName; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2e112e7f214a9ffbc1948685a46fc1ee"></a><!-- doxytag: member="CPSFacebookUserIdentity::getFriendList" ref="a2e112e7f214a9ffbc1948685a46fc1ee" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getFriendList </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00087">87</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_friendList; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a12251d0c022e9e21c137a105ff683f13"></a><!-- doxytag: member="CPSFacebookUserIdentity::getId" ref="a12251d0c022e9e21c137a105ff683f13" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getId </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00031">31</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_id; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aed530f3943074ab9826563b51db5420a"></a><!-- doxytag: member="CPSFacebookUserIdentity::getInviteAfterInstall" ref="aed530f3943074ab9826563b51db5420a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getInviteAfterInstall </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00116">116</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_inviteAfterInstall; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a966f0f14413b21e8d4e8cf5180cdf627"></a><!-- doxytag: member="CPSFacebookUserIdentity::getIsConnected" ref="a966f0f14413b21e8d4e8cf5180cdf627" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getIsConnected </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00123">123</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_isConnected; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a37af09a26efc969d1381851b8c379808"></a><!-- doxytag: member="CPSFacebookUserIdentity::getLoginUrl" ref="a37af09a26efc969d1381851b8c379808" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getLoginUrl </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00051">51</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_loginUrl; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6bc057a9b0c03f8147a4294936b2494b"></a><!-- doxytag: member="CPSFacebookUserIdentity::getMe" ref="a6bc057a9b0c03f8147a4294936b2494b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getMe </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00069">69</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_me; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a11900d7eee85bed9fda1a24827c1c5bf"></a><!-- doxytag: member="CPSFacebookUserIdentity::getPhotos" ref="a11900d7eee85bed9fda1a24827c1c5bf" args="($aid, $id=null, $limit=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getPhotos </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>aid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>limit</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves photos or a photo </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>The album ID </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>The photo ID or null for all photos in the album </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00494">494</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keyword">static</span> $_recursed = <span class="keyword">false</span>;

        <span class="keywordflow">if</span> ( null == $aid )
            <span class="keywordflow">return</span> null;

        <span class="keywordflow">if</span> ( null == <a class="code" href="classCPSFacebook.html#a7e2b66c375158928ec4cfa9de801ac0b">CPSFacebook::$_photoList</a> )
            $this-&gt;<a class="code" href="classCPSFacebookUserIdentity.html#a21df9dbf22cd606881c65d284208c90c">getAlbums</a>();

        <span class="keywordflow">if</span> ( isset( <a class="code" href="classCPSFacebook.html#a7e2b66c375158928ec4cfa9de801ac0b">CPSFacebook::$_photoList</a>, <a class="code" href="classCPSFacebook.html#a7e2b66c375158928ec4cfa9de801ac0b">CPSFacebook::$_photoList</a>[$aid], <a class="code" href="classCPSFacebook.html#a7e2b66c375158928ec4cfa9de801ac0b">CPSFacebook::$_photoList</a>[$aid][<span class="stringliteral">&#39;photos&#39;</span>] ) )
        {
            <a class="code" href="classCPSFacebook.html#a7e2b66c375158928ec4cfa9de801ac0b">CPSFacebook::$_photoList</a> = <a class="code" href="classCPSFacebook.html#a7e2b66c375158928ec4cfa9de801ac0b">CPSFacebook::$_photoList</a>[$aid][<span class="stringliteral">&#39;photos&#39;</span>];
            <span class="keywordflow">if</span> ( ! empty( $id ) ) <span class="keywordflow">return</span> PS::o( <a class="code" href="classCPSFacebook.html#a7e2b66c375158928ec4cfa9de801ac0b">CPSFacebook::$_photoList</a>, $id );
        }

        <span class="comment">//  Not there, grab photos and cache...</span>
        $_parameterList = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();
        <span class="keywordflow">if</span> ( null != $limit ) $_parameterList[<span class="stringliteral">&#39;limit&#39;</span>] = $limit;

        $_url = <span class="charliteral">&#39;/&#39;</span> . $aid . <span class="stringliteral">&#39;/photos&#39;</span>;
        $_resultList = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();

        <span class="keywordflow">while</span> ( <span class="keyword">true</span> )
        {
            <span class="keywordflow">try</span>
            {
                $_tempList = $this-&gt;_facebookApi-&gt;api( $_url, $_parameterList );
            }
            <span class="keywordflow">catch</span> ( Exception $_ex )
            {
                <span class="keywordflow">break</span>;
            }

            <span class="keywordflow">if</span> ( $_tempList )
            {
                $_resultList = array_merge( $_resultList, PS::o( $_tempList, <span class="stringliteral">&#39;data&#39;</span>, <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>() ) );

                <span class="keywordflow">if</span> ( null != $limit || null === ( $_url = PS::oo( $_tempList, <span class="stringliteral">&#39;paging&#39;</span>, <span class="stringliteral">&#39;next&#39;</span> ) ) )
                    <span class="keywordflow">break</span>;
            }
            <span class="keywordflow">else</span>
                <span class="keywordflow">break</span>;
        }

        <span class="keywordflow">return</span> $_resultList;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebookUserIdentity_a11900d7eee85bed9fda1a24827c1c5bf_cgraph.png" border="0" usemap="#classCPSFacebookUserIdentity_a11900d7eee85bed9fda1a24827c1c5bf_cgraph" alt=""/></div>
<map name="classCPSFacebookUserIdentity_a11900d7eee85bed9fda1a24827c1c5bf_cgraph" id="classCPSFacebookUserIdentity_a11900d7eee85bed9fda1a24827c1c5bf_cgraph">
<area shape="rect" id="node3" href="classCPSFacebookUserIdentity.html#a21df9dbf22cd606881c65d284208c90c" title="getAlbums" alt="" coords="141,32,232,61"/><area shape="rect" id="node5" href="classCPSLog.html#a99034739d5e469b037364bf2f5694e11" title="CPSLog::error" alt="" coords="281,5,391,35"/><area shape="rect" id="node14" href="classCPSLog.html#ab8a624f93a0bfc699dd00c01af886955" title="CPSLog::trace" alt="" coords="280,59,392,88"/><area shape="rect" id="node7" href="classCPSLog.html#a4c3be4120dc6dee2c97a6dde9428ac76" title="CPSLog::log" alt="" coords="440,32,539,61"/><area shape="rect" id="node9" href="classCPSLog.html#a66291d27410fbf7ba4978f513c13e6f0" title="CPSLog::_getCallingMethod" alt="" coords="587,5,784,35"/><area shape="rect" id="node11" href="classCPSLog.html#a8471574061e9457cc6e5be7c151b9cfb" title="CPSLog::_processMessage" alt="" coords="589,59,781,88"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebookUserIdentity_a11900d7eee85bed9fda1a24827c1c5bf_icgraph.png" border="0" usemap="#classCPSFacebookUserIdentity_a11900d7eee85bed9fda1a24827c1c5bf_icgraph" alt=""/></div>
<map name="classCPSFacebookUserIdentity_a11900d7eee85bed9fda1a24827c1c5bf_icgraph" id="classCPSFacebookUserIdentity_a11900d7eee85bed9fda1a24827c1c5bf_icgraph">
<area shape="rect" id="node3" href="classCPSFacebookUserIdentity.html#a21df9dbf22cd606881c65d284208c90c" title="getAlbums" alt="" coords="141,5,232,35"/><area shape="rect" id="node5" href="classCPSFacebookUserIdentity.html#aa4239198c895a9c8c1ea86753ed49095" title="_initialize" alt="" coords="280,5,360,35"/><area shape="rect" id="node7" href="classCPSFacebookUserIdentity.html#a7bfb59fe7d249a66abbd2c1ea8b9b8ec" title="__construct" alt="" coords="408,5,504,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aefa4c5bd150e2a7d525576d7959c6911"></a><!-- doxytag: member="CPSFacebookUserIdentity::getSession" ref="aefa4c5bd150e2a7d525576d7959c6911" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getSession </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00057">57</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_session; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae81b7186fb97a7c6457edcc68c9aa2ef"></a><!-- doxytag: member="CPSFacebookUserIdentity::getUser" ref="ae81b7186fb97a7c6457edcc68c9aa2ef" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getUser </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00081">81</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_user; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0b280ce1a525781c8943e5101471a6c0"></a><!-- doxytag: member="CPSFacebookUserIdentity::getUserModelClass" ref="a0b280ce1a525781c8943e5101471a6c0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getUserModelClass </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00038">38</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_userModelClass; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0e6ee11d30fc9d158e8464759e64c1f8"></a><!-- doxytag: member="CPSFacebookUserIdentity::onLoginFailure" ref="a0e6ee11d30fc9d158e8464759e64c1f8" args="(CPSAuthenticationEvent $event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">onLoginFailure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCPSAuthenticationEvent.html">CPSAuthenticationEvent</a> $&nbsp;</td>
          <td class="paramname"> <em>event</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Raises the onLoginFailure event </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classCPSAuthenticationEvent.html">CPSAuthenticationEvent</a></em>&nbsp;</td><td>$event </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00575">575</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        $this-&gt;raiseEvent( <span class="stringliteral">&#39;onLoginFailure&#39;</span>, $event );
    }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebookUserIdentity_a0e6ee11d30fc9d158e8464759e64c1f8_icgraph.png" border="0" usemap="#classCPSFacebookUserIdentity_a0e6ee11d30fc9d158e8464759e64c1f8_icgraph" alt=""/></div>
<map name="classCPSFacebookUserIdentity_a0e6ee11d30fc9d158e8464759e64c1f8_icgraph" id="classCPSFacebookUserIdentity_a0e6ee11d30fc9d158e8464759e64c1f8_icgraph">
<area shape="rect" id="node3" href="classCPSFacebookUserIdentity.html#a750c93a7dfab5314f2bf662a407bc5a6" title="authenticate" alt="" coords="169,5,271,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acad8b3c7359a6bd26c2399d8d5819b2b"></a><!-- doxytag: member="CPSFacebookUserIdentity::onLoginSuccess" ref="acad8b3c7359a6bd26c2399d8d5819b2b" args="(CPSAuthenticationEvent $event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">onLoginSuccess </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCPSAuthenticationEvent.html">CPSAuthenticationEvent</a> $&nbsp;</td>
          <td class="paramname"> <em>event</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Raises the onLoginSuccess event </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classCPSAuthenticationEvent.html">CPSAuthenticationEvent</a></em>&nbsp;</td><td>$event </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00584">584</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        $this-&gt;raiseEvent( <span class="stringliteral">&#39;onLoginSuccess&#39;</span>, $event );
    }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSFacebookUserIdentity_acad8b3c7359a6bd26c2399d8d5819b2b_icgraph.png" border="0" usemap="#classCPSFacebookUserIdentity_acad8b3c7359a6bd26c2399d8d5819b2b_icgraph" alt=""/></div>
<map name="classCPSFacebookUserIdentity_acad8b3c7359a6bd26c2399d8d5819b2b_icgraph" id="classCPSFacebookUserIdentity_acad8b3c7359a6bd26c2399d8d5819b2b_icgraph">
<area shape="rect" id="node3" href="classCPSFacebookUserIdentity.html#a750c93a7dfab5314f2bf662a407bc5a6" title="authenticate" alt="" coords="180,5,281,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af4ec9526210829eed07fbf8bcd74f784"></a><!-- doxytag: member="CPSFacebookUserIdentity::setAutoLoadPictures" ref="af4ec9526210829eed07fbf8bcd74f784" args="($value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setAutoLoadPictures </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>value</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00110">110</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ $this-&gt;_autoLoadPictures = $value; <span class="keywordflow">return</span> $this; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3f665b8d4df7bb1952cb8fc3f5b75561"></a><!-- doxytag: member="CPSFacebookUserIdentity::setCacheAppFriends" ref="a3f665b8d4df7bb1952cb8fc3f5b75561" args="($value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setCacheAppFriends </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>value</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00103">103</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ $this-&gt;_cacheAppFriends = $value; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa664eee45a9eb336b581131cb0ac667d"></a><!-- doxytag: member="CPSFacebookUserIdentity::setId" ref="aa664eee45a9eb336b581131cb0ac667d" args="($value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setId </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>value</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00032">32</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ $this-&gt;_id = $value; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acb332c6546b31eabe02618a7ccc2732c"></a><!-- doxytag: member="CPSFacebookUserIdentity::setInviteAfterInstall" ref="acb332c6546b31eabe02618a7ccc2732c" args="($value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setInviteAfterInstall </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>value</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00117">117</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ $this-&gt;_inviteAfterInstall = $value; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae0af15a6b8117c8e984beae8e585fcd2"></a><!-- doxytag: member="CPSFacebookUserIdentity::setUserModelClass" ref="ae0af15a6b8117c8e984beae8e585fcd2" args="($value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setUserModelClass </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>value</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00039">39</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ $this-&gt;_userModelClass = $value; }
</pre></div></p>

</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="a4baf52b9d7a98e5d1354c0184a030233"></a><!-- doxytag: member="CPSFacebookUserIdentity::$_accessToken" ref="a4baf52b9d7a98e5d1354c0184a030233" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_accessToken<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00044">44</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

</div>
</div>
<a class="anchor" id="a69ad1b664bbcbc06fbaeb07133568469"></a><!-- doxytag: member="CPSFacebookUserIdentity::$_appFriendList" ref="a69ad1b664bbcbc06fbaeb07133568469" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="list_8php.html#aa3205d038c7f8feb5c9f01ac4dfadc88">array</a> $_appFriendList = null<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00094">94</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

</div>
</div>
<a class="anchor" id="acbda478de6e55a60d9716bd3d101e40d"></a><!-- doxytag: member="CPSFacebookUserIdentity::$_autoLoadPictures" ref="acbda478de6e55a60d9716bd3d101e40d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_autoLoadPictures = false<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00108">108</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

</div>
</div>
<a class="anchor" id="a1ef3e76667a47cb12fabf1c9c79f17ff"></a><!-- doxytag: member="CPSFacebookUserIdentity::$_cacheAppFriends" ref="a1ef3e76667a47cb12fabf1c9c79f17ff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean $_cacheAppFriends = false<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00101">101</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

</div>
</div>
<a class="anchor" id="a2f481ea63815c4c7e8c6dad8b4d839ec"></a><!-- doxytag: member="CPSFacebookUserIdentity::$_facebookApi" ref="a2f481ea63815c4c7e8c6dad8b4d839ec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_facebookApi<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00132">132</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

</div>
</div>
<a class="anchor" id="a19e04e69bd6cde6129a45de979954cfa"></a><!-- doxytag: member="CPSFacebookUserIdentity::$_fbUserId" ref="a19e04e69bd6cde6129a45de979954cfa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_fbUserId<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00062">62</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae47bb90ba7f0f5de161e554290d3b5b8"></a><!-- doxytag: member="CPSFacebookUserIdentity::$_firstName" ref="ae47bb90ba7f0f5de161e554290d3b5b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_firstName<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00074">74</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

</div>
</div>
<a class="anchor" id="a93380830cda99a4927d3507251a12e32"></a><!-- doxytag: member="CPSFacebookUserIdentity::$_friendList" ref="a93380830cda99a4927d3507251a12e32" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_friendList = null<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00086">86</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

</div>
</div>
<a class="anchor" id="a64da16c4a1c7b2dc6784f6ef26341ed7"></a><!-- doxytag: member="CPSFacebookUserIdentity::$_id" ref="a64da16c4a1c7b2dc6784f6ef26341ed7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_id = null<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00030">30</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

</div>
</div>
<a class="anchor" id="a425e3b02d08adda9a06498d8e0f5714c"></a><!-- doxytag: member="CPSFacebookUserIdentity::$_inForceLogin" ref="a425e3b02d08adda9a06498d8e0f5714c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_inForceLogin<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00137">137</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

</div>
</div>
<a class="anchor" id="a06deb2baf54257cacaf8cbc83f9bf1a1"></a><!-- doxytag: member="CPSFacebookUserIdentity::$_inviteAfterInstall" ref="a06deb2baf54257cacaf8cbc83f9bf1a1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_inviteAfterInstall = true<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00115">115</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

</div>
</div>
<a class="anchor" id="a3fb00b079c40b68e2ce79a0c27aad663"></a><!-- doxytag: member="CPSFacebookUserIdentity::$_isConnected" ref="a3fb00b079c40b68e2ce79a0c27aad663" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_isConnected = false<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00122">122</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad0039d9d92917bd2c7e46c93d8562b8b"></a><!-- doxytag: member="CPSFacebookUserIdentity::$_loginUrl" ref="ad0039d9d92917bd2c7e46c93d8562b8b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_loginUrl = ''<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00050">50</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

</div>
</div>
<a class="anchor" id="a45e53d351918dc7cad7136ff44e1724b"></a><!-- doxytag: member="CPSFacebookUserIdentity::$_me" ref="a45e53d351918dc7cad7136ff44e1724b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_me<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00068">68</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad0641deaf4d314f034a134efaa6fbff0"></a><!-- doxytag: member="CPSFacebookUserIdentity::$_session" ref="ad0641deaf4d314f034a134efaa6fbff0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_session<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00056">56</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

</div>
</div>
<a class="anchor" id="a5df5982b9dadc74df05081972cd67fdf"></a><!-- doxytag: member="CPSFacebookUserIdentity::$_user" ref="a5df5982b9dadc74df05081972cd67fdf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_user = null<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00080">80</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

</div>
</div>
<a class="anchor" id="a86b918c4cc90bae631b0f42b136d3a3c"></a><!-- doxytag: member="CPSFacebookUserIdentity::$_userModelClass" ref="a86b918c4cc90bae631b0f42b136d3a3c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_userModelClass = null<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSFacebookUserIdentity_8php_source.html#l00037">37</a> of file <a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/usr/local/yiixl/lib/original/components/facebook/<a class="el" href="CPSFacebookUserIdentity_8php_source.html">CPSFacebookUserIdentity.php</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Mar 24 2011 20:11:40 for "The Yii Extension Library Of Doom!" by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
