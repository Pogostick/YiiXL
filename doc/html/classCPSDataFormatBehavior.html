<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>&quot;The Yii Extension Library Of Doom!&quot;: CPSDataFormatBehavior Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>CPSDataFormatBehavior Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="CPSDataFormatBehavior" --><!-- doxytag: inherits="CPSBaseActiveRecordBehavior" --><div class="dynheader">
Inheritance diagram for CPSDataFormatBehavior:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSDataFormatBehavior__inherit__graph.png" border="0" usemap="#CPSDataFormatBehavior_inherit__map" alt="Inheritance graph"/></div>
<map name="CPSDataFormatBehavior_inherit__map" id="CPSDataFormatBehavior_inherit__map">
<area shape="rect" id="node2" href="classCPSBaseActiveRecordBehavior.html" title="CPSBaseActiveRecordBehavior" alt="" coords="5,237,224,267"/><area shape="rect" id="node4" href="interfaceIPSBehavior.html" title="IPSBehavior" alt="" coords="65,160,164,189"/><area shape="rect" id="node6" href="interfaceIPSComponent.html" title="IPSComponent" alt="" coords="56,83,173,112"/><area shape="rect" id="node8" href="interfaceIPSBase.html" title="IPSBase" alt="" coords="77,5,152,35"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for CPSDataFormatBehavior:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSDataFormatBehavior__coll__graph.png" border="0" usemap="#CPSDataFormatBehavior_coll__map" alt="Collaboration graph"/></div>
<map name="CPSDataFormatBehavior_coll__map" id="CPSDataFormatBehavior_coll__map">
<area shape="rect" id="node2" href="classCPSBaseActiveRecordBehavior.html" title="CPSBaseActiveRecordBehavior" alt="" coords="5,237,224,267"/><area shape="rect" id="node4" href="interfaceIPSBehavior.html" title="IPSBehavior" alt="" coords="65,160,164,189"/><area shape="rect" id="node6" href="interfaceIPSComponent.html" title="IPSComponent" alt="" coords="56,83,173,112"/><area shape="rect" id="node8" href="interfaceIPSBase.html" title="IPSBase" alt="" coords="77,5,152,35"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDataFormatBehavior.html#aad7e15be495655b98d24409956a439bc">getFormat</a> ($which= 'afterFind', $type= 'date')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDataFormatBehavior.html#aa062fdbc726af94e788936d25ee531e4">setFormat</a> ($which= 'afterValidate', $type= 'date', $sFormat= 'm/d/Y')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDataFormatBehavior.html#afeb8c05903b3b31d7ec509c3e1628e52">getDefaultSort</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDataFormatBehavior.html#ad6a3597dea15d20d248e402b0d162490">setDefaultSort</a> ($sValue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDataFormatBehavior.html#a586e177c0e7073ec63f7ccd6546ff3fd">beforeValidate</a> ($event)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDataFormatBehavior.html#a5c1ea11a48a8c9bde21ef9a7d391d396">afterValidate</a> ($event)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDataFormatBehavior.html#a0d137abaa3f9f1ae67349e02c627ac26">beforeFind</a> ($event)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDataFormatBehavior.html#a3b701d16073e1628451c7dc1929b66bb">afterFind</a> ($event)</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDataFormatBehavior.html#a826182a47d36956417205828f9df2f61">applyFormat</a> ($column, $value, $which= 'view')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDataFormatBehavior.html#a976f0f5f7deb665d9a23c095f407ef2e">handleEvent</a> ($which, CEvent $event)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDataFormatBehavior.html#a83797c01913ca1386c15c67d871c69ef">$_dateFormat</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPSDataFormatBehavior.html#a295ce02e7bc05505ee0456d4292c3418">$_defaultSort</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="CPSDataFormatBehavior_8php_source.html#l00021">21</a> of file <a class="el" href="CPSDataFormatBehavior_8php_source.html">CPSDataFormatBehavior.php</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a3b701d16073e1628451c7dc1929b66bb"></a><!-- doxytag: member="CPSDataFormatBehavior::afterFind" ref="a3b701d16073e1628451c7dc1929b66bb" args="($event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">afterFind </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>event</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Apply any formats </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>CEvent</em>&nbsp;</td><td>$event </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSDataFormatBehavior_8php_source.html#l00242">242</a> of file <a class="el" href="CPSDataFormatBehavior_8php_source.html">CPSDataFormatBehavior.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classCPSDataFormatBehavior.html#a976f0f5f7deb665d9a23c095f407ef2e">handleEvent</a>( __FUNCTION__, $event );
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSDataFormatBehavior_a3b701d16073e1628451c7dc1929b66bb_cgraph.png" border="0" usemap="#classCPSDataFormatBehavior_a3b701d16073e1628451c7dc1929b66bb_cgraph" alt=""/></div>
<map name="classCPSDataFormatBehavior_a3b701d16073e1628451c7dc1929b66bb_cgraph" id="classCPSDataFormatBehavior_a3b701d16073e1628451c7dc1929b66bb_cgraph">
<area shape="rect" id="node3" href="classCPSDataFormatBehavior.html#a976f0f5f7deb665d9a23c095f407ef2e" title="handleEvent" alt="" coords="131,5,232,35"/><area shape="rect" id="node5" href="classCPSDataFormatBehavior.html#a826182a47d36956417205828f9df2f61" title="applyFormat" alt="" coords="281,5,383,35"/><area shape="rect" id="node7" href="classCPSDataFormatBehavior.html#aad7e15be495655b98d24409956a439bc" title="getFormat" alt="" coords="433,5,521,35"/><area shape="rect" id="node9" href="classCPSHelperBase.html#a666bf0c7e9a3320e2e1ca2d9b65301e6" title="CPSHelperBase::nvl" alt="" coords="572,5,719,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5c1ea11a48a8c9bde21ef9a7d391d396"></a><!-- doxytag: member="CPSDataFormatBehavior::afterValidate" ref="a5c1ea11a48a8c9bde21ef9a7d391d396" args="($event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">afterValidate </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>event</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Apply any formats </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>CEvent</em>&nbsp;</td><td>$event </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSDataFormatBehavior_8php_source.html#l00205">205</a> of file <a class="el" href="CPSDataFormatBehavior_8php_source.html">CPSDataFormatBehavior.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classCPSDataFormatBehavior.html#a976f0f5f7deb665d9a23c095f407ef2e">handleEvent</a>( __FUNCTION__, $event );
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSDataFormatBehavior_a5c1ea11a48a8c9bde21ef9a7d391d396_cgraph.png" border="0" usemap="#classCPSDataFormatBehavior_a5c1ea11a48a8c9bde21ef9a7d391d396_cgraph" alt=""/></div>
<map name="classCPSDataFormatBehavior_a5c1ea11a48a8c9bde21ef9a7d391d396_cgraph" id="classCPSDataFormatBehavior_a5c1ea11a48a8c9bde21ef9a7d391d396_cgraph">
<area shape="rect" id="node3" href="classCPSDataFormatBehavior.html#a976f0f5f7deb665d9a23c095f407ef2e" title="handleEvent" alt="" coords="157,5,259,35"/><area shape="rect" id="node5" href="classCPSDataFormatBehavior.html#a826182a47d36956417205828f9df2f61" title="applyFormat" alt="" coords="308,5,409,35"/><area shape="rect" id="node7" href="classCPSDataFormatBehavior.html#aad7e15be495655b98d24409956a439bc" title="getFormat" alt="" coords="460,5,548,35"/><area shape="rect" id="node9" href="classCPSHelperBase.html#a666bf0c7e9a3320e2e1ca2d9b65301e6" title="CPSHelperBase::nvl" alt="" coords="599,5,745,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a826182a47d36956417205828f9df2f61"></a><!-- doxytag: member="CPSDataFormatBehavior::applyFormat" ref="a826182a47d36956417205828f9df2f61" args="($column, $value, $which= 'view')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">applyFormat </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>column</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>which</em> = <code>'view'</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Applies the requested format to the value and returns it. Override this method to apply additional format types.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>CDbColumnSchema</em>&nbsp;</td><td>$column </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$value </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$which </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>mixed </dd></dl>

<p>Definition at line <a class="el" href="CPSDataFormatBehavior_8php_source.html#l00119">119</a> of file <a class="el" href="CPSDataFormatBehavior_8php_source.html">CPSDataFormatBehavior.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        $_result = null;

        <span class="comment">//  Apply formats</span>
        <span class="keywordflow">switch</span> ( $column-&gt;dbType )
        {
            <span class="keywordflow">case</span> <span class="stringliteral">&#39;date&#39;</span>:
            <span class="keywordflow">case</span> <span class="stringliteral">&#39;datetime&#39;</span>:
            <span class="keywordflow">case</span> <span class="stringliteral">&#39;timestamp&#39;</span>:
                <span class="comment">//  Handle blanks</span>
                <span class="keywordflow">if</span> ( null != $value &amp;&amp; $value != <span class="stringliteral">&#39;0000-00-00&#39;</span> &amp;&amp; $value != <span class="stringliteral">&#39;0000-00-00 00:00:00&#39;</span> )
                    $_result = date( $this-&gt;<a class="code" href="classCPSDataFormatBehavior.html#aad7e15be495655b98d24409956a439bc">getFormat</a>( $which, $column-&gt;dbType ), strtotime( $value ) );
                <span class="keywordflow">break</span>;

            <span class="keywordflow">default</span>:
                $_result = $value;
                <span class="keywordflow">break</span>;
        }

        <span class="keywordflow">return</span> $_result;
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSDataFormatBehavior_a826182a47d36956417205828f9df2f61_cgraph.png" border="0" usemap="#classCPSDataFormatBehavior_a826182a47d36956417205828f9df2f61_cgraph" alt=""/></div>
<map name="classCPSDataFormatBehavior_a826182a47d36956417205828f9df2f61_cgraph" id="classCPSDataFormatBehavior_a826182a47d36956417205828f9df2f61_cgraph">
<area shape="rect" id="node3" href="classCPSDataFormatBehavior.html#aad7e15be495655b98d24409956a439bc" title="getFormat" alt="" coords="159,5,247,35"/><area shape="rect" id="node5" href="classCPSHelperBase.html#a666bf0c7e9a3320e2e1ca2d9b65301e6" title="CPSHelperBase::nvl" alt="" coords="297,5,444,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSDataFormatBehavior_a826182a47d36956417205828f9df2f61_icgraph.png" border="0" usemap="#classCPSDataFormatBehavior_a826182a47d36956417205828f9df2f61_icgraph" alt=""/></div>
<map name="classCPSDataFormatBehavior_a826182a47d36956417205828f9df2f61_icgraph" id="classCPSDataFormatBehavior_a826182a47d36956417205828f9df2f61_icgraph">
<area shape="rect" id="node3" href="classCPSDataFormatBehavior.html#a976f0f5f7deb665d9a23c095f407ef2e" title="handleEvent" alt="" coords="157,85,259,115"/><area shape="rect" id="node5" href="classCPSDataFormatBehavior.html#a3b701d16073e1628451c7dc1929b66bb" title="afterFind" alt="" coords="325,5,403,35"/><area shape="rect" id="node7" href="classCPSDataFormatBehavior.html#a5c1ea11a48a8c9bde21ef9a7d391d396" title="afterValidate" alt="" coords="313,59,415,88"/><area shape="rect" id="node9" href="classCPSDataFormatBehavior.html#a0d137abaa3f9f1ae67349e02c627ac26" title="beforeFind" alt="" coords="320,112,408,141"/><area shape="rect" id="node11" href="classCPSDataFormatBehavior.html#a586e177c0e7073ec63f7ccd6546ff3fd" title="beforeValidate" alt="" coords="307,165,421,195"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0d137abaa3f9f1ae67349e02c627ac26"></a><!-- doxytag: member="CPSDataFormatBehavior::beforeFind" ref="a0d137abaa3f9f1ae67349e02c627ac26" args="($event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">beforeFind </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>event</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Apply any formats </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>CEvent</em>&nbsp;</td><td>$event </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSDataFormatBehavior_8php_source.html#l00214">214</a> of file <a class="el" href="CPSDataFormatBehavior_8php_source.html">CPSDataFormatBehavior.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="comment">//  Is a default sort defined?</span>
        <span class="keywordflow">if</span> ( $this-&gt;_defaultSort )
        {
            <span class="comment">//  Is a sort defined?</span>
            <a class="code" href="gii_2model_2templates_2default_2model_8php.html#a28a116c3d6d8901fe4023b3d9bf7bf4c">$_criteria</a> = $event-&gt;sender-&gt;getDbCriteria();

            <span class="comment">//  No sort? Set the default</span>
            <span class="keywordflow">if</span> ( ! <a class="code" href="gii_2model_2templates_2default_2model_8php.html#a28a116c3d6d8901fe4023b3d9bf7bf4c">$_criteria</a>-&gt;order )
            {
                $event-&gt;sender-&gt;getDbCriteria()-&gt;mergeWith( 
                    <span class="keyword">new</span> CDbCriteria( 
                        <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>( 
                            <span class="stringliteral">&#39;order&#39;</span> =&gt; $this-&gt;_defaultSort,
                        )
                    )
                );
            }
        }

        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classCPSDataFormatBehavior.html#a976f0f5f7deb665d9a23c095f407ef2e">handleEvent</a>( __FUNCTION__, $event );
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSDataFormatBehavior_a0d137abaa3f9f1ae67349e02c627ac26_cgraph.png" border="0" usemap="#classCPSDataFormatBehavior_a0d137abaa3f9f1ae67349e02c627ac26_cgraph" alt=""/></div>
<map name="classCPSDataFormatBehavior_a0d137abaa3f9f1ae67349e02c627ac26_cgraph" id="classCPSDataFormatBehavior_a0d137abaa3f9f1ae67349e02c627ac26_cgraph">
<area shape="rect" id="node3" href="classCPSDataFormatBehavior.html#a976f0f5f7deb665d9a23c095f407ef2e" title="handleEvent" alt="" coords="141,5,243,35"/><area shape="rect" id="node5" href="classCPSDataFormatBehavior.html#a826182a47d36956417205828f9df2f61" title="applyFormat" alt="" coords="292,5,393,35"/><area shape="rect" id="node7" href="classCPSDataFormatBehavior.html#aad7e15be495655b98d24409956a439bc" title="getFormat" alt="" coords="444,5,532,35"/><area shape="rect" id="node9" href="classCPSHelperBase.html#a666bf0c7e9a3320e2e1ca2d9b65301e6" title="CPSHelperBase::nvl" alt="" coords="583,5,729,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a586e177c0e7073ec63f7ccd6546ff3fd"></a><!-- doxytag: member="CPSDataFormatBehavior::beforeValidate" ref="a586e177c0e7073ec63f7ccd6546ff3fd" args="($event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">beforeValidate </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>event</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Apply any formats </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>CModelEvent</em>&nbsp;</td><td>event parameter </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSDataFormatBehavior_8php_source.html#l00196">196</a> of file <a class="el" href="CPSDataFormatBehavior_8php_source.html">CPSDataFormatBehavior.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classCPSDataFormatBehavior.html#a976f0f5f7deb665d9a23c095f407ef2e">handleEvent</a>( __FUNCTION__, $event );
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSDataFormatBehavior_a586e177c0e7073ec63f7ccd6546ff3fd_cgraph.png" border="0" usemap="#classCPSDataFormatBehavior_a586e177c0e7073ec63f7ccd6546ff3fd_cgraph" alt=""/></div>
<map name="classCPSDataFormatBehavior_a586e177c0e7073ec63f7ccd6546ff3fd_cgraph" id="classCPSDataFormatBehavior_a586e177c0e7073ec63f7ccd6546ff3fd_cgraph">
<area shape="rect" id="node3" href="classCPSDataFormatBehavior.html#a976f0f5f7deb665d9a23c095f407ef2e" title="handleEvent" alt="" coords="168,5,269,35"/><area shape="rect" id="node5" href="classCPSDataFormatBehavior.html#a826182a47d36956417205828f9df2f61" title="applyFormat" alt="" coords="319,5,420,35"/><area shape="rect" id="node7" href="classCPSDataFormatBehavior.html#aad7e15be495655b98d24409956a439bc" title="getFormat" alt="" coords="471,5,559,35"/><area shape="rect" id="node9" href="classCPSHelperBase.html#a666bf0c7e9a3320e2e1ca2d9b65301e6" title="CPSHelperBase::nvl" alt="" coords="609,5,756,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afeb8c05903b3b31d7ec509c3e1628e52"></a><!-- doxytag: member="CPSDataFormatBehavior::getDefaultSort" ref="afeb8c05903b3b31d7ec509c3e1628e52" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getDefaultSort </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the default sort </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>string </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classCPSDataFormatBehavior.html#ad6a3597dea15d20d248e402b0d162490">setDefaultSort</a> </dd></dl>

<p>Definition at line <a class="el" href="CPSDataFormatBehavior_8php_source.html#l00097">97</a> of file <a class="el" href="CPSDataFormatBehavior_8php_source.html">CPSDataFormatBehavior.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> $this-&gt;_defaultSort; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aad7e15be495655b98d24409956a439bc"></a><!-- doxytag: member="CPSDataFormatBehavior::getFormat" ref="aad7e15be495655b98d24409956a439bc" args="($which= 'afterFind', $type= 'date')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getFormat </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>which</em> = <code>'afterFind'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>type</em> = <code>'date'</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves a format </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$which </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$type </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="CPSDataFormatBehavior_8php_source.html#l00072">72</a> of file <a class="el" href="CPSDataFormatBehavior_8php_source.html">CPSDataFormatBehavior.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#a666bf0c7e9a3320e2e1ca2d9b65301e6">CPSHelperBase::nvl</a>( $this-&gt;_dateFormat[ $which ][ $type ], <span class="stringliteral">&#39;m/d/Y&#39;</span> );
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSDataFormatBehavior_aad7e15be495655b98d24409956a439bc_cgraph.png" border="0" usemap="#classCPSDataFormatBehavior_aad7e15be495655b98d24409956a439bc_cgraph" alt=""/></div>
<map name="classCPSDataFormatBehavior_aad7e15be495655b98d24409956a439bc_cgraph" id="classCPSDataFormatBehavior_aad7e15be495655b98d24409956a439bc_cgraph">
<area shape="rect" id="node3" href="classCPSHelperBase.html#a666bf0c7e9a3320e2e1ca2d9b65301e6" title="CPSHelperBase::nvl" alt="" coords="145,5,292,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSDataFormatBehavior_aad7e15be495655b98d24409956a439bc_icgraph.png" border="0" usemap="#classCPSDataFormatBehavior_aad7e15be495655b98d24409956a439bc_icgraph" alt=""/></div>
<map name="classCPSDataFormatBehavior_aad7e15be495655b98d24409956a439bc_icgraph" id="classCPSDataFormatBehavior_aad7e15be495655b98d24409956a439bc_icgraph">
<area shape="rect" id="node3" href="classCPSDataFormatBehavior.html#a826182a47d36956417205828f9df2f61" title="applyFormat" alt="" coords="145,85,247,115"/><area shape="rect" id="node5" href="classCPSDataFormatBehavior.html#a976f0f5f7deb665d9a23c095f407ef2e" title="handleEvent" alt="" coords="296,85,397,115"/><area shape="rect" id="node7" href="classCPSDataFormatBehavior.html#a3b701d16073e1628451c7dc1929b66bb" title="afterFind" alt="" coords="464,5,541,35"/><area shape="rect" id="node9" href="classCPSDataFormatBehavior.html#a5c1ea11a48a8c9bde21ef9a7d391d396" title="afterValidate" alt="" coords="452,59,553,88"/><area shape="rect" id="node11" href="classCPSDataFormatBehavior.html#a0d137abaa3f9f1ae67349e02c627ac26" title="beforeFind" alt="" coords="459,112,547,141"/><area shape="rect" id="node13" href="classCPSDataFormatBehavior.html#a586e177c0e7073ec63f7ccd6546ff3fd" title="beforeValidate" alt="" coords="445,165,560,195"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a976f0f5f7deb665d9a23c095f407ef2e"></a><!-- doxytag: member="CPSDataFormatBehavior::handleEvent" ref="a976f0f5f7deb665d9a23c095f407ef2e" args="($which, CEvent $event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">handleEvent </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>which</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CEvent $&nbsp;</td>
          <td class="paramname"> <em>event</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Process the data and apply formats</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$which </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>CEvent</em>&nbsp;</td><td>$event </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSDataFormatBehavior_8php_source.html#l00148">148</a> of file <a class="el" href="CPSDataFormatBehavior_8php_source.html">CPSDataFormatBehavior.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keyword">static</span> $_schema;
        <span class="keyword">static</span> $_schemaFor;

        $_model = $event-&gt;sender;

        <span class="comment">//  Cache for multi event speed</span>
        <span class="keywordflow">if</span> ( $_schemaFor != get_class( $_model ) )
        {
            $_schema = $_model-&gt;getMetaData()-&gt;columns;
            $_schemaFor = get_class( $_model );
        }

        <span class="comment">//  Not for us? Pass it through...</span>
        <span class="keywordflow">if</span> ( isset( $this-&gt;_dateFormat[ $which ] ) )
        {
            <span class="comment">//  Is it safe?</span>
            <span class="keywordflow">if</span> ( ! $_schema )
            {
                $_model-&gt;addError( null, <span class="stringliteral">&#39;Cannot read schema for data formatting&#39;</span> );
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
            }

            <span class="comment">//  Scoot through and update values...</span>
            <span class="keywordflow">foreach</span> ( $_schema as $_name =&gt; $_column )
            {
                <span class="keywordflow">if</span> ( ! empty( $_name ) &amp;&amp; $_model-&gt;hasAttribute( $_name ) &amp;&amp; isset( $_schema[ $_name ], $this-&gt;_dateFormat[ $which ][ $_column-&gt;dbType ] ) )
                {
                    $_value = $this-&gt;<a class="code" href="classCPSDataFormatBehavior.html#a826182a47d36956417205828f9df2f61">applyFormat</a>( $_column, $_model-&gt;getAttribute( $_name ), $which );
<span class="comment">//                  if ( $_value ) CPSLog::trace( __METHOD__, &#39;Apply format to &#39; . $_name . &#39; [&#39; . $_model-&gt;{$_name} . &#39; -&gt; &#39; . $_value . &#39;]&#39; );</span>
                    $_model-&gt;setAttribute( $_name, $_value );
                }
            }
        }

        <span class="comment">//  Papa don&#39;t preach...</span>
        <span class="keywordflow">return</span> parent::$which( $event );
    }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSDataFormatBehavior_a976f0f5f7deb665d9a23c095f407ef2e_cgraph.png" border="0" usemap="#classCPSDataFormatBehavior_a976f0f5f7deb665d9a23c095f407ef2e_cgraph" alt=""/></div>
<map name="classCPSDataFormatBehavior_a976f0f5f7deb665d9a23c095f407ef2e_cgraph" id="classCPSDataFormatBehavior_a976f0f5f7deb665d9a23c095f407ef2e_cgraph">
<area shape="rect" id="node3" href="classCPSDataFormatBehavior.html#a826182a47d36956417205828f9df2f61" title="applyFormat" alt="" coords="156,5,257,35"/><area shape="rect" id="node5" href="classCPSDataFormatBehavior.html#aad7e15be495655b98d24409956a439bc" title="getFormat" alt="" coords="308,5,396,35"/><area shape="rect" id="node7" href="classCPSHelperBase.html#a666bf0c7e9a3320e2e1ca2d9b65301e6" title="CPSHelperBase::nvl" alt="" coords="447,5,593,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCPSDataFormatBehavior_a976f0f5f7deb665d9a23c095f407ef2e_icgraph.png" border="0" usemap="#classCPSDataFormatBehavior_a976f0f5f7deb665d9a23c095f407ef2e_icgraph" alt=""/></div>
<map name="classCPSDataFormatBehavior_a976f0f5f7deb665d9a23c095f407ef2e_icgraph" id="classCPSDataFormatBehavior_a976f0f5f7deb665d9a23c095f407ef2e_icgraph">
<area shape="rect" id="node3" href="classCPSDataFormatBehavior.html#a3b701d16073e1628451c7dc1929b66bb" title="afterFind" alt="" coords="173,5,251,35"/><area shape="rect" id="node5" href="classCPSDataFormatBehavior.html#a5c1ea11a48a8c9bde21ef9a7d391d396" title="afterValidate" alt="" coords="161,59,263,88"/><area shape="rect" id="node7" href="classCPSDataFormatBehavior.html#a0d137abaa3f9f1ae67349e02c627ac26" title="beforeFind" alt="" coords="168,112,256,141"/><area shape="rect" id="node9" href="classCPSDataFormatBehavior.html#a586e177c0e7073ec63f7ccd6546ff3fd" title="beforeValidate" alt="" coords="155,165,269,195"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad6a3597dea15d20d248e402b0d162490"></a><!-- doxytag: member="CPSDataFormatBehavior::setDefaultSort" ref="ad6a3597dea15d20d248e402b0d162490" args="($sValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setDefaultSort </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>sValue</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the default sort </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$sValue </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classCPSDataFormatBehavior.html#afeb8c05903b3b31d7ec509c3e1628e52">getDefaultSort</a> </dd></dl>

<p>Definition at line <a class="el" href="CPSDataFormatBehavior_8php_source.html#l00104">104</a> of file <a class="el" href="CPSDataFormatBehavior_8php_source.html">CPSDataFormatBehavior.php</a>.</p>

<p><div class="fragment"><pre class="fragment">{ $this-&gt;_defaultSort = $sValue; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa062fdbc726af94e788936d25ee531e4"></a><!-- doxytag: member="CPSDataFormatBehavior::setFormat" ref="aa062fdbc726af94e788936d25ee531e4" args="($which= 'afterValidate', $type= 'date', $sFormat= 'm/d/Y')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setFormat </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>which</em> = <code>'afterValidate'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>type</em> = <code>'date'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>sFormat</em> = <code>'m/d/Y'</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets a format</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$which </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$sFormat </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CPSDataFormatBehavior_8php_source.html#l00084">84</a> of file <a class="el" href="CPSDataFormatBehavior_8php_source.html">CPSDataFormatBehavior.php</a>.</p>

<p><div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( ! isset( $this-&gt;_dateFormat[ $which ] ) )
            $this-&gt;_dateFormat[ $which ] = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();

        $this-&gt;_dateFormat[ $which ][ $type ] = $sFormat;
    }
</pre></div></p>

</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="a83797c01913ca1386c15c67d871c69ef"></a><!-- doxytag: member="CPSDataFormatBehavior::$_dateFormat" ref="a83797c01913ca1386c15c67d871c69ef" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_dateFormat<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
        <span class="stringliteral">&#39;afterFind&#39;</span> =&gt; <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
            <span class="stringliteral">&#39;date&#39;</span> =&gt; <span class="stringliteral">&#39;m/d/Y&#39;</span>,
            <span class="stringliteral">&#39;datetime&#39;</span> =&gt; <span class="stringliteral">&#39;m/d/Y H:i:s&#39;</span>,
        ),
        <span class="stringliteral">&#39;afterValidate&#39;</span> =&gt; <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
            <span class="stringliteral">&#39;date&#39;</span> =&gt; <span class="stringliteral">&#39;Y-m-d&#39;</span>,
            <span class="stringliteral">&#39;datetime&#39;</span> =&gt; <span class="stringliteral">&#39;Y-m-d H:i:s&#39;</span>,
        ),
    )
</pre></div>
<p>Definition at line <a class="el" href="CPSDataFormatBehavior_8php_source.html#l00043">43</a> of file <a class="el" href="CPSDataFormatBehavior_8php_source.html">CPSDataFormatBehavior.php</a>.</p>

</div>
</div>
<a class="anchor" id="a295ce02e7bc05505ee0456d4292c3418"></a><!-- doxytag: member="CPSDataFormatBehavior::$_defaultSort" ref="a295ce02e7bc05505ee0456d4292c3418" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_defaultSort<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="CPSDataFormatBehavior_8php_source.html#l00060">60</a> of file <a class="el" href="CPSDataFormatBehavior_8php_source.html">CPSDataFormatBehavior.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/usr/local/yiixl/lib/original/behaviors/<a class="el" href="CPSDataFormatBehavior_8php_source.html">CPSDataFormatBehavior.php</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Mar 24 2011 20:11:40 for "The Yii Extension Library Of Doom!" by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
