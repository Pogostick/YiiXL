<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>&quot;The Yii Extension Library Of Doom!&quot;: /usr/local/yiixl/lib/original/base/CPSOption.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>/usr/local/yiixl/lib/original/base/CPSOption.php</h1>  </div>
</div>
<div class="contents">
<a href="CPSOption_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00075"></a><a class="code" href="classCPSOption.html">00075</a> <span class="keyword">class </span><a class="code" href="classCPSOption.html">CPSOption</a> <span class="keyword">implements</span> <a class="code" href="interfaceIPSBase.html">IPSBase</a>
<a name="l00076"></a>00076 {
<a name="l00077"></a>00077     <span class="comment">//********************************************************************************</span>
<a name="l00078"></a>00078     <span class="comment">//* Constants</span>
<a name="l00079"></a>00079     <span class="comment">//********************************************************************************</span>
<a name="l00080"></a>00080 
<a name="l00084"></a><a class="code" href="classCPSOption.html#aa978b1a784800b7a941c6a5871f77e2b">00084</a>     <span class="keyword">const</span>   <a class="code" href="classCPSOption.html#aa978b1a784800b7a941c6a5871f77e2b">RPT_TYPE</a>            = <span class="stringliteral">&#39;__psO#t&#39;</span>;
<a name="l00085"></a><a class="code" href="classCPSOption.html#a269e636bbdcfa28179f931679d48643f">00085</a>     <span class="keyword">const</span>   <a class="code" href="classCPSOption.html#a269e636bbdcfa28179f931679d48643f">RPT_DEFAULT</a>         = <span class="stringliteral">&#39;__psO#d&#39;</span>;
<a name="l00086"></a><a class="code" href="classCPSOption.html#ac03762b40afa4745a976b2fd4b5cba8c">00086</a>     <span class="keyword">const</span>   <a class="code" href="classCPSOption.html#ac03762b40afa4745a976b2fd4b5cba8c">RPT_EXTERNAL_NAME</a>   = <span class="stringliteral">&#39;__psO#e&#39;</span>;
<a name="l00087"></a><a class="code" href="classCPSOption.html#a16a4aecf79ed0a222f179f0e44404099">00087</a>     <span class="keyword">const</span>   <a class="code" href="classCPSOption.html#a16a4aecf79ed0a222f179f0e44404099">RPT_REQUIRED</a>        = <span class="stringliteral">&#39;__psO#r&#39;</span>;
<a name="l00088"></a><a class="code" href="classCPSOption.html#a15957bc41386cbb54751a774d2154721">00088</a>     <span class="keyword">const</span>   <a class="code" href="classCPSOption.html#a15957bc41386cbb54751a774d2154721">RPT_ALLOWED</a>         = <span class="stringliteral">&#39;__psO#a&#39;</span>;
<a name="l00089"></a><a class="code" href="classCPSOption.html#a1269232ea10c2579723e52653047616c">00089</a>     <span class="keyword">const</span>   <a class="code" href="classCPSOption.html#a1269232ea10c2579723e52653047616c">RPT_PRIVATE</a>         = <span class="stringliteral">&#39;__psO#p&#39;</span>;
<a name="l00090"></a>00090 
<a name="l00094"></a><a class="code" href="classCPSOption.html#a5ec047f3082def78aa49930b7b56102b">00094</a>     <span class="keyword">protected</span> <a class="code" href="classCPSOption.html#a5ec047f3082def78aa49930b7b56102b">$arValidTypes</a> = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(
<a name="l00095"></a>00095         <span class="stringliteral">&#39;string&#39;</span>,
<a name="l00096"></a>00096         <span class="stringliteral">&#39;int&#39;</span>,
<a name="l00097"></a>00097         <span class="stringliteral">&#39;integer&#39;</span>,
<a name="l00098"></a>00098         <span class="stringliteral">&#39;bool&#39;</span>,
<a name="l00099"></a>00099         <span class="stringliteral">&#39;boolean&#39;</span>,
<a name="l00100"></a>00100         <span class="stringliteral">&#39;array&#39;</span>,
<a name="l00101"></a>00101         <span class="stringliteral">&#39;double&#39;</span>,
<a name="l00102"></a>00102         <span class="stringliteral">&#39;object&#39;</span>,
<a name="l00103"></a>00103         <span class="stringliteral">&#39;mixed&#39;</span>,
<a name="l00104"></a>00104     );
<a name="l00105"></a><a class="code" href="classCPSOption.html#af95d42816651ce87c91ac3df15b2cc63">00105</a>     <span class="keyword">public</span> function <a class="code" href="classCPSOption.html#af95d42816651ce87c91ac3df15b2cc63">isValidType</a>( $sType = null ) { <span class="keywordflow">return</span> in_array( <a class="code" href="classCPSHelperBase.html#a666bf0c7e9a3320e2e1ca2d9b65301e6">CPSHelperBase::nvl</a>( $sType, $this-&gt;<a class="code" href="classCPSOption.html#a8803b9be3676330a9791b823d0d3f5f6">getRule</a>( self::RPT_TYPE ) ), $this-&gt;arValidTypes ); }
<a name="l00106"></a>00106 
<a name="l00107"></a>00107     <span class="comment">//********************************************************************************</span>
<a name="l00108"></a>00108     <span class="comment">//* Member Variables</span>
<a name="l00109"></a>00109     <span class="comment">//********************************************************************************</span>
<a name="l00110"></a>00110 
<a name="l00115"></a><a class="code" href="classCPSOption.html#a1c89defaf5aa7ac8e526065e8572f580">00115</a>     <span class="keyword">protected</span> <a class="code" href="classCPSOption.html#a1c89defaf5aa7ac8e526065e8572f580">$_name</a>;
<a name="l00116"></a>00116 
<a name="l00121"></a><a class="code" href="classCPSOption.html#a599c02a4727030b8ecc632f7c8adafeb">00121</a>     <span class="keyword">protected</span> <a class="code" href="classCPSOption.html#a599c02a4727030b8ecc632f7c8adafeb">$_value</a> = null;
<a name="l00122"></a>00122 
<a name="l00127"></a><a class="code" href="classCPSOption.html#aead9fa97d5e656f3765bf21735a19167">00127</a>     <span class="keyword">protected</span> <a class="code" href="classCPSOption.html#aead9fa97d5e656f3765bf21735a19167">$_rulePattern</a> = null;
<a name="l00128"></a>00128 
<a name="l00129"></a>00129     <span class="comment">//********************************************************************************</span>
<a name="l00130"></a>00130     <span class="comment">//* Constructor</span>
<a name="l00131"></a>00131     <span class="comment">//********************************************************************************</span>
<a name="l00132"></a>00132 
<a name="l00140"></a><a class="code" href="classCPSOption.html#acadb0b05b1c434157e21e0551c2ca725">00140</a>     <span class="keyword">public</span> function <a class="code" href="classCPSOption.html#acadb0b05b1c434157e21e0551c2ca725">__construct</a>( $name, $value = null, $rulePattern = null )
<a name="l00141"></a>00141     {
<a name="l00142"></a>00142         <span class="comment">//  Private?</span>
<a name="l00143"></a>00143         $_isPrivate = ( $name != ( $_cleanName = rtrim( trim( $name ), <span class="charliteral">&#39;_&#39;</span> ) ) );
<a name="l00144"></a>00144 
<a name="l00145"></a>00145         <span class="comment">//  Build a ruleset</span>
<a name="l00146"></a>00146         $this-&gt;<a class="code" href="classCPSOption.html#af26f441186ec53723e892616baec1c73">setRules</a>( $rulePattern, $_isPrivate );
<a name="l00147"></a>00147 
<a name="l00148"></a>00148         <span class="comment">//  Set values</span>
<a name="l00149"></a>00149         $this-&gt;_name = $_cleanName;
<a name="l00150"></a>00150         $this-&gt;_value = <a class="code" href="classCPSHelperBase.html#a666bf0c7e9a3320e2e1ca2d9b65301e6">CPSHelperBase::nvl</a>( $value, $this-&gt;<a class="code" href="classCPSOption.html#af9b9401c63918169457fe8516324950f">getDefaultValue</a>() );
<a name="l00151"></a>00151     }
<a name="l00152"></a>00152 
<a name="l00153"></a>00153     <span class="comment">//********************************************************************************</span>
<a name="l00154"></a>00154     <span class="comment">//* Property Accessors</span>
<a name="l00155"></a>00155     <span class="comment">//********************************************************************************</span>
<a name="l00156"></a>00156 
<a name="l00161"></a><a class="code" href="classCPSOption.html#a3d0963e68bb313b163a73f2803c64600">00161</a>     <span class="keyword">public</span> function <a class="code" href="classCPSOption.html#a3d0963e68bb313b163a73f2803c64600">getName</a>() { <span class="keywordflow">return</span> $this-&gt;_name; }
<a name="l00162"></a>00162 
<a name="l00168"></a><a class="code" href="classCPSOption.html#aabb9562c82b18321ed0510932298be7c">00168</a>     <span class="keyword">public</span> function <a class="code" href="classCPSOption.html#aabb9562c82b18321ed0510932298be7c">getValue</a>( $defaultIfNull = <span class="keyword">false</span> ) { <span class="keywordflow">return</span> $defaultIfNull ? <a class="code" href="classCPSHelperBase.html#a666bf0c7e9a3320e2e1ca2d9b65301e6">CPSHelperBase::nvl</a>( $this-&gt;_value, $this-&gt;<a class="code" href="classCPSOption.html#af9b9401c63918169457fe8516324950f">getDefaultValue</a>() ) : $this-&gt;_value; }
<a name="l00169"></a>00169 
<a name="l00174"></a><a class="code" href="classCPSOption.html#a7494441b6ed08a391704971873f31432">00174</a>     <span class="keyword">public</span> function <a class="code" href="classCPSOption.html#a7494441b6ed08a391704971873f31432">setValue</a>( $value ) { $this-&gt;_value = $value; }
<a name="l00175"></a>00175 
<a name="l00181"></a><a class="code" href="classCPSOption.html#a8803b9be3676330a9791b823d0d3f5f6">00181</a>     <span class="keyword">public</span> function <a class="code" href="classCPSOption.html#a8803b9be3676330a9791b823d0d3f5f6">getRule</a>( $key, $defaultValue = null ) { <span class="keywordflow">return</span> <a class="code" href="classCPSHelperBase.html#a557243d020090bff2b3cb6cdb03d31aa">CPSHelperBase::o</a>( $this-&gt;_rulePattern, $key, $defaultValue ); }
<a name="l00182"></a>00182 
<a name="l00187"></a><a class="code" href="classCPSOption.html#a85c15a4eb3192c0e23b1a7355052ba18">00187</a>     <span class="keyword">public</span> function <a class="code" href="classCPSOption.html#a85c15a4eb3192c0e23b1a7355052ba18">getRules</a>() { <span class="keywordflow">return</span> $this-&gt;_rulePattern; }
<a name="l00188"></a>00188 
<a name="l00194"></a><a class="code" href="classCPSOption.html#a7449ef6f7e3fed98d2b777570d25a11c">00194</a>     <span class="keyword">public</span> function <a class="code" href="classCPSOption.html#a7449ef6f7e3fed98d2b777570d25a11c">setRule</a>( $key, $value ) { <a class="code" href="classCPSHelperBase.html#a68ffb34193bb1fc4e9ba07af567b1641">CPSHelperBase::so</a>( $this-&gt;_rulePattern, $key, $value ); }
<a name="l00195"></a>00195 
<a name="l00200"></a><a class="code" href="classCPSOption.html#af26f441186ec53723e892616baec1c73">00200</a>     <span class="keyword">public</span> function <a class="code" href="classCPSOption.html#af26f441186ec53723e892616baec1c73">setRules</a>( $rulePattern, $private = <span class="keyword">false</span> ) { $this-&gt;_rulePattern = <a class="code" href="classCPSOptionHelper.html#af245193a05c6d9de1d9fec6239b9b14b">CPSOptionHelper::parseRulePattern</a>( $rulePattern, $private ); }
<a name="l00201"></a>00201 
<a name="l00202"></a>00202     <span class="comment">//********************************************************************************</span>
<a name="l00203"></a>00203     <span class="comment">//* Rule Checkers/Properties</span>
<a name="l00204"></a>00204     <span class="comment">//********************************************************************************</span>
<a name="l00205"></a>00205 
<a name="l00210"></a><a class="code" href="classCPSOption.html#ad21b6f2377a3af9fcacb3bd31451db2d">00210</a>     <span class="keyword">public</span> function <a class="code" href="classCPSOption.html#ad21b6f2377a3af9fcacb3bd31451db2d">getIsRequired</a>() { <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classCPSOption.html#a8803b9be3676330a9791b823d0d3f5f6">getRule</a>( self::RPT_REQUIRED, <span class="keyword">false</span> ); }
<a name="l00211"></a><a class="code" href="classCPSOption.html#a960646066f35999ba82ba1e749eedd4a">00211</a>     <span class="keyword">public</span> function <a class="code" href="classCPSOption.html#a960646066f35999ba82ba1e749eedd4a">setIsRequired</a>( $bValue ) { $this-&gt;<a class="code" href="classCPSOption.html#a7449ef6f7e3fed98d2b777570d25a11c">setRule</a>( self::RPT_REQUIRED, $bValue ); }
<a name="l00212"></a>00212 
<a name="l00217"></a><a class="code" href="classCPSOption.html#abfb7b68551a4c558d2fb5b25f1e5f7c5">00217</a>     <span class="keyword">public</span> function <a class="code" href="classCPSOption.html#abfb7b68551a4c558d2fb5b25f1e5f7c5">getIsPrivate</a>() { <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classCPSOption.html#a8803b9be3676330a9791b823d0d3f5f6">getRule</a>( self::RPT_PRIVATE, <span class="keyword">false</span> ); }
<a name="l00218"></a><a class="code" href="classCPSOption.html#acba98ae8b1edffabd170f04891c25f94">00218</a>     <span class="keyword">public</span> function <a class="code" href="classCPSOption.html#acba98ae8b1edffabd170f04891c25f94">setIsPrivate</a>( $bValue ) { $this-&gt;<a class="code" href="classCPSOption.html#a7449ef6f7e3fed98d2b777570d25a11c">setRule</a>( self::RPT_PRIVATE, $bValue ); }
<a name="l00219"></a>00219 
<a name="l00224"></a><a class="code" href="classCPSOption.html#af9b9401c63918169457fe8516324950f">00224</a>     <span class="keyword">public</span> function <a class="code" href="classCPSOption.html#af9b9401c63918169457fe8516324950f">getDefaultValue</a>() { <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classCPSOption.html#a8803b9be3676330a9791b823d0d3f5f6">getRule</a>( self::RPT_DEFAULT ); }
<a name="l00225"></a><a class="code" href="classCPSOption.html#a2a04219362d622a6d86072bae708469a">00225</a>     <span class="keyword">public</span> function <a class="code" href="classCPSOption.html#a2a04219362d622a6d86072bae708469a">setDefaultValue</a>( $value ) { $this-&gt;<a class="code" href="classCPSOption.html#a7449ef6f7e3fed98d2b777570d25a11c">setRule</a>( self::RPT_DEFAULT, $value ); }
<a name="l00226"></a>00226 
<a name="l00231"></a><a class="code" href="classCPSOption.html#a3028a37affd62d3f7fe0052a2df42c28">00231</a>     <span class="keyword">public</span> function <a class="code" href="classCPSOption.html#a3028a37affd62d3f7fe0052a2df42c28">getExternalName</a>() { <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classCPSOption.html#a8803b9be3676330a9791b823d0d3f5f6">getRule</a>( self::RPT_EXTERNAL_NAME, $this-&gt;_name ); }
<a name="l00232"></a><a class="code" href="classCPSOption.html#a9efd949e8d6199e3b763606fe2424159">00232</a>     <span class="keyword">public</span> function <a class="code" href="classCPSOption.html#a9efd949e8d6199e3b763606fe2424159">setExternalName</a>( $name ) { $this-&gt;<a class="code" href="classCPSOption.html#a7449ef6f7e3fed98d2b777570d25a11c">setRule</a>( self::RPT_EXTERNAL_NAME, $name ); }
<a name="l00233"></a>00233 
<a name="l00238"></a><a class="code" href="classCPSOption.html#a2f1e46cc33a0f8eb5075dd312c3a189b">00238</a>     <span class="keyword">public</span> function <a class="code" href="classCPSOption.html#a2f1e46cc33a0f8eb5075dd312c3a189b">getOptionType</a>() { <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classCPSOption.html#a8803b9be3676330a9791b823d0d3f5f6">getRule</a>( self::RPT_TYPE, <span class="stringliteral">&#39;string&#39;</span> ); }
<a name="l00239"></a><a class="code" href="classCPSOption.html#a0312d1a729054ab2ab1cb63920d7e7bc">00239</a>     <span class="keyword">public</span> function <a class="code" href="classCPSOption.html#a0312d1a729054ab2ab1cb63920d7e7bc">setOptionType</a>( $sType ) { <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classCPSOption.html#a7449ef6f7e3fed98d2b777570d25a11c">setRule</a>( self::RPT_TYPE, $sType ); }
<a name="l00240"></a>00240 
<a name="l00245"></a><a class="code" href="classCPSOption.html#adf60de89939a47330ff3273b62a7d60c">00245</a>     <span class="keyword">public</span> function <a class="code" href="classCPSOption.html#adf60de89939a47330ff3273b62a7d60c">getAllowed</a>() { <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classCPSOption.html#a8803b9be3676330a9791b823d0d3f5f6">getRule</a>( self::RPT_ALLOWED ); }
<a name="l00246"></a>00246 
<a name="l00251"></a><a class="code" href="classCPSOption.html#a3b21d5943795b97b62d56582bf4bfdc6">00251</a>     <span class="keyword">public</span> function <a class="code" href="classCPSOption.html#a3b21d5943795b97b62d56582bf4bfdc6">setAllowed</a>( $value ) { <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classCPSOption.html#a7449ef6f7e3fed98d2b777570d25a11c">setRule</a>( self::RPT_ALLOWED, $value ); }
<a name="l00252"></a>00252 
<a name="l00253"></a>00253     <span class="comment">//********************************************************************************</span>
<a name="l00254"></a>00254     <span class="comment">//* Miscellaneous</span>
<a name="l00255"></a>00255     <span class="comment">//********************************************************************************</span>
<a name="l00256"></a>00256 
<a name="l00257"></a>00257     <span class="comment">/***</span>
<a name="l00258"></a>00258 <span class="comment">     * Used in a string context, this object returns its value.</span>
<a name="l00259"></a>00259 <span class="comment">     * @return mixed</span>
<a name="l00260"></a>00260 <span class="comment">     */</span>
<a name="l00261"></a><a class="code" href="classCPSOption.html#a7516ca30af0db3cdbf9a7739b48ce91d">00261</a>     <span class="keyword">public</span> function <a class="code" href="classCPSOption.html#a7516ca30af0db3cdbf9a7739b48ce91d">__toString</a>()
<a name="l00262"></a>00262     {
<a name="l00263"></a>00263         <span class="keywordflow">return</span> $this-&gt;_value;
<a name="l00264"></a>00264     }
<a name="l00265"></a>00265 
<a name="l00266"></a>00266 }
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Mar 24 2011 20:11:38 for "The Yii Extension Library Of Doom!" by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
