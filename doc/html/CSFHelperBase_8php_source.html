<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>&quot;The Yii Extension Library Of Doom!&quot;: /usr/local/yiixl/lib/original/components/snowframe/helpers/CSFHelperBase.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>/usr/local/yiixl/lib/original/components/snowframe/helpers/CSFHelperBase.php</h1>  </div>
</div>
<div class="contents">
<a href="CSFHelperBase_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00023"></a><a class="code" href="classCSFHelperBase.html">00023</a> <span class="keyword">class </span><a class="code" href="classCSFHelperBase.html">CSFHelperBase</a> <span class="keyword">extends</span> <a class="code" href="classCPSHelperBase.html">CPSHelperBase</a>
<a name="l00024"></a>00024 {
<a name="l00031"></a><a class="code" href="classCSFHelperBase.html#abb5e3b20530f28ae782f03229e94ad36">00031</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCSFHelperBase.html#abb5e3b20530f28ae782f03229e94ad36">array_to_string</a>( $array )
<a name="l00032"></a>00032     {
<a name="l00033"></a>00033         $retval = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00034"></a>00034         $null_value = <span class="stringliteral">&quot;^^^&quot;</span>;
<a name="l00035"></a>00035 
<a name="l00036"></a>00036        <span class="keywordflow">if</span> ( $array != null &amp;&amp; is_array( $array ) )
<a name="l00037"></a>00037        {
<a name="l00038"></a>00038             <span class="keywordflow">foreach</span> ( $array as $index =&gt; $val )
<a name="l00039"></a>00039             {
<a name="l00040"></a>00040                 <span class="keywordflow">if</span> ( gettype( $val ) == <span class="stringliteral">&#39;array&#39;</span> )
<a name="l00041"></a>00041                     $value = <span class="stringliteral">&#39;^^array^&#39;</span> . <a class="code" href="classCSFHelperBase.html#abb5e3b20530f28ae782f03229e94ad36">SF_Helpers::array_to_string</a>( $val );
<a name="l00042"></a>00042                 <span class="keywordflow">else</span>
<a name="l00043"></a>00043                     $value = $val;
<a name="l00044"></a>00044 
<a name="l00045"></a>00045                 <span class="keywordflow">if</span> ( !$value )
<a name="l00046"></a>00046                     $value = $null_value;
<a name="l00047"></a>00047 
<a name="l00048"></a>00048                $retval .= urlencode( base64_encode( $index ) ) . <span class="charliteral">&#39;|&#39;</span> . urlencode( base64_encode( $value ) ) . <span class="stringliteral">&#39;||&#39;</span>;
<a name="l00049"></a>00049            }
<a name="l00050"></a>00050        }
<a name="l00051"></a>00051 
<a name="l00052"></a>00052        <span class="keywordflow">return</span>( urlencode( substr( $retval, 0, -2 ) ) );
<a name="l00053"></a>00053     }
<a name="l00054"></a>00054 
<a name="l00061"></a><a class="code" href="classCSFHelperBase.html#a711114d7dbe0c5570cbe3dfbec4181ce">00061</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCSFHelperBase.html#a711114d7dbe0c5570cbe3dfbec4181ce">string_to_array</a>( $string )
<a name="l00062"></a>00062     {
<a name="l00063"></a>00063         $retval = <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>();
<a name="l00064"></a>00064         $string = urldecode( $string );
<a name="l00065"></a>00065         $tmp_array = explode( <span class="stringliteral">&#39;||&#39;</span>, $string );
<a name="l00066"></a>00066         $null_value = urlencode( base64_encode( <span class="stringliteral">&quot;^^^&quot;</span> ) );
<a name="l00067"></a>00067 
<a name="l00068"></a>00068         <span class="keywordflow">foreach</span> ( $tmp_array as $tmp_val )
<a name="l00069"></a>00069         {
<a name="l00070"></a>00070             <span class="keywordflow">if</span> ( $tmp_val )
<a name="l00071"></a>00071             {
<a name="l00072"></a>00072                 $decoded_index = $index = $value = null;
<a name="l00073"></a>00073                 $arTemp = explode( <span class="charliteral">&#39;|&#39;</span>, $tmp_val );
<a name="l00074"></a>00074                 
<a name="l00075"></a>00075                 <span class="keywordflow">if</span> ( is_array( $arTemp ) &amp;&amp; <span class="keyword">sizeof</span>( $arTemp ) &gt; 1 )
<a name="l00076"></a>00076                 {
<a name="l00077"></a>00077                     list( $index, $value ) = $arTemp;
<a name="l00078"></a>00078                     $decoded_index = base64_decode( urldecode( $index ) );
<a name="l00079"></a>00079 
<a name="l00080"></a>00080                     <span class="keywordflow">if</span> ( $value != $null_value )
<a name="l00081"></a>00081                     {
<a name="l00082"></a>00082                         $val = base64_decode( urldecode( $value ) );
<a name="l00083"></a>00083                         <span class="keywordflow">if</span> ( substr( $val, 0, 8 ) == <span class="stringliteral">&#39;^^array^&#39;</span> )
<a name="l00084"></a>00084                             $val = <a class="code" href="classCSFHelperBase.html#a711114d7dbe0c5570cbe3dfbec4181ce">SF_Helpers::string_to_array</a>( substr( $val, 8 ) );
<a name="l00085"></a>00085 
<a name="l00086"></a>00086                         $retval[ $decoded_index ] = $val;
<a name="l00087"></a>00087                     }
<a name="l00088"></a>00088                     <span class="keywordflow">else</span>
<a name="l00089"></a>00089                         $retval[ $decoded_index ] = NULL;
<a name="l00090"></a>00090                 }
<a name="l00091"></a>00091             }
<a name="l00092"></a>00092             <span class="keywordflow">else</span>
<a name="l00093"></a>00093                 error_log( <span class="stringliteral">&quot;bogus array: [{$tmp_val}]&quot;</span>,0);
<a name="l00094"></a>00094         }
<a name="l00095"></a>00095 
<a name="l00096"></a>00096         <span class="keywordflow">return</span>( $retval );
<a name="l00097"></a>00097     }
<a name="l00098"></a>00098 
<a name="l00107"></a><a class="code" href="classCSFHelperBase.html#a3afb921a061161738de5e471984e1fcf">00107</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCPSHelperBase.html#a8bc323d82e5265f16d9cd356d0a02dba">getRequest</a>( $sUrl, $sQueryString = <span class="stringliteral">&quot;&quot;</span>, $sUserAgent = <span class="stringliteral">&quot;SnowFrame Object Framework PHP5 Client 1.00a (pogostick.com)&quot;</span> )
<a name="l00108"></a>00108     {
<a name="l00109"></a>00109         <span class="keywordflow">if</span> ( function_exists( <span class="stringliteral">&#39;curl_init&#39;</span> ) )
<a name="l00110"></a>00110         {
<a name="l00111"></a>00111             <span class="comment">// Use CURL if installed...</span>
<a name="l00112"></a>00112             $oConn = curl_init();
<a name="l00113"></a>00113             curl_setopt( $oConn, CURLOPT_URL, $sUrl . <span class="stringliteral">&quot;?&quot;</span> . $sQueryString  );
<a name="l00114"></a>00114             curl_setopt( $oConn, CURLOPT_RETURNTRANSFER, <span class="keyword">true</span> );
<a name="l00115"></a>00115             curl_setopt( $oConn, CURLOPT_USERAGENT, $sUserAgent );
<a name="l00116"></a>00116             curl_setopt( $oConn, CURLOPT_TIMEOUT, 60 );
<a name="l00117"></a>00117 <span class="comment">//          $_fTime = microtime( true );</span>
<a name="l00118"></a>00118             $sResult = curl_exec( $oConn );
<a name="l00119"></a>00119 <span class="comment">//          error_log( &quot;SF_Helpers::getRequest [&quot; . ( microtime( true ) - $_fTime ) . &quot; secs] [&quot; . $sUrl . &#39;?&#39; . $sQueryString . &quot;]&quot;, 0 );</span>
<a name="l00120"></a>00120             curl_close( $oConn );
<a name="l00121"></a>00121         }
<a name="l00122"></a>00122         <span class="keywordflow">else</span>
<a name="l00123"></a>00123         {
<a name="l00124"></a>00124             <span class="comment">// Non-CURL based version...</span>
<a name="l00125"></a>00125             $oContext =
<a name="l00126"></a>00126                 <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(<span class="stringliteral">&#39;http&#39;</span> =&gt;
<a name="l00127"></a>00127                     <a class="code" href="admin_8php.html#a2394bd91cde70158acb50a4a7f860ab5">array</a>(<span class="stringliteral">&#39;method&#39;</span> =&gt; <span class="stringliteral">&#39;POST&#39;</span>,
<a name="l00128"></a>00128                         <span class="stringliteral">&#39;header&#39;</span> =&gt; <span class="stringliteral">&#39;Content-type: application/x-www-form-urlencoded&#39;</span>.<span class="stringliteral">&quot;\r\n&quot;</span>.
<a name="l00129"></a>00129                         <span class="stringliteral">&#39;User-Agent: &#39;</span> . $sUserAgent .<span class="stringliteral">&quot;\r\n&quot;</span>.
<a name="l00130"></a>00130                         <span class="stringliteral">&#39;Content-length: &#39;</span> . strlen( $sQueryString ),
<a name="l00131"></a>00131                         <span class="stringliteral">&#39;content&#39;</span> =&gt; $post_string )
<a name="l00132"></a>00132                     );
<a name="l00133"></a>00133 
<a name="l00134"></a>00134             $oContextId = stream_context_create( $oContext );
<a name="l00135"></a>00135 
<a name="l00136"></a>00136             $oSocket = fopen( $sUrl . <span class="stringliteral">&quot;?&quot;</span> . $sQueryString, <span class="charliteral">&#39;r&#39;</span>, <span class="keyword">false</span>, $oContextId );
<a name="l00137"></a>00137 
<a name="l00138"></a>00138             <span class="keywordflow">if</span> ( $oSocket )
<a name="l00139"></a>00139             {
<a name="l00140"></a>00140                 $sResult = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00141"></a>00141 
<a name="l00142"></a>00142                 <span class="keywordflow">while</span> ( !feof( $oSocket ) )
<a name="l00143"></a>00143                     $sResult .= fgets( $oSocket, 4096 );
<a name="l00144"></a>00144 
<a name="l00145"></a>00145                 fclose( $oSocket );
<a name="l00146"></a>00146             }
<a name="l00147"></a>00147         }
<a name="l00148"></a>00148 
<a name="l00149"></a>00149         <span class="keywordflow">return</span>( $sResult );
<a name="l00150"></a>00150     }
<a name="l00151"></a>00151 
<a name="l00158"></a><a class="code" href="classCSFHelperBase.html#ab6d665a16096c6c1ab8ae2ef8214a847">00158</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCSFHelperBase.html#ab6d665a16096c6c1ab8ae2ef8214a847">trimLines</a>( $string )
<a name="l00159"></a>00159     {
<a name="l00160"></a>00160         <span class="keywordflow">return</span>( preg_replace(<span class="stringliteral">&quot;/(^[\r\n]*|[\r\n]+)[\s\t]*[\r\n]+/&quot;</span>, <span class="stringliteral">&quot;\n&quot;</span>, $string) );
<a name="l00161"></a>00161     }
<a name="l00162"></a>00162 
<a name="l00173"></a><a class="code" href="classCSFHelperBase.html#aef2d4e1f18258000c870a620e0b2f5ca">00173</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCSFHelperBase.html#aef2d4e1f18258000c870a620e0b2f5ca">suckTag</a>( $sData, $sTag, $sTagEnd, $iStart = 0, $sNear = null )
<a name="l00174"></a>00174     {
<a name="l00175"></a>00175         $_sResult = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00176"></a>00176         $_l = strlen( $sTag );
<a name="l00177"></a>00177 
<a name="l00178"></a>00178         <span class="comment">//  If near value given, get position of that as start</span>
<a name="l00179"></a>00179         <span class="keywordflow">if</span> ( $sNear != null )
<a name="l00180"></a>00180         {
<a name="l00181"></a>00181             $_iStart = stripos( $sData, $sNear, $iStart );
<a name="l00182"></a>00182             <span class="keywordflow">if</span> ( $_iStart &gt;= 0 )
<a name="l00183"></a>00183                 $iStart = $_iStart + strlen( $sNear );
<a name="l00184"></a>00184         }
<a name="l00185"></a>00185 
<a name="l00186"></a>00186         $_i = stripos( $sData, $sTag, $iStart );
<a name="l00187"></a>00187         $_k = strlen( $sTagEnd );
<a name="l00188"></a>00188 
<a name="l00189"></a>00189         <span class="keywordflow">if</span> ( $_i &gt;= 0 )
<a name="l00190"></a>00190         {
<a name="l00191"></a>00191             $_j = stripos( $sData, $sTagEnd, $_i + $_l );
<a name="l00192"></a>00192 
<a name="l00193"></a>00193             <span class="keywordflow">if</span> ( $_j &gt;= 0 )
<a name="l00194"></a>00194             {
<a name="l00195"></a>00195                 $iStart = $_i;
<a name="l00196"></a>00196                 $_sResult = substr( $sData, $_i + $_l,  $_j - $_i - $_l );
<a name="l00197"></a>00197             }
<a name="l00198"></a>00198 
<a name="l00199"></a>00199             <span class="keywordflow">return</span>( trim( $_sResult ) );
<a name="l00200"></a>00200         }
<a name="l00201"></a>00201 
<a name="l00202"></a>00202         <span class="keywordflow">return</span>( null );
<a name="l00203"></a>00203     }
<a name="l00204"></a>00204 
<a name="l00216"></a><a class="code" href="classCSFHelperBase.html#a7e9d6928d3527eba3e8eecabb20cce0f">00216</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCSFHelperBase.html#a7e9d6928d3527eba3e8eecabb20cce0f">getPagerString</a>( $iPage = 1, $iLimit = 15, $iTotal = 0, $sId, $sForm, $sUrl = <span class="charliteral">&#39;/&#39;</span>, $sQueryParam = <span class="charliteral">&#39;p&#39;</span> )
<a name="l00217"></a>00217     {
<a name="l00218"></a>00218         $iPrev = $iPage - 1;
<a name="l00219"></a>00219         $iNext = $iPage + 1;
<a name="l00220"></a>00220         $iFirst = 1;
<a name="l00221"></a>00221         $iLast = ceil( $iTotal / $iLimit);
<a name="l00222"></a>00222         $iFirstItem = ( $iLimit * $iPage ) - $iLimit + 1;
<a name="l00223"></a>00223         $iLastItem = min( $iLimit * $iPage, $iTotal );
<a name="l00224"></a>00224         $sOut = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00225"></a>00225 
<a name="l00226"></a>00226         $sOut .= <span class="stringliteral">&quot;&lt;li&gt;&lt;div style=\&quot;display:none\&quot; id=\&quot;{$sId}_spinner\&quot;&gt;&lt;img vspace=\&quot;2\&quot; hspace=\&quot;2\&quot; src=\&quot;http://www.appbarn.com/lib/images/spin20.gif\&quot; border=\&quot;0\&quot; alt=\&quot;\&quot; /&gt;&lt;/div&gt;&lt;/li&gt;&quot;</span>;
<a name="l00227"></a>00227 
<a name="l00228"></a>00228         <span class="keywordflow">if</span> ( $iLast &gt; 1 )
<a name="l00229"></a>00229         {
<a name="l00230"></a>00230             $sOut .= <span class="stringliteral">&#39;&#39;</span>;
<a name="l00231"></a>00231 
<a name="l00232"></a>00232             <span class="keywordflow">if</span> ( $iPage &gt; 2 ) $sOut .= <span class="stringliteral">&quot;&lt;li&gt;&lt;a clicktoshow=\&quot;{$sId}_spinner\&quot; clickrewriteid=\&quot;{$sId}\&quot; clickrewriteform=\&quot;{$sForm}\&quot; clickrewriteurl=\&quot;$sUrl&amp;{$sQueryParam}=$iFirst\&quot; href=\&quot;#\&quot;&gt;First&lt;/a&gt;&lt;/li&gt;&quot;</span>;
<a name="l00233"></a>00233             <span class="keywordflow">if</span> ( $iPage &gt; 1 ) $sOut .= <span class="stringliteral">&quot;&lt;li&gt;&lt;a clicktoshow=\&quot;{$sId}_spinner\&quot; clickrewriteid=\&quot;{$sId}\&quot; clickrewriteform=\&quot;{$sForm}\&quot; clickrewriteurl=\&quot;$sUrl&amp;{$sQueryParam}=$iPrev\&quot; href=\&quot;#\&quot;&gt;Prev&lt;/a&gt;&lt;/li&gt;&quot;</span>;
<a name="l00234"></a>00234 
<a name="l00235"></a>00235             <span class="keywordflow">if</span> ( $iPage &lt; 4 )
<a name="l00236"></a>00236             {
<a name="l00237"></a>00237                 <span class="keywordflow">for</span> ( $iCount = 1; $iCount &lt;= min( 5, $iLast ); $iCount++ )
<a name="l00238"></a>00238                 {
<a name="l00239"></a>00239                     <span class="keywordflow">if</span> ( $iCount == $iPage )
<a name="l00240"></a>00240                         $sOut .= <span class="stringliteral">&quot;&lt;li class=\&quot;current\&quot;&gt;&lt;a clicktoshow=\&quot;{$sId}_spinner\&quot; clickrewriteid=\&quot;{$sId}\&quot; clickrewriteform=\&quot;{$sForm}\&quot; clickrewriteurl=\&quot;$sUrl&amp;{$sQueryParam}=$iCount\&quot; href=\&quot;#\&quot;&gt;$iCount&lt;/a&gt;&lt;/li&gt;&quot;</span>;
<a name="l00241"></a>00241                     <span class="keywordflow">else</span>
<a name="l00242"></a>00242                         $sOut .= <span class="stringliteral">&quot;&lt;li&gt;&lt;a clicktoshow=\&quot;{$sId}_spinner\&quot; clickrewriteid=\&quot;{$sId}\&quot; clickrewriteform=\&quot;{$sForm}\&quot; clickrewriteurl=\&quot;$sUrl&amp;{$sQueryParam}=$iCount\&quot; href=\&quot;#\&quot;&gt;$iCount&lt;/a&gt;&lt;/li&gt;&quot;</span>;
<a name="l00243"></a>00243                 }
<a name="l00244"></a>00244             }
<a name="l00245"></a>00245             elseif ($iPage &gt; $iLast - 3)
<a name="l00246"></a>00246             {
<a name="l00247"></a>00247                 <span class="keywordflow">for</span> ( $iCount = $iLast - min(5, $iLast); $iCount &lt;= $iLast; $iCount++ )
<a name="l00248"></a>00248                 {
<a name="l00249"></a>00249                     <span class="keywordflow">if</span> ($iCount == $iPage)
<a name="l00250"></a>00250                         $sOut .= <span class="stringliteral">&quot;&lt;li class=\&quot;current\&quot;&gt;&lt;a clicktoshow=\&quot;{$sId}_spinner\&quot; clickrewriteid=\&quot;{$sId}\&quot; clickrewriteform=\&quot;{$sForm}\&quot; clickrewriteurl=\&quot;$sUrl&amp;{$sQueryParam}=$iCount\&quot; href=\&quot;#\&quot;&gt;$iCount&lt;/a&gt;&lt;/li&gt;&quot;</span>;
<a name="l00251"></a>00251                     <span class="keywordflow">else</span>
<a name="l00252"></a>00252                         $sOut .= <span class="stringliteral">&quot;&lt;li&gt;&lt;a clicktoshow=\&quot;{$sId}_spinner\&quot; clickrewriteid=\&quot;{$sId}\&quot; clickrewriteform=\&quot;{$sForm}\&quot; clickrewriteurl=\&quot;$sUrl&amp;{$sQueryParam}=$iCount\&quot; href=\&quot;#\&quot;&gt;$iCount&lt;/a&gt;&lt;/li&gt;&quot;</span>;
<a name="l00253"></a>00253                 }
<a name="l00254"></a>00254             }
<a name="l00255"></a>00255             <span class="keywordflow">else</span>
<a name="l00256"></a>00256             {
<a name="l00257"></a>00257                 <span class="keywordflow">for</span>($iCount = $iPage - 2; $iCount &lt;= $iPage + 2; $iCount++)
<a name="l00258"></a>00258                 {
<a name="l00259"></a>00259                     <span class="keywordflow">if</span> ($iCount == $iPage)
<a name="l00260"></a>00260                         $sOut .= <span class="stringliteral">&quot;&lt;li class=\&quot;current\&quot;&gt;&lt;a clicktoshow=\&quot;{$sId}_spinner\&quot; clickrewriteid=\&quot;{$sId}\&quot; clickrewriteform=\&quot;{$sForm}\&quot; clickrewriteurl=\&quot;$sUrl&amp;{$sQueryParam}=$iCount\&quot; href=\&quot;#\&quot;&gt;$iCount&lt;/a&gt;&lt;/li&gt;&quot;</span>;
<a name="l00261"></a>00261                     <span class="keywordflow">else</span>
<a name="l00262"></a>00262                         $sOut .= <span class="stringliteral">&quot;&lt;li&gt;&lt;a clicktoshow=\&quot;{$sId}_spinner\&quot; clickrewriteid=\&quot;{$sId}\&quot; clickrewriteform=\&quot;{$sForm}\&quot; clickrewriteurl=\&quot;$sUrl&amp;{$sQueryParam}=$iCount\&quot; href=\&quot;#\&quot;&gt;$iCount&lt;/a&gt;&lt;/li&gt;&quot;</span>;
<a name="l00263"></a>00263                 }
<a name="l00264"></a>00264             }
<a name="l00265"></a>00265 
<a name="l00266"></a>00266             <span class="comment">//next button</span>
<a name="l00267"></a>00267             <span class="keywordflow">if</span> ($iPage &lt; $iLast)
<a name="l00268"></a>00268                 $sOut .= <span class="stringliteral">&quot;&lt;li&gt;&lt;a clicktoshow=\&quot;{$sId}_spinner\&quot; clickrewriteid=\&quot;{$sId}\&quot; clickrewriteform=\&quot;{$sForm}\&quot; clickrewriteurl=\&quot;$sUrl&amp;{$sQueryParam}=$iNext\&quot; href=\&quot;#\&quot;&gt;Next&lt;/a&gt;&lt;/li&gt;&quot;</span>;
<a name="l00269"></a>00269 
<a name="l00270"></a>00270             <span class="comment">//last button</span>
<a name="l00271"></a>00271             <span class="keywordflow">if</span> ($iPage &lt; $iLast - 1)
<a name="l00272"></a>00272                 $sOut .= <span class="stringliteral">&quot;&lt;li&gt;&lt;a clicktoshow=\&quot;{$sId}_spinner\&quot; clickrewriteid=\&quot;{$sId}\&quot; clickrewriteform=\&quot;{$sForm}\&quot; clickrewriteurl=\&quot;$sUrl&amp;{$sQueryParam}=$iLast\&quot; href=\&quot;#\&quot;&gt;Last&lt;/a&gt;&lt;/li&gt;&quot;</span>;
<a name="l00273"></a>00273 
<a name="l00274"></a>00274             $sOut .= <span class="stringliteral">&#39;&#39;</span>;
<a name="l00275"></a>00275         }
<a name="l00276"></a>00276 
<a name="l00277"></a>00277         $sOut .= <span class="stringliteral">&#39;&#39;</span>;
<a name="l00278"></a>00278         $sOut = <span class="stringliteral">&quot;$sOut&quot;</span>;
<a name="l00279"></a>00279 
<a name="l00280"></a>00280         <span class="keywordflow">return</span>( <span class="stringliteral">&quot;&lt;ul class=\&quot;pagerpro\&quot; id=\&quot;pag_nav_links_{$sId}\&quot;&gt;&quot;</span> . $sOut . <span class="stringliteral">&quot;&lt;/ul&gt;&quot;</span> );
<a name="l00281"></a>00281     }
<a name="l00282"></a>00282 
<a name="l00286"></a><a class="code" href="classCSFHelperBase.html#a384e6feb3f0a9de4e64918ad50329a97">00286</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCSFHelperBase.html#a384e6feb3f0a9de4e64918ad50329a97">isValidEmail</a>( $sEmail = null )
<a name="l00287"></a>00287     {
<a name="l00288"></a>00288         <span class="keywordflow">return</span>( preg_match( <span class="stringliteral">&quot;/^[\d\w\/+!=#|$?%{^&amp;}*`&#39;~-][\d\w\/\.+!=#|$?%{^&amp;}*`&#39;~-]*@[A-Z0-9][A-Z0-9.-]{1,61}[A-Z0-9]\.[A-Z]{2,6}$/ix&quot;</span>, $sEmail ) );
<a name="l00289"></a>00289     }
<a name="l00290"></a>00290 
<a name="l00294"></a><a class="code" href="classCSFHelperBase.html#ae9d18bd127af37c39b484e55f9b95493">00294</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="classCSFHelperBase.html#ae9d18bd127af37c39b484e55f9b95493">dbCleanString</a>( $sSource, $bReturnNULL = <span class="keyword">true</span> )
<a name="l00295"></a>00295     {
<a name="l00296"></a>00296         <span class="keywordflow">if</span> ( $sSource == null &amp;&amp; $bReturnNULL )
<a name="l00297"></a>00297             <span class="keywordflow">return</span>( <span class="stringliteral">&quot;null&quot;</span> );
<a name="l00298"></a>00298 
<a name="l00299"></a>00299         <span class="keywordflow">return</span>( <span class="stringliteral">&quot;&#39;&quot;</span> . mysql_real_escape_string( $sSource ) . <span class="stringliteral">&quot;&#39;&quot;</span> );
<a name="l00300"></a>00300     }
<a name="l00301"></a>00301 }
<a name="l00302"></a>00302 
<a name="l00303"></a>00303 ?&gt;
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Mar 24 2011 20:11:38 for "The Yii Extension Library Of Doom!" by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
